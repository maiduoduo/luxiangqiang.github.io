<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小鹿的博客</title>
  
  <subtitle>Ordinary life , Unwilling to be ordinary code farmers</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-04-17T00:20:42.456Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>小鹿</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>数据分析之爬虫【基本流程】</title>
    <link href="http://yoursite.com/2019/04/15/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8B%E7%88%AC%E8%99%AB%E3%80%90%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%E3%80%91/"/>
    <id>http://yoursite.com/2019/04/15/数据分析之爬虫【基本流程】/</id>
    <published>2019-04-14T16:11:36.357Z</published>
    <updated>2019-04-17T00:20:42.456Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/爬虫基本流程.png" alt=""></p><p>本篇文章教你数据分析爬虫的基本流程！</p><a id="more"></a><h3 id="一、爬虫的基本流程"><a href="#一、爬虫的基本流程" class="headerlink" title="一、爬虫的基本流程"></a>一、爬虫的基本流程</h3><blockquote><p>三个基本流程：</p><ul><li>打开网页: Request 访问网页，得到服务器返回的数据，包括 HTML 和 JSON 数据。</li><li>提取数据: 针对 HTML 使用 XPath 元素定位；针对 JSON 使用 JSON 进行解析。</li><li>保存数据：使用 Pandas 保存数据，最后导出 XSL 或 CSV 文件。</li></ul></blockquote><h4 id="1、Request-访问页面"><a href="#1、Request-访问页面" class="headerlink" title="1、Request 访问页面"></a>1、Request 访问页面</h4><blockquote><p>Request 是 Python 的 HTTP 的客户端库，两种访问方式 GET 和 POST 。请求回来的数据可以通过 <code>text</code> 或 <code>content</code> 来获取 HTML 的正文。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// get 方式</span><br><span class="line">r = requests.get(<span class="string">'http://www.douban.com'</span>)</span><br><span class="line">// post 方式</span><br><span class="line">r = requests.post(<span class="string">'http://xxx.com'</span>, data = &#123;<span class="string">'key'</span>:<span class="string">'value'</span>&#125;)</span><br></pre></td></tr></table></figure><h4 id="2、XPath-定位"><a href="#2、XPath-定位" class="headerlink" title="2、XPath 定位"></a>2、XPath 定位</h4><blockquote><p>XPath 是 XML 的路径语言，通过元素和属性进行导航，定位位置。</p><p>1）XPath 有 100 多个内置函数进行快速的定位。</p><p>2）XPath 需要借助一个解析库 lxml 。例如:</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 得到 HTML 的所有列表项目</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">html = etree.HTML(html)</span><br><span class="line">result = html.xpath(<span class="string">'//li'</span>)</span><br></pre></td></tr></table></figure><p><img src="https://static001.geekbang.org/resource/image/3b/ea/3bcb311361c76bfbeb90d360b21195ea.jpg" alt="img"></p><h4 id="3、JSON-对象"><a href="#3、JSON-对象" class="headerlink" title="3、JSON 对象"></a>3、JSON 对象</h4><blockquote><p>Python 中有 JSON 库，可以将 Python 对象和 JSON 对象相互转换。</p></blockquote><p><img src="https://static001.geekbang.org/resource/image/9a/43/9a6d6564a64cf2b1c256265eea78c543.png" alt="img"></p><h4 id="4、使用-JSON-数据爬取实战"><a href="#4、使用-JSON-数据爬取实战" class="headerlink" title="4、使用 JSON 数据爬取实战"></a>4、使用 JSON 数据爬取实战</h4><blockquote><p>抓取的页面时动态页面，需要关注 XHR 数据，动态页面是通过原生的 XHR 数据对象发送 HTTP 请求，得到服务器返回的值，在进行处理。（使用谷歌开发工具可以查看）</p></blockquote><h6 id="▉-导包"><a href="#▉-导包" class="headerlink" title="▉ 导包"></a>▉ 导包</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br></pre></td></tr></table></figure><h6 id="▉-查看-XHR-请求的页数"><a href="#▉-查看-XHR-请求的页数" class="headerlink" title="▉ 查看 XHR 请求的页数"></a>▉ 查看 XHR 请求的页数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range(开始，结束，步长)  </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">23287</span>,<span class="number">20</span>):</span><br><span class="line">    <span class="comment"># XHR 请求的路径</span></span><br><span class="line">    url = <span class="string">'https://www.douban.com/j/search_photo?q='</span> + query + <span class="string">'&amp;limit=20&amp;start='</span> + str(i)</span><br></pre></td></tr></table></figure><h6 id="▉-进行-XHR-请求"><a href="#▉-进行-XHR-请求" class="headerlink" title="▉ 进行 XHR 请求"></a>▉ 进行 XHR 请求</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取服务器返回的文本</span></span><br><span class="line">html = requests.get(url).text</span><br></pre></td></tr></table></figure><h6 id="▉-将-JSON-对象转化为-Python-对象进行解析"><a href="#▉-将-JSON-对象转化为-Python-对象进行解析" class="headerlink" title="▉ 将 JSON 对象转化为 Python 对象进行解析"></a>▉ 将 JSON 对象转化为 Python 对象进行解析</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 JSON 转化为 Python 对象</span></span><br><span class="line">response = json.loads(html,encoding=<span class="string">'utf-8'</span>)</span><br></pre></td></tr></table></figure><h6 id="▉-循环遍历出内容"><a href="#▉-循环遍历出内容" class="headerlink" title="▉ 循环遍历出内容"></a>▉ 循环遍历出内容</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># images: [&#123;src: "https://img3.doubanio.com/view/photo/thumb/public/p637714342.jpg", author: "華生",…&#125;,…]</span></span><br><span class="line"><span class="comment"># 获取内容数组</span></span><br><span class="line">response[<span class="string">'images'</span>]</span><br><span class="line"><span class="comment"># 获取数组中的每个对象</span></span><br><span class="line"><span class="keyword">for</span> image <span class="keyword">in</span> response[<span class="string">'images'</span>]</span><br><span class="line"><span class="comment"># 获取每个对象中的值</span></span><br><span class="line">image[<span class="string">'src'</span>]</span><br></pre></td></tr></table></figure><h6 id="▉-下载图片"><a href="#▉-下载图片" class="headerlink" title="▉ 下载图片"></a>▉ 下载图片</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span><span class="params">(src,id)</span>:</span></span><br><span class="line">    <span class="comment"># 设置路径和图片命名</span></span><br><span class="line">    dir = <span class="string">'./'</span> + str(id) + <span class="string">'.jpg'</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># timeout 设置爬虫超时操作</span></span><br><span class="line">        pic = requests.get(src,timeout = <span class="number">10</span>)</span><br><span class="line">        <span class="comment"># 内置函数 open 用于打开文件(wb 二进制文件只写入)</span></span><br><span class="line">        fp = open(dir,<span class="string">'wb'</span>)</span><br><span class="line">        <span class="comment"># 以二进制方式写入本地文件</span></span><br><span class="line">        fp.write(pic.content)</span><br><span class="line">        fp.close()</span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">        print(<span class="string">'图片无法下载'</span>)</span><br></pre></td></tr></table></figure><h4 id="5、使用-XPath-爬取数据"><a href="#5、使用-XPath-爬取数据" class="headerlink" title="5、使用 XPath 爬取数据"></a>5、使用 XPath 爬取数据</h4><blockquote><p>网页除了用  XHR 做请求，也会用 JS 做请求，如果用到 JS 做请求，那么我们就用 XPath 做解析。用 XPath 做解析必须 JS 请求后接受到整个页面之后，才能进行解析。</p><p>1）快速定位 XPath 的方法就是使用谷歌插件 XPath Helper 使用快捷键 Ctrl + Shift + X ,直接定位你想要的元素。</p><p>2）使用 lxml 库来进行对获取的网页进行解析。</p></blockquote><h5 id="1、Selenium-模拟测试工具"><a href="#1、Selenium-模拟测试工具" class="headerlink" title="1、Selenium 模拟测试工具"></a>1、Selenium 模拟测试工具</h5><blockquote><p>因为 XPath 的使用必须在页面加载完成才可以，所以使用 Request 获取页面的 HTML 时候，发现 XPath 并不存在，所以必须借助 Selenium 模拟工具（模拟用户操作页面的工具）。</p><p>1）必须下载 Driver 执行程序才能正常打开浏览器。</p></blockquote><h5 id="2、代码实现"><a href="#2、代码实现" class="headerlink" title="2、代码实现"></a>2、代码实现</h5><h6 id="▉-加载浏览器程序"><a href="#▉-加载浏览器程序" class="headerlink" title="▉ 加载浏览器程序"></a>▉ 加载浏览器程序</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browser = webdriver.Chrome(<span class="string">'C:/Program Files (x86)/Google/Chrome/Application/chromedriver.exe'</span>)</span><br></pre></td></tr></table></figure><h6 id="▉-打开指定网址"><a href="#▉-打开指定网址" class="headerlink" title="▉ 打开指定网址"></a>▉ 打开指定网址</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 尽情请求</span><br><span class="line">browser.get(url)</span><br></pre></td></tr></table></figure><h6 id="▉-获取网页源代码"><a href="#▉-获取网页源代码" class="headerlink" title="▉  获取网页源代码"></a>▉  获取网页源代码</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 获取打开网页的源代码</span><br><span class="line">browser.page_source</span><br><span class="line">// 转化为可以被 lxml 解析的对象</span><br><span class="line">html = etree.HTML(browser.page_source)</span><br></pre></td></tr></table></figure><h6 id="▉-获取到-XPath-匹配的元素"><a href="#▉-获取到-XPath-匹配的元素" class="headerlink" title="▉  获取到 XPath 匹配的元素"></a>▉  获取到 XPath 匹配的元素</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">src_xpath = <span class="string">"//div[@class='result']/div[@class='pic']/a[@class='nbg']/img/@src"</span></span><br><span class="line">srcs = html.xpath(src_xpath)</span><br></pre></td></tr></table></figure><h6 id="▉-遍历获取数据"><a href="#▉-遍历获取数据" class="headerlink" title="▉  遍历获取数据"></a>▉  遍历获取数据</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># zip 将对象中对应的元素打包成元组</span></span><br><span class="line"><span class="keyword">for</span> src,title <span class="keyword">in</span> zip(srcs,titles):</span><br><span class="line">    print(src)</span><br><span class="line">    download(src,title.text)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/爬虫基本流程.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;本篇文章教你数据分析爬虫的基本流程！&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/categories/python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>吃透 JQuery 之【完整篇】</title>
    <link href="http://yoursite.com/2019/04/13/%E5%90%83%E9%80%8F%20JQuery%20%E4%B9%8B%E3%80%90%E5%AE%8C%E6%95%B4%E7%AF%87%E3%80%91/"/>
    <id>http://yoursite.com/2019/04/13/吃透 JQuery 之【完整篇】/</id>
    <published>2019-04-13T05:17:23.146Z</published>
    <updated>2019-04-17T01:01:58.517Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>一篇 JQuery 核心内容文章！</p><a id="more"></a><h2 id="一、选择器"><a href="#一、选择器" class="headerlink" title="一、选择器"></a>一、选择器</h2><h3 id="1、基本选择器"><a href="#1、基本选择器" class="headerlink" title="1、基本选择器"></a>1、基本选择器</h3><h4 id="1-1-按-ID-查找"><a href="#1-1-按-ID-查找" class="headerlink" title="1.1 按 ID 查找"></a>1.1 按 ID 查找</h4><blockquote><p>返回 jQuery 对象，jQuery 对象类似数组，每个元素都是引用了 DOM 节点的对象。<code>[&lt;div id=&quot;abc&quot;&gt;...&lt;/div&gt;]</code>，如果找不到该对象，返回 <code>[]</code> 空对象。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 按照 ID 查找</span></span><br><span class="line">&lt;div id=<span class="string">"abc"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#abc'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>jQuery 对象与 DOM 对象之间的转化：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#abc'</span>);    <span class="comment">// 获取 jQuery 对象 ‘#abc’ 执行了 document.getElementById('#abc');</span></span><br><span class="line"><span class="keyword">var</span> divDOM = div.get(<span class="number">0</span>);<span class="comment">// 获取第一个 DOM 对象</span></span><br><span class="line"><span class="keyword">var</span> anthor = $(divDOM); <span class="comment">// 重新把 DOM 封装为 jQuery 对象</span></span><br></pre></td></tr></table></figure><h4 id="1-2-按-tag-查找"><a href="#1-2-按-tag-查找" class="headerlink" title="1.2 按 tag 查找"></a>1.2 按 tag 查找</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ps = $(<span class="string">'p'</span>);<span class="comment">//获取所有的 &lt;p&gt; 节点</span></span><br><span class="line">ps.length;      <span class="comment">//统计 &lt;p&gt; 节点的个数</span></span><br></pre></td></tr></table></figure><h4 id="1-3-按-class-查找"><a href="#1-3-按-class-查找" class="headerlink" title="1.3 按 class 查找"></a>1.3 按 class 查找</h4><blockquote><p>查找之前要加一个 ‘.’；</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ps = $(<span class="string">'.red'</span>);<span class="comment">// 所有节点包含`class="red"`都将返回</span></span><br></pre></td></tr></table></figure><h4 id="1-4-按属性查找"><a href="#1-4-按属性查找" class="headerlink" title="1.4 按属性查找"></a>1.4 按属性查找</h4><blockquote><p>DOM 节点很多属性，可以根据属性来快速定位节点。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 找出属性为 [name=email] 的节点</span></span><br><span class="line"><span class="keyword">var</span> email = $(<span class="string">'[name^=email]'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按属性查找使用前缀或后缀查找</span></span><br><span class="line"><span class="keyword">var</span> icons = $(<span class="string">'name^= icon'</span>)       <span class="comment">// 找出所有 name 属性值以 icon 开头的 DOM</span></span><br><span class="line"><span class="keyword">var</span> names = $(<span class="string">'[name$=with]'</span>);     <span class="comment">// 找出所有 name 属性值以 with 结尾的 DOM</span></span><br><span class="line"><span class="keyword">var</span> icons = $(<span class="string">'[class^="icon-"]'</span>); <span class="comment">// class 经常使用到</span></span><br></pre></td></tr></table></figure><h4 id="1-5-组合查找"><a href="#1-5-组合查找" class="headerlink" title="1.5 组合查找"></a>1.5 组合查找</h4><blockquote><p>通常选择会选择所有的属性，但是有时我们只选择某标签里的属性进行使用。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 标签和属性组合</span></span><br><span class="line"><span class="keyword">var</span> emilInput = $(<span class="string">'input[name = email]'</span>);</span><br><span class="line"><span class="comment">// 标签和 Class 组合</span></span><br><span class="line"><span class="keyword">var</span> tr = $(<span class="string">'tr.red'</span>);</span><br></pre></td></tr></table></figure><h4 id="1-6-多项选择器"><a href="#1-6-多项选择器" class="headerlink" title="1.6 多项选择器"></a>1.6 多项选择器</h4><blockquote><p>多个选择器用 <code>，</code> 组合起来一块选。选出来的元素是按照它们在 HTML 中出现的顺序排列的，而且不会有重复元素。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把 &lt;p&gt; 和 &lt;div&gt; 都选出来</span></span><br><span class="line">$(<span class="string">'p,div'</span>)</span><br><span class="line"><span class="comment">// 把 &lt;p class="red"&gt; 和 &lt;p class="green"&gt; 都选出来</span></span><br><span class="line">$(<span class="string">'p.red,p.green'</span>)</span><br></pre></td></tr></table></figure><h3 id="2、层级选择器"><a href="#2、层级选择器" class="headerlink" title="2、层级选择器"></a>2、层级选择器</h3><blockquote><p>由于 DOM 的结构是层级结构，经常需要根据层级来进行选择，所以 jQuery 层级选择器更加灵活。</p><p><strong>优点： </strong>层级选择器的好处就是在于缩小了选择的范围，定位父元素后再定位子元素，避免了不相干页面的干扰。</p></blockquote><h4 id="2-1-层级选择器"><a href="#2-1-层级选择器" class="headerlink" title="2.1 层级选择器"></a>2.1 层级选择器</h4><blockquote><p>如果两个 DOM 元素有层级结构，可以使用 <code>$(&#39;ancestor descendant&#39;)</code> 来选择，层级之间需要用空格隔开。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'form[name=upload] input'</span>);</span><br></pre></td></tr></table></figure><h4 id="2-2-子选择器（Child-Selector）"><a href="#2-2-子选择器（Child-Selector）" class="headerlink" title="2.2 子选择器（Child Selector）"></a>2.2 子选择器（Child Selector）</h4><blockquote><p>类似层级选择器，但是限定了只能选择父元素的子元素。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'ul &gt; li'</span>) <span class="comment">//选择 &lt;ul&gt; 父节点下的子节点 &lt;li&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-3-过滤器（Filter）"><a href="#2-3-过滤器（Filter）" class="headerlink" title="2.3 过滤器（Filter）"></a>2.3 过滤器（Filter）</h4><blockquote><p>过滤器通常不单独使用，附加到选择器中使用，更精确的定位元素。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'ul.lang li'</span>); <span class="comment">// 选出 JavaScript、Python 和 Lua 3个节点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 选择节点的第一个节点</span></span><br><span class="line">$(<span class="string">'ul.lang li:first-child'</span>);     <span class="comment">// 仅选出 JavaScript</span></span><br><span class="line"><span class="comment">// 选择最后一个元素</span></span><br><span class="line">$(<span class="string">'ul.lang li:last-child'</span>);      <span class="comment">// 仅选出 Lua</span></span><br><span class="line"><span class="comment">// 选出第 n 的元素，n 从 1 开始</span></span><br><span class="line">$(<span class="string">'ul.lang li:nth-child(2)'</span>);  </span><br><span class="line">$(<span class="string">'ul.lang li:nth-child(even)'</span>); <span class="comment">// 选出序号为偶数的元素</span></span><br><span class="line">$(<span class="string">'ul.lang li:nth-child(odd)'</span>);  <span class="comment">// 选出序号为奇数的元素</span></span><br></pre></td></tr></table></figure><h4 id="2-4-表单相关"><a href="#2-4-表单相关" class="headerlink" title="2.4 表单相关"></a>2.4 表单相关</h4><blockquote><p>针对表单，jQuery 有一组特殊的选择器。</p></blockquote><ul><li><code>:input</code>：可以选择 <code>&lt;input&gt;</code>，<code>&lt;textarea&gt;</code>，<code>&lt;select&gt;</code> 和 <code>&lt;button&gt;</code>；</li><li><code>:file</code>：可以选择 <code>&lt;input type=&quot;file&quot;&gt;</code> 和 <code>input[type=file]</code> 一样；</li><li><code>:checkbox</code>：可以选择复选框，和 <code>input[type=checkbox]</code> 一样；</li><li><code>:radio</code>：可以选择单选框和 <code>input[type=radio]</code> 一样；</li><li><code>:focus</code>：可以选择当前输入焦点的元素，例如把光标放到一个 <code>&lt;input&gt;</code> 上，用 <code>$(&#39;input:focus&#39;)</code> 就可以选出；</li><li><code>:checked</code>：选择当前勾上的单选框和复选框，用这个选择器可以立刻获得用户选择的项目，如<code>$(&#39;input[type=radio]:checked&#39;)</code>；</li><li><code>:enabled</code>：可以选择可以正常输入的 <code>&lt;input&gt;</code>、<code>&lt;select&gt;</code>  等，也就是没有灰掉的输入；</li><li><code>:disabled</code>：和 <code>:enabled</code> 正好相反，选择那些不能输入的。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div:visible'</span>); <span class="comment">// 所有可见的div</span></span><br><span class="line">$(<span class="string">'div:hidden'</span>); <span class="comment">// 所有隐藏的div</span></span><br></pre></td></tr></table></figure><h3 id="3、查找和过滤"><a href="#3、查找和过滤" class="headerlink" title="3、查找和过滤"></a>3、查找和过滤</h3><blockquote><p>最常用的是在某个节点的所有子节点中查找，使用 find 方法，接受一个选择器进行选择。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"lang"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"js dy"</span>&gt;</span>JavaScript<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"dy"</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"swift"</span>&gt;</span>Swift<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"dy"</span>&gt;</span>Scheme<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">name</span>=<span class="string">"haskell"</span>&gt;</span>Haskell<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ul = $(<span class="string">'ul.lang'</span>);               <span class="comment">// 获得 &lt;ul&gt;</span></span><br><span class="line"><span class="keyword">var</span> dy = ul.find(<span class="string">'.dy'</span>);             <span class="comment">// 获得 JavaScript, Python, Scheme</span></span><br><span class="line"><span class="keyword">var</span> swf = ul.find(<span class="string">'#swift'</span>);         <span class="comment">// 获得 Swift</span></span><br><span class="line"><span class="keyword">var</span> hsk = ul.find(<span class="string">'[name=haskell]'</span>); <span class="comment">// 获得 Haskell</span></span><br></pre></td></tr></table></figure><p>向上查找使用 <code>parent()</code> 方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> swf = $(<span class="string">'#swift'</span>); <span class="comment">// 获得Swift</span></span><br><span class="line"><span class="keyword">var</span> parent = swf.parent(); <span class="comment">// 获得 Swift 的上层节点 &lt;ul&gt;</span></span><br><span class="line"><span class="keyword">var</span> a = swf.parent(<span class="string">'.red'</span>); <span class="comment">// 获得 Swift 的上层节点 &lt;ul&gt;，同时传入过滤条件。如果ul不符合条件，返回空 jQuery 对象</span></span><br></pre></td></tr></table></figure><p>同级元素使用 <code>next（）</code> 和 <code>prev（）</code> 方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> swift = $(<span class="string">'#swift'</span>);</span><br><span class="line"></span><br><span class="line">swift.next(); <span class="comment">// Scheme</span></span><br><span class="line">swift.next(<span class="string">'[name=haskell]'</span>); <span class="comment">// 空的jQuery对象，因为Swift的下一个元素Scheme不符合条件[name=haskell]</span></span><br><span class="line"></span><br><span class="line">swift.prev(); <span class="comment">// Python</span></span><br><span class="line">swift.prev(<span class="string">'.dy'</span>); <span class="comment">// Python，因为 Python 同时符合过滤器条件.dy</span></span><br></pre></td></tr></table></figure><h4 id="3-1-过滤"><a href="#3-1-过滤" class="headerlink" title="3.1 过滤"></a>3.1 过滤</h4><blockquote><p>函数式编程中的 map、filter类似，jQuery 也有自己类似的方法。</p></blockquote><p>filter() 方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> langs = $(<span class="string">'ul.lang li'</span>);<span class="comment">// 拿到 JavaScript, Python, Swift, Scheme 和 Haskell</span></span><br><span class="line"><span class="keyword">var</span> a = langs.filter(<span class="string">'.dy'</span>) <span class="comment">// 拿到 JavaScript, Python, Scheme</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//传入一个函数</span></span><br><span class="line"><span class="keyword">var</span> langs = $(<span class="string">'ul.lang li'</span>); <span class="comment">// 拿到 JavaScript, Python, Swift, Scheme 和 Haskell</span></span><br><span class="line">langs.filter(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 函数内部的 this 被绑定为 DOM 对象，不是 jQuery 对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.innerHTML.indexOf(<span class="string">'S'</span>) === <span class="number">0</span>; <span class="comment">// 检查每个子节点，返回 S 开头的节点</span></span><br><span class="line">&#125;</span><br><span class="line">); <span class="comment">// 拿到Swift, Scheme</span></span><br></pre></td></tr></table></figure><p>map() 方法：把一个  jQuery 对象包含的若干 DOM 节点转化为其他对象 。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> langs = $(<span class="string">'ul.lang li'</span>); <span class="comment">// 拿到 JavaScript, Python, Swift, Scheme 和 Haskell</span></span><br><span class="line"><span class="keyword">var</span> arr = langs.map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.innerHTML;</span><br><span class="line">&#125;).get(); </span><br><span class="line"><span class="comment">// 用 get() 拿到包含 string 的 Array：['JavaScript', 'Python', 'Swift', 'Scheme', 'Haskell']</span></span><br></pre></td></tr></table></figure><p>一个jQuery对象如果包含了不止一个DOM节点，<code>first()</code>、<code>last()</code>和<code>slice()</code>方法可以返回一个新的 jQuery对象，把不需要的 DOM 节点去掉： </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> langs = $(<span class="string">'ul.lang li'</span>);  <span class="comment">// 拿到 JavaScript, Python, Swift, Scheme 和 Haskell</span></span><br><span class="line"><span class="keyword">var</span> js = langs.first();       <span class="comment">// JavaScript，相当于 $('ul.lang li:first-child')</span></span><br><span class="line"><span class="keyword">var</span> haskell = langs.last();   <span class="comment">// Haskell, 相当于 $('ul.lang li:last-child')</span></span><br><span class="line"><span class="keyword">var</span> sub = langs.slice(<span class="number">2</span>, <span class="number">4</span>);  <span class="comment">// Swift, Scheme 参数和数组的 slice() 方法一致</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var inputs = $(&apos;#test-form :input&apos;).not(&apos;button&apos;);</span><br><span class="line">var obj = &#123;&#125;;</span><br><span class="line">inputs.filter(function()&#123;</span><br><span class="line"> if(this.type !== &quot;radio&quot; || this.checked);</span><br><span class="line"> obj[this.name] = this.value;</span><br><span class="line">&#125;)</span><br><span class="line">json = JSON.stringify(obj);</span><br></pre></td></tr></table></figure><h2 id="二、操作-DOM"><a href="#二、操作-DOM" class="headerlink" title="二、操作 DOM"></a>二、操作 DOM</h2><h3 id="1-操作-DOM"><a href="#1-操作-DOM" class="headerlink" title="1. 操作 DOM"></a>1. 操作 DOM</h3><h4 id="1-1-修改-Text-和-HTML"><a href="#1-1-修改-Text-和-HTML" class="headerlink" title="1.1 修改 Text 和 HTML"></a>1.1 修改 Text 和 HTML</h4><blockquote><p>jQuery 对象的 text() 和 html() 方法分别获取节点文本和原始的 HTML 文本。</p><p>1）jQuery 可以获取一组数据进行统一设置文本。</p><p>2）jQuery 如果不存在结点对象，将不会报错。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"test-ul"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"js"</span>&gt;</span>JavaScript<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">name</span>=<span class="string">"book"</span>&gt;</span>Java &amp;amp; JavaScript<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取文本</span></span><br><span class="line">$(<span class="string">'#test-ul li[name=book]'</span>).text(); <span class="comment">// 'Java &amp; JavaScript'</span></span><br><span class="line">$(<span class="string">'#test-ul li[name=book]'</span>).html(); <span class="comment">// 'Java &amp;amp; JavaScript'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置文本</span></span><br><span class="line">$(<span class="string">'#test-ul li[name=book]'</span>).text(<span class="string">'JavaScript &amp; ECMAScript'</span>); </span><br><span class="line">$(<span class="string">'#test-ul li[name=book]'</span>).html(<span class="string">'&lt;span style="color: red"&gt;JavaScript&lt;/span&gt;'</span>);</span><br></pre></td></tr></table></figure><h4 id="1-2-修改-CSS"><a href="#1-2-修改-CSS" class="headerlink" title="1.2 修改 CSS"></a>1.2 修改 CSS</h4><blockquote><p>调用 jQuery 对象的 <code>css(&quot;name&quot;,&quot;value&quot;)</code> 方法。</p><p>1）CSS 属性可以使用 <code>&#39;background-color&#39;</code> 和  <code>&#39;backgroundColor&#39;</code>两种格式。</p><p>2）css() 方法将作用于 DOM 节点的 style 属性，具有最高的优先级。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意：jQuery 的所有方法返回的是对象，可以链式调用。</span></span><br><span class="line">$(<span class="string">'#test-css li.dy&gt;span'</span>).css(<span class="string">'background-color'</span>, <span class="string">'#ffd351'</span>).css(<span class="string">'color'</span>, <span class="string">'red'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>修改 <code>class</code> 属性，jQuery 提供一下方法：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#test'</span>);</span><br><span class="line">div.hasClass(<span class="string">'container'</span>);<span class="comment">// 判断该结点 class 是否包含 container 属性</span></span><br><span class="line">div.addClass(<span class="string">'container'</span>);<span class="comment">// 添加 container 这个 Class</span></span><br><span class="line">div.removeClass(<span class="string">'container'</span>); <span class="comment">// 删除 container 这个 Class</span></span><br></pre></td></tr></table></figure><h4 id="1-3-显示和隐藏-DOM"><a href="#1-3-显示和隐藏-DOM" class="headerlink" title="1.3 显示和隐藏 DOM"></a>1.3 显示和隐藏 DOM</h4><blockquote><p>显示或隐藏 DOM 需要设置 CSS 属性的 display 属性。</p><p>1）隐藏 DOM 需要设置 CSS 的 display 属性为 none。</p><p>2）显示 DOM 需要知道 display 之前的属性（block,inline）。</p><p>3）jQuery 对象提供的 show() 和 hide() 方法。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = $(<span class="string">'div'</span>);</span><br><span class="line">a.hide(); <span class="comment">// 隐藏</span></span><br><span class="line">a.show(); <span class="comment">// 显示(并没有删除 DOM 结点，影响了 DOM 结点的显示)</span></span><br></pre></td></tr></table></figure><h4 id="1-4-获取-DOM-信息"><a href="#1-4-获取-DOM-信息" class="headerlink" title="1.4 获取 DOM 信息"></a>1.4 获取 DOM 信息</h4><blockquote><p>无序针对特定的浏览器编写特定的代码，jQuery 对象的方法直接获取。</p><p>1）操作 DOM 节点的属性：<code>attr()</code> 和 <code>removeAttr()</code> 方法。</p><p>2）操作 H5 中无值属性：<code>prop()</code> 但会 <code>boolean</code> 值，也可以用 <code>is</code> 判断。  </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 浏览器可视窗口大小:</span></span><br><span class="line">$(<span class="built_in">window</span>).width(); <span class="comment">// 800</span></span><br><span class="line">$(<span class="built_in">window</span>).height(); <span class="comment">// 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// HTML文档大小:</span></span><br><span class="line">$(<span class="built_in">document</span>).width(); <span class="comment">// 800</span></span><br><span class="line">$(<span class="built_in">document</span>).height(); <span class="comment">// 3500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 某个div的大小:</span></span><br><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#test-div'</span>);</span><br><span class="line">div.width(); <span class="comment">// 600</span></span><br><span class="line">div.height(); <span class="comment">// 300</span></span><br><span class="line">div.width(<span class="number">400</span>); <span class="comment">// 设置CSS属性 width: 400px，是否生效要看CSS是否有效</span></span><br><span class="line">div.height(<span class="string">'200px'</span>); <span class="comment">// 设置CSS属性 height: 200px，是否生效要看CSS是否有效</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#test-div'</span>);</span><br><span class="line">div.attr(<span class="string">'data'</span>);<span class="comment">// undefined 属性值不存在</span></span><br><span class="line">div.attr(<span class="string">'name'</span>);<span class="comment">// test 获取属性值</span></span><br><span class="line">div.attr(<span class="string">'name'</span>,<span class="string">'Hello'</span>); <span class="comment">// 设置属性值</span></span><br><span class="line">div.removeAttr(<span class="string">'name'</span>); <span class="comment">//删除 name 属性</span></span><br><span class="line">div.attr(<span class="string">'name'</span>);  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">"test-radio"</span> type=<span class="string">"radio"</span> name=<span class="string">"test"</span> checked value=<span class="string">"1"</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> radio = $(<span class="string">'#test-radio'</span>);</span><br><span class="line">radio.prop(<span class="string">'checked'</span>); <span class="comment">// true</span></span><br><span class="line">radio.is(<span class="string">':checked'</span>); <span class="comment">// true</span></span><br><span class="line">is(<span class="string">':selected'</span>);<span class="comment">// 下拉属性判断</span></span><br></pre></td></tr></table></figure><h4 id="1-5-操作表单"><a href="#1-5-操作表单" class="headerlink" title="1.5 操作表单"></a>1.5 操作表单</h4><blockquote><p>对于 jQuery 操作表单，统一使用 <code>val()</code> 方法获取和设置对应的 <code>value</code> 属性：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    &lt;input id="test-input" name="email" value=""&gt;</span></span><br><span class="line"><span class="comment">    &lt;select id="test-select" name="city"&gt;</span></span><br><span class="line"><span class="comment">        &lt;option value="BJ" selected&gt;Beijing&lt;/option&gt;</span></span><br><span class="line"><span class="comment">        &lt;option value="SH"&gt;Shanghai&lt;/option&gt;</span></span><br><span class="line"><span class="comment">        &lt;option value="SZ"&gt;Shenzhen&lt;/option&gt;</span></span><br><span class="line"><span class="comment">    &lt;/select&gt;</span></span><br><span class="line"><span class="comment">    &lt;textarea id="test-textarea"&gt;Hello&lt;/textarea&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">    input = $(<span class="string">'#test-input'</span>),</span><br><span class="line">    select = $(<span class="string">'#test-select'</span>),</span><br><span class="line">    textarea = $(<span class="string">'#test-textarea'</span>);</span><br><span class="line"></span><br><span class="line">input.val(); <span class="comment">// 'test'</span></span><br><span class="line">input.val(<span class="string">'abc@example.com'</span>); <span class="comment">// 文本框的内容已变为abc@example.com</span></span><br><span class="line"></span><br><span class="line">select.val(); <span class="comment">// 'BJ'</span></span><br><span class="line">select.val(<span class="string">'SH'</span>); <span class="comment">// 选择框已变为Shanghai</span></span><br><span class="line"></span><br><span class="line">textarea.val(); <span class="comment">// 'Hello'</span></span><br><span class="line">textarea.val(<span class="string">'Hi'</span>); <span class="comment">// 文本区域已更新为'Hi'</span></span><br></pre></td></tr></table></figure><h3 id="2、修改-DOM"><a href="#2、修改-DOM" class="headerlink" title="2、修改 DOM"></a>2、修改 DOM</h3><blockquote><p>原生的浏览器 API 修改 DOM 需要根据不同的浏览器进行写不同的代码。</p></blockquote><h4 id="2-1-添加-DOM"><a href="#2-1-添加-DOM" class="headerlink" title="2.1 添加 DOM"></a>2.1 添加 DOM</h4><blockquote><p>添加 DOM 结点除了使用 <code>html()</code> 方法外还可以使用 <code>append()</code> 方法。</p><p>1) append() 方法可以接收一下几个参数：</p><ul><li>DOM 对象</li><li>jQuery 对象</li><li>函数对象(该函数要返回一个字符串、DOM 对象、jQuery对象)</li></ul><p>2）<code>append()</code> 把DOM添加到最后，<code>prepend()</code> 则把 DOM 添加到最前。 </p><p>3）<code>after()</code> 方法和 <code>before()</code> 方法将 DOM 插入指定位置。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*&lt;div id="test-div"&gt;</span></span><br><span class="line"><span class="comment">    &lt;ul&gt;</span></span><br><span class="line"><span class="comment">        &lt;li&gt;&lt;span&gt;JavaScript&lt;/span&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li&gt;&lt;span&gt;Python&lt;/span&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li&gt;&lt;span&gt;Swift&lt;/span&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">    &lt;/ul&gt;</span></span><br><span class="line"><span class="comment">&lt;/div&gt;*/</span></span><br><span class="line"><span class="keyword">var</span> ul = $(<span class="string">'#test-div&gt;ul'</span>);</span><br><span class="line">ul.append(<span class="string">'&lt;li&gt;&lt;span&gt;Haskell&lt;/span&gt;&lt;/li&gt;'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建DOM对象:</span></span><br><span class="line"><span class="keyword">var</span> ps = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">ps.innerHTML = <span class="string">'&lt;span&gt;Pascal&lt;/span&gt;'</span>;</span><br><span class="line"><span class="comment">// 添加DOM对象:</span></span><br><span class="line">ul.append(ps);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加jQuery对象:</span></span><br><span class="line">ul.append($(<span class="string">'#scheme'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加函数对象:</span></span><br><span class="line">ul.append(<span class="function"><span class="keyword">function</span> (<span class="params">index, html</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;li&gt;&lt;span&gt;Language - '</span> + index + <span class="string">'&lt;/span&gt;&lt;/li&gt;'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>注意：jQuery的 <code>append()</code> 可能作用于一组 DOM 节点，只有传入函数才能针对每个 DOM 生成不同的子节点。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> js = $(<span class="string">'#test-div&gt;ul&gt;li:first-child'</span>);</span><br><span class="line">js.after(<span class="string">'&lt;li&gt;&lt;span&gt;Lua&lt;/span&gt;&lt;/li&gt;'</span>);</span><br></pre></td></tr></table></figure><h4 id="2-2-删除节点"><a href="#2-2-删除节点" class="headerlink" title="2.2 删除节点"></a>2.2 删除节点</h4><blockquote><p>拿到 jQuery 对象之后，直接执行 <code>remove()</code> 方法可以删除一组或单个节点。</p></blockquote><h3 id="3、事件"><a href="#3、事件" class="headerlink" title="3、事件"></a>3、事件</h3><blockquote><p>1) 浏览器获取到鼠标事件，自动在对应的 DOM 结点上触发响应的时间，如果该结点绑定了函数，函数就触发响应的事件，然后调用绑定了对应的 javascript 处理函数，该函数就会自动调用。</p><p>2) 不同浏览器的代码是不一样的，jQuery 屏蔽了不同浏览器的差异。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'Hello!'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="3-1-鼠标事件"><a href="#3-1-鼠标事件" class="headerlink" title="3.1 鼠标事件"></a>3.1 鼠标事件</h4><ul><li>click : 单击事件</li><li>dbclick: 双击事件</li><li>mouseenter: 鼠标进入时触发</li><li>mouseleace: 鼠标离开时触发</li><li>mousemove: 鼠标在 DOM 内部移动时触发</li><li>hover: 鼠标进入和退出时触发两个函数，相当于 mouseenter 加上 mouseleave。</li></ul><h4 id="3-2-键盘事件"><a href="#3-2-键盘事件" class="headerlink" title="3.2 键盘事件"></a>3.2 键盘事件</h4><blockquote><p>键盘事件仅作用在当前焦点 DOM 上，通常是 <code>&lt;imput&gt;</code> 和 <code>&lt;textarea&gt;</code>。</p></blockquote><ul><li>keydown：键盘按下时触发</li><li>keyup：键盘松开时触发</li><li>keypress：按一次键后触发</li></ul><h4 id="3-3-其他事件"><a href="#3-3-其他事件" class="headerlink" title="3.3 其他事件"></a>3.3 其他事件</h4><ul><li>focus：当 DOM 获取焦点时触发；</li><li>blur：当 DOM 失去焦点时触发；</li><li>change：当 <code>&lt;input&gt;</code>、<code>&lt;select&gt;</code> 或 <code>&lt;textarea&gt;</code> 的内容改变时触发；</li><li>submit：当 <code>&lt;form&gt;</code> 提交时触发；</li><li>ready：当页面被载入并且 DOM 树完成初始化后触发（仅作用于 document 对象）。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3-4-事件参数"><a href="#3-4-事件参数" class="headerlink" title="3.4 事件参数"></a>3.4 事件参数</h4><blockquote><p>有些事件需要传入参数，获取到按键的值和鼠标的位置。所有事件都传入 Event 对象作为参数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'#testMouseMoveDiv'</span>).mousemove(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#testMouseMoveSpan'</span>).text(<span class="string">'pageX = '</span> + e.pageX + <span class="string">', pageY = '</span> + e.pageY);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="3-5-取消绑定"><a href="#3-5-取消绑定" class="headerlink" title="3.5  取消绑定"></a>3.5  取消绑定</h4><blockquote><p>一个绑定的事件可以被解除，通过 <code>off（‘click’, function）</code> 实现：</p><p>1) off 无参会一次性移除已绑定的所有类型的事件处理函数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.click(hello); <span class="comment">// 绑定事件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 10秒钟后解除绑定:</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    a.off(<span class="string">'click'</span>, hello);</span><br><span class="line">&#125;, <span class="number">10000</span>);</span><br></pre></td></tr></table></figure><h4 id="3-6-事件触发条件"><a href="#3-6-事件触发条件" class="headerlink" title="3.6 事件触发条件"></a>3.6 事件触发条件</h4><blockquote><p>事件的触发是由用户操作引发的。</p><p>1）change 事件的触发是由用户改变文本框内容触发的，在 js 修改文本框内容则不会触发。</p><p>2）用代码触发 change 事件，可以直接调用无参数的 change() 方法来触发事件。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> input = $(<span class="string">'#test-input'</span>);</span><br><span class="line">input.change(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'changed...'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> input = $(<span class="string">'#test-input'</span>);</span><br><span class="line">input.val(<span class="string">'change it!'</span>);</span><br><span class="line">input.change(); <span class="comment">// 触发change事件,相当于 input.trigger('change')</span></span><br></pre></td></tr></table></figure><h4 id="3-7-浏览器安全限制"><a href="#3-7-浏览器安全限制" class="headerlink" title="3.7 浏览器安全限制"></a>3.7 浏览器安全限制</h4><blockquote><p>有些 javascript 代码只有用户触发才能执行，如 <code>window.open()</code> 函数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 无法弹出新窗口，将被浏览器屏蔽:</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.open(<span class="string">'/'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="4、AJAX"><a href="#4、AJAX" class="headerlink" title="4、AJAX"></a>4、AJAX</h3><blockquote><p>jQuery 的 AJAX 不用针对不同浏览器写不同代码，代码也得到很大的简化。</p></blockquote><h4 id="4-1-ajax"><a href="#4-1-ajax" class="headerlink" title="4.1 ajax"></a>4.1 ajax</h4><blockquote><p>jQuery 在全局对象中（$）绑定了 ajax() 函数。</p><p>1）<code>ajax(url,settings)</code> 函数需要接收一个 URL 和一个可选的 settings 对象</p></blockquote><ul><li><p><strong>async </strong>：默认 true</p></li><li><p><strong>method： </strong>发送的 Method ，默认为 <code>GET</code>。</p></li><li><p><strong>contentType： </strong>发送的 POST 格式，默认值为 <code>&#39;application/x-www-form-urlencoded; charset=UTF-8&#39;</code></p><p>其余格式为 <code>text/plain</code>、<code>application/json</code>；</p></li><li><p><strong>data： </strong>发送的数据，可以是字符串、数组或 object。如果是 GET 请求，data 转换为 query 附加到 URL 上。如果是 POST 根据 contentType 将数据序列化成合适的格式；</p></li><li><p><strong>headers： </strong>发送额外的 HTTP 头，必须是一个 object;</p></li><li><p><strong>dataType：</strong>接受的数据格，<code>html</code> 、<code>xml</code>、<code>json</code> 、<code>text</code> 等，没有设置的情况下根据 contentType 来定义。</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jqxhr = $.ajax(<span class="string">'/api/categories'</span>,&#123;</span><br><span class="line">    dataType: <span class="string">'json'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>响应方式：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jqxhr = $.ajax(<span class="string">'/api/categories'</span>, &#123;</span><br><span class="line">    dataType: <span class="string">'json'</span></span><br><span class="line">&#125;).done(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    ajaxLog(<span class="string">'成功, 收到的数据: '</span> + <span class="built_in">JSON</span>.stringify(data));</span><br><span class="line">&#125;).fail(<span class="function"><span class="keyword">function</span> (<span class="params">xhr, status</span>) </span>&#123;</span><br><span class="line">    ajaxLog(<span class="string">'失败: '</span> + xhr.status + <span class="string">', 原因: '</span> + status);</span><br><span class="line">&#125;).always(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    ajaxLog(<span class="string">'请求完成: 无论成功或失败都会调用'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="4-2-get-方法"><a href="#4-2-get-方法" class="headerlink" title="4.2 get 方法"></a>4.2 get 方法</h4><blockquote><p>最常见的写法；第二个参数会被拼接到 url 后边</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jqxhr = $.get(url, &#123;</span><br><span class="line">    name: <span class="string">'Bob Lee'</span>,</span><br><span class="line">    check: <span class="number">1</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url?name=Bob%<span class="number">20</span>Lee&amp;check=<span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="4-3-post-方法"><a href="#4-3-post-方法" class="headerlink" title="4.3 post 方法"></a>4.3 post 方法</h4><blockquote><p>虽然写法和 GET 类似，但是第二个参数被序列化了为 <code>application/x-www-form-urlencoded</code>。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jqxhr = $.post(<span class="string">'/path/to/resource'</span>, &#123;</span><br><span class="line">    name: <span class="string">'Bob Lee'</span>,</span><br><span class="line">    check: <span class="number">1</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="4-4-getJSON-对象"><a href="#4-4-getJSON-对象" class="headerlink" title="4.4 getJSON 对象"></a>4.4 getJSON 对象</h4><blockquote><p>通过 <code>getJSON()</code> 方法来快速通过 GET 获取一个 JSON 对象：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jqxhr = $.getJSON(<span class="string">'/path/to/resource'</span>, &#123;</span><br><span class="line">    name: <span class="string">'Bob Lee'</span>,</span><br><span class="line">    check: <span class="number">1</span></span><br><span class="line">&#125;).done(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// data已经被解析为JSON对象了</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="4-5-安全限制"><a href="#4-5-安全限制" class="headerlink" title="4.5 安全限制"></a>4.5 安全限制</h4><blockquote><p>关于跨域，jQuery 也是有限制的，和 JavaScript 一样。如果跨域加载数据，设置 <code>jsonp：‘callback’</code> ，这样就可以实现 jQuery 加载跨域数据了。</p></blockquote><h3 id="5、动画"><a href="#5、动画" class="headerlink" title="5、动画"></a>5、动画</h3><blockquote><p>jQuery 封装的动画非常简单，只需要一行代码就可以搞定。</p></blockquote><h4 id="5-1-show-hide"><a href="#5-1-show-hide" class="headerlink" title="5.1 show/hide"></a>5.1 show/hide</h4><blockquote><p>无参的<code>show()</code> <code>hide()</code> 方法用于隐藏、显示元素，传入一个时间参数就会变成动画。</p><p>1）参数可以是<code>&#39;slow&#39;</code>，<code>&#39;fast&#39;</code> 。</p><p>2）<code>toggle()</code> 根据当前的状态来决定显示还是隐藏。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#id'</span>);</span><br><span class="line">div.hide(<span class="number">3000</span>); <span class="comment">// 在 3 秒钟内逐渐消失</span></span><br></pre></td></tr></table></figure><h4 id="5-2-slideUp-slideDown"><a href="#5-2-slideUp-slideDown" class="headerlink" title="5.2 slideUp / slideDown"></a>5.2 slideUp / slideDown</h4><blockquote><p>这两个方法是垂直方向消失和隐藏的。</p><p>1) <code>slideToggle()</code> 根据状态来决定。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#id'</span>);</span><br><span class="line">div.slideUp(<span class="number">3000</span>); <span class="comment">// 在3秒钟内逐渐向上消失</span></span><br></pre></td></tr></table></figure><h4 id="5-3-fadeIn-fadeOut"><a href="#5-3-fadeIn-fadeOut" class="headerlink" title="5.3 fadeIn/fadeOut"></a>5.3 fadeIn/fadeOut</h4><blockquote><p>这两个方法的动画就是淡入淡出，通过设置 <code>opacity</code> 来实现的。</p><p>1）<code>fadeToggle()</code> 决定是否状态是否改变。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#id'</span>);</span><br><span class="line">div.fadeOut(<span class="string">'slow'</span>); <span class="comment">// 在 0.6 秒内淡出</span></span><br></pre></td></tr></table></figure><h4 id="5-4-自定义动画"><a href="#5-4-自定义动画" class="headerlink" title="5.4 自定义动画"></a>5.4 自定义动画</h4><blockquote><p><code>animate()</code> 可以实现自定义动画，传入的参数就是 DOM 元素最终的 CSS 状态和时间。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#id'</span>);</span><br><span class="line">div.animate(&#123;</span><br><span class="line">    opacity: <span class="number">0.25</span>,</span><br><span class="line">    width: <span class="string">'256px'</span>,</span><br><span class="line">    height: <span class="string">'256px'</span></span><br><span class="line">&#125;, <span class="number">3000</span>); <span class="comment">// 在 3 秒钟内 CSS 过渡到设定值</span></span><br></pre></td></tr></table></figure><blockquote><p>第三个参数就是传入一个函数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#test-animate'</span>);</span><br><span class="line">div.animate(&#123;</span><br><span class="line">    opacity: <span class="number">0.25</span>,</span><br><span class="line">    width: <span class="string">'256px'</span>,</span><br><span class="line">    height: <span class="string">'256px'</span></span><br><span class="line">&#125;, <span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'动画已结束'</span>);</span><br><span class="line">    <span class="comment">// 恢复至初始状态:</span></span><br><span class="line">    $(<span class="keyword">this</span>).css(<span class="string">'opacity'</span>, <span class="string">'1.0'</span>).css(<span class="string">'width'</span>, <span class="string">'128px'</span>).css(<span class="string">'height'</span>, <span class="string">'128px'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="5-5-串行动画"><a href="#5-5-串行动画" class="headerlink" title="5.5 串行动画"></a>5.5 串行动画</h4><blockquote><p>动画可以串行执行，通过 <code>delay（）</code>  方法可以实现暂停，可以实现更复杂的动画效果。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = $(<span class="string">'#id'</span>);</span><br><span class="line"><span class="comment">// 动画效果：slideDown - 暂停 - 放大 - 暂停 - 缩小</span></span><br><span class="line">div.slideDown(<span class="number">2000</span>)</span><br><span class="line">   .delay(<span class="number">1000</span>)</span><br><span class="line">   .animate(&#123;</span><br><span class="line">       width: <span class="string">'256px'</span>,</span><br><span class="line">       height: <span class="string">'256px'</span></span><br><span class="line">   &#125;, <span class="number">2000</span>)</span><br><span class="line">   .delay(<span class="number">1000</span>)</span><br><span class="line">   .animate(&#123;</span><br><span class="line">       width: <span class="string">'128px'</span>,</span><br><span class="line">       height: <span class="string">'128px'</span></span><br><span class="line">   &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-6-动画设置失败"><a href="#5-6-动画设置失败" class="headerlink" title="5.6 动画设置失败"></a>5.6 动画设置失败</h4><blockquote><p>1）有的动画没有效果，jQuery 动画的原理是逐渐改变 CSS 的值。很多元素不是 block 性质的 DOM 元素，对它们设置有的属性不起作用，所以没有动画效果。</p><p>2）jQuery也没有实现对<code>background-color</code>的动画效果，用<code>animate()</code>设置<code>background-color</code>也没有效果 。只能借助 CSS3 动画。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一篇 JQuery 核心内容文章！&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JQuery" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/JQuery/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="JQuery" scheme="http://yoursite.com/tags/JQuery/"/>
    
  </entry>
  
  <entry>
    <title>数据结构与算法之题型篇【链表】</title>
    <link href="http://yoursite.com/2019/04/13/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%B9%8B%E9%A2%98%E5%9E%8B%E7%AF%87%E3%80%90%E9%93%BE%E8%A1%A8%E3%80%91/"/>
    <id>http://yoursite.com/2019/04/13/数据结构与算法之题型篇【链表】/</id>
    <published>2019-04-13T02:58:26.185Z</published>
    <updated>2019-04-16T03:19:56.707Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>有关链表的所有操作和题型的详细解析和扩展。</p><a id="more"></a><p>[TOC]</p><h2 id="一、链表相关题目"><a href="#一、链表相关题目" class="headerlink" title="一、链表相关题目"></a>一、链表相关题目</h2><h3 id="1、单链表从头到尾打印"><a href="#1、单链表从头到尾打印" class="headerlink" title="1、单链表从头到尾打印"></a>1、单链表从头到尾打印</h3><blockquote><p>题目：输入一个链表的头结点，从尾到头反过来打印出每个节点的值。</p></blockquote><h4 id="1-1-问题分析与解决"><a href="#1-1-问题分析与解决" class="headerlink" title="1.1 问题分析与解决"></a>1.1 问题分析与解决</h4><h6 id="▉-问题分析"><a href="#▉-问题分析" class="headerlink" title="▉ 问题分析"></a>▉ 问题分析</h6><blockquote><p>1）看到题目第一想到的就是反转链表在打印输出，一种反转链表的方法，但是这种方法改变了原有的链表结构。</p><p>缺点：使得链表的结构发生改变了。如果不改变链表结构应该怎么解决？</p><p>2）从问题中可以得出，我们想要从尾到头打印链表，正常情况下是从头到尾打印的，我们就会想到最后的数据先打印，开始的数据最后打印，有种“先进后出”的特点，我们就能想到用“栈”这种结构，用栈来实现。</p><p>缺点：代码不够简洁。</p><p>优点：鲁棒性好（在不确定的情况下，程序仍然可以正确的执行）。</p><p>3）提到栈这种数据结构，我们就会想到“递归”的实现就是用栈这种数据结构实现的。既然栈能实现，那么递归也能实现。</p><p>缺点：如果链表很长，递归深度很深，导致堆栈溢出。</p><p>优点：代码简洁、明了。</p></blockquote><h6 id="▉-算法思路"><a href="#▉-算法思路" class="headerlink" title="▉ 算法思路"></a>▉ 算法思路</h6><blockquote><p>得出以下几种实现方式：</p><ul><li>反转链表法</li><li>栈实现</li><li>递归实现</li></ul><p>1）反转链表实现：</p><p>从尾到头输出链表的内容，一般的思路就是将链表反转过来，然后从头到尾输出数据。</p><p>2）栈实现</p><p>从头到尾遍历单链表，将数据存储按照顺序存储到栈中。然后遍历整个栈，打印输出数据。</p><p>2）递归实现：</p><p>可以通过递归的方式来实现单链表从尾到头依次输出，递归过程涉及到“递”和“归”，反转链表输出数据，正式利用了循环“递”的过程，所以数据先从头部输出，那么递归采用的是“归”的过程来输出内容，输出当前结点先要输出当前节点的下一节点。</p></blockquote><h6 id="▉-测试用例"><a href="#▉-测试用例" class="headerlink" title="▉ 测试用例"></a>▉ 测试用例</h6><blockquote><p>在写代码之前，要想好测试用例才能写出健全、鲁棒性的代码，也是为了考虑到边界情况，往往也是整个程序最致命的地方，如果考虑不全面，就会出现 bug，导致程序崩溃。</p><p>测试用例：</p><p>1）输入空链表；</p><p>2）输入的链表只有一个结点；</p><p>3）输入的链表有多个结点。</p></blockquote><h6 id="▉-代码实现：反转链表法"><a href="#▉-代码实现：反转链表法" class="headerlink" title="▉ 代码实现：反转链表法"></a>▉ 代码实现：反转链表法</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//定义结点</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(data)&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">        <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义链表</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        <span class="keyword">this</span>.head = <span class="keyword">new</span> Node(<span class="string">'head'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 功能：单链表反转</span></span><br><span class="line">    <span class="comment">// 步骤:</span></span><br><span class="line">    <span class="comment">// 1、定义三个指针(pre=null/next/current)</span></span><br><span class="line">    <span class="comment">// 2、判断链表是否可反转(头节点是否为空、是否有第二个结点)</span></span><br><span class="line">    <span class="comment">// 3、尾指针指向第一个结点的 next</span></span><br><span class="line">    <span class="comment">// 4、尾指针向前移动</span></span><br><span class="line">    <span class="comment">// 5、当前指针(current)向后移动</span></span><br><span class="line">    <span class="comment">// 6、将 head 指向单转好的结点</span></span><br><span class="line">    reverseList = <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//声明三个指针</span></span><br><span class="line">        <span class="keyword">let</span> current = <span class="keyword">this</span>.head; <span class="comment">//当前指针指向头节点</span></span><br><span class="line">        <span class="keyword">let</span> pre = <span class="literal">null</span>;<span class="comment">//尾指针</span></span><br><span class="line">        <span class="keyword">let</span> next;<span class="comment">//指向当前指针的下一个指针</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断单链表是否符合反转的条件(一个结点以上)？</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.head == <span class="literal">null</span> || <span class="keyword">this</span>.head.next == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//开始反转</span></span><br><span class="line">        <span class="keyword">while</span>(current !== <span class="literal">null</span>)&#123;</span><br><span class="line">            next = current.next;</span><br><span class="line">            current.next = pre;</span><br><span class="line">            pre = current;</span><br><span class="line">            current = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.head = pre;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//输出结点</span></span><br><span class="line">    print = <span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> currentNode = <span class="keyword">this</span>.head</span><br><span class="line">        <span class="comment">//如果结点不为空</span></span><br><span class="line">        <span class="keyword">while</span>(currentNode !== <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(currentNode.data)</span><br><span class="line">            currentNode = currentNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-代码实现：循环栈"><a href="#▉-代码实现：循环栈" class="headerlink" title="▉ 代码实现：循环栈"></a>▉ 代码实现：循环栈</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法三：栈实现</span></span><br><span class="line"><span class="keyword">const</span> tailToHeadOutput = <span class="function">(<span class="params">currentNode</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> stack = [];</span><br><span class="line">    <span class="comment">//遍历链表，将数据入栈</span></span><br><span class="line">    <span class="keyword">while</span>(currentNode !== <span class="literal">null</span>)&#123;</span><br><span class="line">        stack.push(currentNode.data);</span><br><span class="line">        currentNode = currentNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历栈，数据出栈</span></span><br><span class="line">    <span class="keyword">while</span>(stack.length !== <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(stack.pop());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-代码实现：递归"><a href="#▉-代码实现：递归" class="headerlink" title="▉ 代码实现：递归"></a>▉ 代码实现：递归</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 步骤:</span></span><br><span class="line"><span class="comment">// 1、判断是否为空链表</span></span><br><span class="line"><span class="comment">// 2、终止条件（下一结点为空）</span></span><br><span class="line"><span class="comment">// 3、递归打印下一结点信息</span></span><br><span class="line"><span class="keyword">const</span> tailToHeadOutput = <span class="function">(<span class="params">head</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">// 判断是否空链表</span></span><br><span class="line"><span class="keyword">if</span>(head !== <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">// 判断下一结点是否为空</span></span><br><span class="line">    <span class="keyword">if</span>(head.next !== <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">// 下一结点不为空，先输出下一结点</span></span><br><span class="line">        tailToHeadOutput(head.next)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(head.data);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"空链表"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-性能分析"><a href="#▉-性能分析" class="headerlink" title="▉ 性能分析"></a>▉ 性能分析</h6><blockquote><p>反转链表实现：</p><ul><li>时间复杂度：O(n)。需要遍历整个链表，时间复杂度为 O(n)。</li><li>空间复杂度：O(1)。不需要额外的栈存储空间，空间复杂度为 O(1)。</li></ul><p>循环栈实现：</p><ul><li>时间复杂度：O(n)。需要遍历整个链表，时间复杂度为 O(n)。</li><li>空间复杂度：O(n)。需要额外的栈存储空间，空间复杂度为 O(n)。</li></ul><p>递归实现：</p><ul><li>时间复杂度：O(n)。需要遍历整个链表，时间复杂度为 O(n)。</li><li>空间复杂度：O(n)。需要额外的栈存储空间，空间复杂度为 O(n)。</li></ul></blockquote><h4 id="2-2-小结"><a href="#2-2-小结" class="headerlink" title="2.2 小结"></a>2.2 小结</h4><h6 id="▉-考察内容"><a href="#▉-考察内容" class="headerlink" title="▉ 考察内容"></a>▉ 考察内容</h6><blockquote><p>1）对单链表的基本操作。</p><p>2）代码的鲁棒性。</p><p>3）循环、递归、栈的灵活运用。</p></blockquote><h6 id="▉-扩展思考：循环和递归"><a href="#▉-扩展思考：循环和递归" class="headerlink" title="▉ 扩展思考：循环和递归"></a>▉ 扩展思考：循环和递归</h6><blockquote><p>适用条件：如果需要进行多次计算相同的问题，将采用循环或递归的方式。</p><p>递归的优点：代码简洁。</p><p>递归的缺点：</p><p>1）堆栈溢出：函数调用自身，函数的临时变量是压栈的操作，当函数执行完，栈才清空，如果递归的规模过大，在函数内部一直执行函数的自身调用，临时变量一直压栈，系统栈或虚拟机栈内存小，导致堆栈溢出。</p><p>2）重复计算：递归会出现很多的重复计算问题，重复计算对程序的性能有很大影响，导致消耗时间成指数增长，但是可以通过散列表的方式解决。</p><p>3）高空间复杂度：递归的每次函数调用都要涉及到在内存开辟空间，压栈、出栈等操作，即耗时又耗费空间，导致递归的效率并不如循环的效率。</p><p>扩展：</p><p>1）递归—栈：递归的本质是栈，通常用栈循环解决的问题适合于递归。</p><p>2）递归-动态规划：动态规划解决问题经常用递归的思路分析问题。关于递归重复计算问题，我们通常使用自下而上的解决思路（动态规划）来解决递归重复计算的问题。</p></blockquote><h6 id="▉-注意事项："><a href="#▉-注意事项：" class="headerlink" title="▉ 注意事项："></a>▉ 注意事项：</h6><blockquote><p>1）涉及到循环解决的问题，可以想一想能不能使用递归来解决。</p><p>2）用递归解决一定要铭记递归的缺点带来的性能问题。</p><p>3）递归解决的问题，能不能用动态规划来解决，使得性能更高。</p><p>4）用到栈这种数据结构，想一想递归是否可以实现呢。</p></blockquote><h3 id="2、删除链表结点"><a href="#2、删除链表结点" class="headerlink" title="2、删除链表结点"></a>2、删除链表结点</h3><blockquote><p>题目：在 O（1）的时间复杂度内删除链表节点。</p><p>给定单向链表的头指针和一个节点指针，定义一个函数在 O（1）时间内删除该节点。</p></blockquote><h4 id="2-1-问题分析与解决"><a href="#2-1-问题分析与解决" class="headerlink" title="2.1 问题分析与解决"></a>2.1 问题分析与解决</h4><h6 id="▉-问题分析-1"><a href="#▉-问题分析-1" class="headerlink" title="▉ 问题分析"></a>▉ 问题分析</h6><blockquote><p>1）想必看到单链表删除节点的题，第一想到的就是删除链表结点需要以 O（n）时间复杂度遍历链表找到该结点的前结点，然后以 O（1）时间复杂度进行删除，时间复杂度为O（n）。而题目中的确实整体要求时间复杂度为 O（1）。</p><p>2）怎么才能达到 O（1）的时间复杂度删除链表？如果不遍历不就可以了？如果直接删除的时间复杂度为 O（1），前提是我们需要知道前结点才能做到。我们就会想怎么做到不用遍历数据才能获取到前结点呢？而且必须保证时间复杂度为 O（1）。</p><p>3）但是必须让自己多想一步就是如果删除的结点是尾结点怎么操作，如果删除的链表结点只有一个结点，即是尾结点又是头结点怎么办？</p></blockquote><h6 id="▉-算法思路-1"><a href="#▉-算法思路-1" class="headerlink" title="▉ 算法思路"></a>▉ 算法思路</h6><blockquote><p>1）这一有种技巧很难想到，就是我把当前结点的数据与下一结点的数据进行交换，删除下一结点不就可以达到时间复杂度为O（1）了吗。而且我们知道当前结点就是下一结点的前节点，perfect。</p><p>2）针对以上两种特殊情况，如果是尾结点，没有下一结点，我们就从头遍历链表删除节点；如果即是尾结点又是头结点，那么删除头结点，并置于 null。</p></blockquote><h6 id="▉-测试用例-1"><a href="#▉-测试用例-1" class="headerlink" title="▉ 测试用例"></a>▉ 测试用例</h6><blockquote><p>1)  输入空链表；</p><p>2）在多个结点链表中删除中间结点；</p><p>3）在多个链表中删除头结点；</p><p>4）在多个链表总删除尾结点；</p><p>5）在只有一个结点链表中删除唯一结点；</p></blockquote><h6 id="▉-代码实现"><a href="#▉-代码实现" class="headerlink" title="▉ 代码实现"></a>▉ 代码实现</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="▉-性能分析-1"><a href="#▉-性能分析-1" class="headerlink" title="▉ 性能分析"></a>▉ 性能分析</h6><blockquote><p>时间复杂度：O（1）。</p><p>经过上述的方法，删除一个链表的结点，除了删除一个链表的尾结点之外，其他删除节点的时间复杂度为 O（1），获取删除的结点的前一结点，时间复杂度为 O（1），删除节点的时间复杂度为 O（1）。只有删除尾结点才需要遍历整个链表，但大部分删除节点是 O（1）的。使用分析时间复杂度的一个方法摊还分析，将删除节点的时间复杂度平均分到其他大部分情况下，所以平均时间复杂度为 O（1）。</p><p>空间复杂度：O（1）。不需要额外的内存空间。</p></blockquote><h4 id="2-2-小结-1"><a href="#2-2-小结-1" class="headerlink" title="2.2 小结"></a>2.2 小结</h4><h6 id="▉-内容考察"><a href="#▉-内容考察" class="headerlink" title="▉ 内容考察"></a>▉ 内容考察</h6><blockquote><p>1）对单链表的删除基本操作。</p><p>2）对问题的有创新思维的解决能力：能不能将复杂问题的根源用另一种思维去优化。</p><p>3）问题考虑的全面性：考虑到问题出现的各种特殊情况，以及边界问题。</p></blockquote><h2 id="二、链表使用总结"><a href="#二、链表使用总结" class="headerlink" title="二、链表使用总结"></a>二、链表使用总结</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;有关链表的所有操作和题型的详细解析和扩展。&lt;/p&gt;
    
    </summary>
    
      <category term="数据结构" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="算法" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="数据结构" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="算法" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>前端进阶深入系列之【跨域问题】</title>
    <link href="http://yoursite.com/2019/04/10/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6%E6%B7%B1%E5%85%A5%E7%B3%BB%E5%88%97%E4%B9%8B%E3%80%90%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E3%80%91/"/>
    <id>http://yoursite.com/2019/04/10/前端进阶深入系列之【跨域问题】/</id>
    <published>2019-04-10T02:56:08.699Z</published>
    <updated>2019-04-14T23:57:41.099Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>AJAX 以及跨域问题完整详细解析，面试、日常项目常用点。</p><a id="more"></a><p>[TOC]</p><h1 id="跨域问题"><a href="#跨域问题" class="headerlink" title="跨域问题"></a>跨域问题</h1><h2 id="一、同源策略"><a href="#一、同源策略" class="headerlink" title="一、同源策略"></a>一、同源策略</h2><h4 id="1-1-同源策略的由来"><a href="#1-1-同源策略的由来" class="headerlink" title="1.1 同源策略的由来"></a>1.1 同源策略的由来</h4><blockquote><p>为了防止网站遭到恶意攻击，这里所谓恶意攻击就是从自己服务器的页面代码 js 中通过别人的 URL 去请求别人的服务器资源，这样通俗一点。这会导致信息被窃取，所以浏览器设计了同源策略。</p></blockquote><p>例如：A 网站的服务器存有 A 网站用户的登录、账户等信息，该信息通常是由 A 网站的用户可获取的，但是如果没有同源策略，那么 B 网站的用户可以通过 AJAX 请求 A 网站服务器的资源，从而获取到用户的信息，导致用户信息被窃取。</p><h4 id="2-2-什么是同源策略"><a href="#2-2-什么是同源策略" class="headerlink" title="2.2 什么是同源策略"></a>2.2 什么是同源策略</h4><blockquote><p>1995年，同源政策由 Netscape 公司引入浏览器。 所谓的「同源」，浏览器规定 AJAX 做请求时，请求的服务器的 URL 的域名必须和当前页面的 URL 「域名相同」浏览器才会让你做请求（同源才会进行通信）。相同包括三个部分：</p></blockquote><ul><li>域名相同</li><li>协议相同</li><li>端口号相同</li></ul><p>举例：假设网址为 <a href="http://www.xiaolu.com/example/index.html" target="_blank" rel="noopener">http://www.xiaolu.com/example/index.html</a> ，请求的服务器 URL 必须在一下三个方面做到相同才可以请求：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//协议</span></span><br><span class="line">如果服务器使用 https 的协议： https:<span class="comment">//www.xiaolu.com/example/index.html （不同源，不能请求）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//端口号</span></span><br><span class="line">如果服务器使用 <span class="number">8016</span> 端口号：http:<span class="comment">//www.xiaolu.com：8016/example/index.html （不同源，不能请求）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//域名</span></span><br><span class="line">如果服务器使用其他域名：http:<span class="comment">//www.lu.xiaolu.com：8016/example/index.html （不同源，不能请求）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//三者必须都相同</span></span><br><span class="line">http:<span class="comment">//www.xiaolu.com/example/index.html （同源，可以请求）</span></span><br></pre></td></tr></table></figure><h4 id="2-3-同源策略的问题"><a href="#2-3-同源策略的问题" class="headerlink" title="2.3 同源策略的问题"></a>2.3 同源策略的问题</h4><blockquote><p>虽然浏览器引入了同源策略，防止了恶意网站获取资源导致信息泄露。但是，会导致一下几个问题。</p></blockquote><ul><li>Cookie、LocalStorage 和 IndexDB 无法读取。 </li><li>DOM 无法获得。 </li><li>AJAX 请求不能发送。 </li></ul><h5 id="1、不同源获取-Cookie"><a href="#1、不同源获取-Cookie" class="headerlink" title="1、不同源获取 Cookie"></a>1、不同源获取 Cookie</h5><blockquote><p>同源策略导致不同源的页面是不可以获取 Cookie 值的，如果有存在不同源的两个页面（一级域名相同，二级域名不同），想要共享 Cookie ，怎么做呢？</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//假设两个共享 Cookie 的网址</span></span><br><span class="line">A 网址：http:<span class="comment">//v1.xiaolu.com/index.html</span></span><br><span class="line">B 网址：http:<span class="comment">//v2.xiaolu.com/index.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法一：通过设置两个页面的 domain 值相同，就可以共享 Cookie</span></span><br><span class="line"><span class="comment">// 注意：只是适用于二级域名不同 Cookie 和 iframe,对于 LocalStorage 和 IndexDB 不适用。 </span></span><br><span class="line"><span class="built_in">document</span>.domain = <span class="string">'.xiaolu.com'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法二：服务器设置 Cookie 的时候，指定 Cookie 所属一级域名，上述如果一级域名不同也不会存在限制</span></span><br><span class="line"><span class="built_in">Set</span>-Cookie: key=value; domain=.xiaolu.com; path=<span class="regexp">/</span></span><br></pre></td></tr></table></figure><h2 id="二、AJAX-跨域共享"><a href="#二、AJAX-跨域共享" class="headerlink" title="二、AJAX 跨域共享"></a>二、AJAX 跨域共享</h2><h3 id="2-1-架设代理服务器"><a href="#2-1-架设代理服务器" class="headerlink" title="2.1 架设代理服务器"></a>2.1 架设代理服务器</h3><blockquote><p>同源域名下架设代理服务器，JavaScript负责把请求发送到代理服务器，代理服务器将结果返回，准守了浏览器的同源策略。</p><p><strong>缺点：需要额外的服务器做开发</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;/proxy?url=http://www.baidu.com.cn&apos;</span><br></pre></td></tr></table></figure><h3 id="2-2-domain"><a href="#2-2-domain" class="headerlink" title="2.2 domain"></a>2.2 domain</h3><blockquote><p>同一主域的不同子域可以设置document.domain为主域来让他们同域,并且子域的协议和端口都要一致。</p><p>document.domain只能设置往上设置域名,需要载入iframe来相互操作。</p></blockquote><h3 id="2-3-JSONP"><a href="#2-3-JSONP" class="headerlink" title="2.3 JSONP"></a>2.3 JSONP</h3><blockquote><p>一些带 src 的 html 标签都可以实现跨域，link、font-face、img、video、audio、script等。 </p></blockquote><h4 id="1、本质"><a href="#1、本质" class="headerlink" title="1、本质"></a>1、本质</h4><blockquote><p>利用浏览器允许跨域引用  JavaScript 资源的功能。</p></blockquote><h4 id="2、缺点"><a href="#2、缺点" class="headerlink" title="2、缺点"></a>2、缺点</h4><blockquote><p>只能用 Get 请求，并且返回 javascript。</p></blockquote><h4 id="3、优点"><a href="#3、优点" class="headerlink" title="3、优点"></a>3、优点</h4><blockquote><p>简单适用，老式浏览器全部支持，服务器改造非常小 </p></blockquote><h4 id="4、基本流程"><a href="#4、基本流程" class="headerlink" title="4、基本流程"></a>4、基本流程</h4><blockquote><p>JSONP 通常以函数的形式返回，需要在页面写好返回的函数，页面动态的添加一个<code>&lt;script&gt;</code>节点，动态读取外域的 javascript 资源，然接受回调。（在外域的 javascript 文件中返回一个函数，函数中有我们需要的数据，我们在本地触发该函数就可以完成跨域）。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addScriptTag</span>(<span class="params">src</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">      script.setAttribute(<span class="string">"type"</span>,<span class="string">"text/javascript"</span>);</span><br><span class="line">      script.src = src;</span><br><span class="line">      <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      addScriptTag(<span class="string">'http://ip.jsontest.com/?callback=ip'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ip</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">      alert(data.ip);</span><br><span class="line">    &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h4 id="5、安全性"><a href="#5、安全性" class="headerlink" title="5、安全性"></a>5、安全性</h4><blockquote><p>当这个接口没有验证Referer头的时候,就存在JSONP劫持漏洞,即在任何域下都能窃取到传输的数据。</p><p>当接口返回的是一些敏感数据时(如CSRF TOKEN,用户个人信息等),危害是很大的。</p></blockquote><h3 id="2-4-WebSocket"><a href="#2-4-WebSocket" class="headerlink" title="2.4 WebSocket"></a>2.4 WebSocket</h3><h4 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h4><blockquote><p>WebSocket是一种通信协议，使用<code>ws://</code>（非加密）和<code>wss://</code>（加密）作为协议前缀。该协议不实行同源政策，<strong>只要服务器支持</strong>，就可以通过它进行跨源通信。 </p></blockquote><h4 id="2、基本流程"><a href="#2、基本流程" class="headerlink" title="2、基本流程"></a>2、基本流程</h4><blockquote><p>浏览器发出的WebSocket请求的头信息。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /chat HTTP/<span class="number">1.1</span></span><br><span class="line">Host: server.example.com</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==</span><br><span class="line">Sec-WebSocket-Protocol: chat, superchat</span><br><span class="line">Sec-WebSocket-Version: <span class="number">13</span></span><br><span class="line">Origin: http:<span class="comment">//example.com</span></span><br></pre></td></tr></table></figure><blockquote><p>因为请求头部信息中的 origin 字段，所以 websocket 没有同源策略。服务器根据这个字段进行相应。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">101</span> Switching Protocols</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=</span><br><span class="line">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure><h3 id="2-5-CORS"><a href="#2-5-CORS" class="headerlink" title="2.5 CORS"></a>2.5 CORS</h3><blockquote><p>CORS 是 “跨域资源共享” （Cross-origin resource sharing ）的缩写，解决 AJAX 只能同源通信的限制问题。</p></blockquote><h4 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h4><blockquote><p><strong>1）基本流程 ：</strong>整个 CORS 是浏览器自动完成的，浏览器一旦发现 AJAX 是跨域请求，自动添加一些信息在头部，只要服务器端能够识别在头部的信息，就可以完成跨域通信。</p><p><strong>2）设计思想：</strong>CORS 的设计思想就是使用自定义 HTTP 头部让浏览器与服务器进行沟通，从而决定请求或响应是应该成功，还应该是失败。</p></blockquote><h4 id="2、兼容性"><a href="#2、兼容性" class="headerlink" title="2、兼容性"></a>2、兼容性</h4><blockquote><p>CORS 需要浏览器和服务器同时支持，IE 不能低于 IE10。</p></blockquote><h4 id="3、CORS-两种请求方式"><a href="#3、CORS-两种请求方式" class="headerlink" title="3、CORS 两种请求方式"></a>3、CORS 两种请求方式</h4><blockquote><p>CORS 分为两种请求方式：</p></blockquote><ul><li><strong>普通请求:</strong> 简单的进行 AJAX 跨域请求，不需要服务器设置对请求的一些限制条件。</li><li><strong>高级请求 :</strong> 服务器对 AJAX 跨域请求设置限制条件，如：请求方法必须使用 Get 或者 Post、SSL 认证等。</li></ul><h4 id="4、请求流程"><a href="#4、请求流程" class="headerlink" title="4、请求流程"></a>4、请求流程</h4><blockquote><p>当浏览器发现是 AJAX 跨域请求时，就会识别此次跨域请求是普通请求还是高级请求，怎么识别普通请求和高级请求呢？根据浏览器发现 ajax 进行跨域请求时自动添加上的头部信息进行识别，如果头部信息符合一下两个条件就为「普通请求」，如果不符合一下两个条件，就判断为「高级请求」。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1）普通请求使用一下请求方法之一</span></span><br><span class="line">● HEAD </span><br><span class="line">● GET</span><br><span class="line">● POST</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2）自动添加的头部信息小于等于一下几个字段</span></span><br><span class="line">● Accept</span><br><span class="line">● Accept-Language</span><br><span class="line">● Content-Language</span><br><span class="line">● Last-Event-ID</span><br><span class="line">● Content-Type：application/x-www-form-urlencoded、multipart/form-data、text/plain 三个类型之一</span><br></pre></td></tr></table></figure><h5 id="4-1-普通请求"><a href="#4-1-普通请求" class="headerlink" title="4.1 普通请求"></a>4.1 普通请求</h5><h6 id="▉-判断请求方式"><a href="#▉-判断请求方式" class="headerlink" title="▉ 判断请求方式"></a>▉ 判断请求方式</h6><blockquote><p>AJAX 发送跨域请求，通过以上几个条件判断该请求是否为普通请求，如果满足条件，此次跨域请求为普通求请求。</p></blockquote><h6 id="▉-普通请求的基本流程"><a href="#▉-普通请求的基本流程" class="headerlink" title="▉ 普通请求的基本流程"></a>▉ 普通请求的基本流程</h6><blockquote><p>浏览器发现 AJAX 是跨域请求，然后再请求的头部添加一个 <code>Origin</code> 字段信息（发出请求的源地址）。然后浏览器检查请求信息确定此次的跨域的请求方式，如果为普通请求，请求信息相关字段如下：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET /cors HTTP/<span class="number">1.1</span>         <span class="comment">//请求方法</span></span><br><span class="line">Origin: http:<span class="comment">//xiaolu.com  //跨域字段（该字段的值为请求的源地址信息，包括域名、端口号、协议）</span></span><br><span class="line">Host: api.alice.com        <span class="comment">//主机地址</span></span><br><span class="line">Accept-Language: en-US     <span class="comment">//语言类型</span></span><br><span class="line">Connection: keep-alive     <span class="comment">//连接方式</span></span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span>... <span class="comment">//浏览器版本</span></span><br></pre></td></tr></table></figure><h6 id="▉-服务器端"><a href="#▉-服务器端" class="headerlink" title="▉ 服务器端"></a>▉ 服务器端</h6><blockquote><p>请求到达服务器，服务器提取 <code>Origin</code>信息，看是谁给我发来的请求信息，判断 <code>Origin</code> 是否为之前在服务器设置好的 <code>Origin</code> 字段信息，如果没有此信息，就返回一个正常的 HTTP 响应。如果有此信息，就在 HTTP 回应的头部添加几个字段，让浏览器根据服务器添加的几个字段再判断此次跨域请求是否同意了。</p></blockquote><p>如果此次请求被允许，HTTP 响应的头部添加一下几个字段：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1)用来让浏览器判断该信息服务器是否允许了此次请求。</span></span><br><span class="line"><span class="comment">// 2)如果值为 * ，表示服务器可以接收任意域名的请求。</span></span><br><span class="line"><span class="comment">// 3）否则，代表服务器之允许设置好的域名进行跨域请求。</span></span><br><span class="line">Access-Control-Allow-Origin:  http:<span class="comment">//xiaolu.com </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1）该字段表示浏览器是否可以向服务器发送 Cookie，默认情况 Cookie 不存在 CORS 请求中的。</span></span><br><span class="line"><span class="comment">// 2) 设置为 true，允许 Cookie 信息包含在请求中的。</span></span><br><span class="line"><span class="comment">// 3) 如果服务器不要浏览器发送Cookie，删除该字段即可</span></span><br><span class="line">Access-Control-Allow-Credentials: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1）如果不设置此字段，浏览器接受到请求之后，只能通过 XMLHttpRequest 对象的 getResponseHeader()拿到最基本的 6 个字段。</span></span><br><span class="line"><span class="comment">// 2）如果想要拿到其他字段，需要在下面字段中指定。(下面设置了允许获取取 name 字段信息,通过 getResponseHeader('FooBar') 获取字段的值)</span></span><br><span class="line">Access-Control-Expose-Headers: name</span><br><span class="line"></span><br><span class="line"><span class="comment">//1）响应类型和字符编码</span></span><br><span class="line">Content-Type: text/html; charset=utf<span class="number">-8</span></span><br></pre></td></tr></table></figure><h6 id="▉-客户端（AJAX-请求端）"><a href="#▉-客户端（AJAX-请求端）" class="headerlink" title="▉ 客户端（AJAX 请求端）"></a>▉ 客户端（AJAX 请求端）</h6><blockquote><p>当浏览器接收到服务器的响应信息后，判断响应头中是否包含 <code>Access-Control-Allow-Origin</code> 字段，如果没有包含，浏览器就不会将响应信息让开发人员做处理，直接抛出一个错误，回调 <code>XMLHttpRequest</code>的<code>onerror</code> 方法（虽然服务器返回的状态码可能是 200，但是被浏览器拦截了，就会被 onerror 所捕获）。</p></blockquote><h6 id="▉-withCredentials-属性"><a href="#▉-withCredentials-属性" class="headerlink" title="▉ withCredentials 属性"></a>▉ withCredentials 属性</h6><blockquote><p>CORS 请求默认不发送 Cookie 等认证信息。如果要发送 Cookie 信息，需要分别在服务器和 AJAX 请求中设置。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//服务器端响应头部添加一下字段</span></span><br><span class="line"><span class="comment">//注意：发送 Cookie ,服务器的 Access-Control-Allow-Origin 的字段不能设置为 * 。必须指定明确的、与请求网页一致的域名。只有这样，服务器域名设置的 Cookie 才会上传，其他域名的 Cookie 并不会上传。</span></span><br><span class="line">Access-Control-Allow-Credentials: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//客户端在 AJAX 请求中设置（即使服务器统一发送 Cookie ，但是浏览器不统一发送 Cookie 必须设置下字段）</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><h5 id="4-2-高级请求"><a href="#4-2-高级请求" class="headerlink" title="4.2 高级请求"></a>4.2 高级请求</h5><h6 id="▉-判断请求方式-1"><a href="#▉-判断请求方式-1" class="headerlink" title="▉ 判断请求方式"></a>▉ 判断请求方式</h6><blockquote><p>发送 AJAX 跨域请求，浏览器检测请求信息中存在 PUT 或 DELETE 方法，或者 <code>Content-Type</code>字段的类型是<code>application/json</code>  ，就将此次跨域请求定义为「高级请求」。</p></blockquote><h6 id="▉-高级请求的基本流程"><a href="#▉-高级请求的基本流程" class="headerlink" title="▉ 高级请求的基本流程"></a>▉ 高级请求的基本流程</h6><blockquote><p>高级请求会在真正的请求之前，先和服务器“打电话”，问一下服务器当前网页的域名，以及请求方法能够进行此次通信。服务器说，这次通信可以使用 PUT 或 DELETE 方法，那么浏览器才会发出 AJAX 的正式请求，否则就会报错。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Ajax 跨域请求的正式内容：</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">'http://xiaolu.com '</span>;</span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.open(<span class="string">'PUT'</span>, url, <span class="literal">true</span>);</span><br><span class="line">xhr.setRequestHeader(<span class="string">'X-Custom-Header'</span>, <span class="string">'value'</span>);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure><h6 id="▉-preflight-预请求"><a href="#▉-preflight-预请求" class="headerlink" title="▉ preflight 预请求"></a>▉ preflight 预请求</h6><blockquote><p>上述中，在真正的请求之前，「浏览器」先和服务器“打电话”，打电话的过程称为 “preflight 请求“。preflight 预请求的内容如下：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">OPTIONS /cors HTTP/<span class="number">1.1</span></span><br><span class="line">Origin: <span class="string">'http://xiaolu.com '</span>    <span class="comment">// 源地址 </span></span><br><span class="line">Access-Control-Request-Method: PUT  <span class="comment">//请求方法</span></span><br><span class="line">Access-Control-Request-Headers: X-Custom-Header</span><br><span class="line">Host: api.alice.com</span><br><span class="line">Accept-Language: en-US</span><br><span class="line">Connection: keep-alive</span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span>...</span><br></pre></td></tr></table></figure><p><strong>步骤一：浏览器发出请求</strong></p><blockquote><p>该预请求信息通过浏览器的 OPTIONS 方法来询问服务器，发送该预请求的内容，就是用来让服务器接受判断这些信息是否符合服务器端的要求。</p></blockquote><p><strong>步骤二：服务器响应请求</strong></p><blockquote><p>服务器接受到信息之后，取出字段进行以预先设置好的字段值进行判断，然后做出回应。如果与服务器设置的不符合条件，此次拒绝了 preflight 预先请求，就会返回一个正常的 HTTP 响应给浏览器。否则响应以下信息给浏览器。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="built_in">Date</span>: Mon, <span class="number">01</span> Dec <span class="number">2008</span> <span class="number">01</span>:<span class="number">15</span>:<span class="number">39</span> GMT</span><br><span class="line">Server: Apache/<span class="number">2.0</span><span class="number">.61</span> (Unix)</span><br><span class="line">Access-Control-Allow-Origin:  <span class="string">'http://xiaolu.com '</span></span><br><span class="line">Access-Control-Allow-Methods: GET, POST, PUT</span><br><span class="line">Access-Control-Allow-Headers: X-Custom-Header</span><br><span class="line">Access-Control-Max-Age: <span class="number">1728000</span> <span class="comment">//服务器运行此源地址请求的时间，一旦超过这个时间，就重新进行预请求</span></span><br><span class="line">Content-Type: text/html; charset=utf<span class="number">-8</span></span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Content-Length: <span class="number">0</span></span><br><span class="line">Keep-Alive: timeout=<span class="number">2</span>, max=<span class="number">100</span></span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Content-Type: text/plain</span><br></pre></td></tr></table></figure><p><strong>步骤三：浏览器接收请求 </strong></p><blockquote><p>1）浏览器接收到服务器的响应之后，发现只有简单的 HTPP 响应头部，没有任何的 CORS 请求信息，浏览器就知道了服务器拒绝这次 preflight 预请求，然后返回给开发人员一个错误信息，被 <code>XMLHttpRequest</code>对象的<code>onerror</code> 回调函数捕获 。</p><p>2）如果浏览器发现服务器返回的请求带有 CORS 请求头部，就获取字段判断，此次服务器允许了此次请求。</p></blockquote><p><strong>步骤四：AJAX 正常请求和回应</strong></p><blockquote><p>preflight 预请求一旦通过，浏览器就会向服务器发送正式的 AJAX 请求，以后每次浏览器正常的CORS请求，就都跟简单请求一样。</p></blockquote><h4 id="5、安全性-1"><a href="#5、安全性-1" class="headerlink" title="5、安全性"></a>5、安全性</h4><blockquote><p><strong>安全漏洞：</strong>因为 <code>Access-Control-Allow-Origin</code>  设置成通配符”*”时,表示允许任何域名跨源，如果再把 <code>Access-Control-Allow-Credentials</code> 设置为 true,允许客户端带上 cookie 的话,无疑此时是非常危险的.因为攻击者很容易就能窃取到用户个人的数据。 </p><p><strong>保护机制：</strong>客户端不带 cookie 请求的话还是会正常呈现的,因为 cookie 是一种身份标识,一旦浏览器标识了用户身份,那么返回的数据必然属于用户个人,所以浏览器设计了这种措施来保护用户数据不被泄露。 </p></blockquote><h6 id="▉-配置错误"><a href="#▉-配置错误" class="headerlink" title="▉ 配置错误"></a>▉ 配置错误</h6><blockquote><p>尽管 CORS 在设计上考虑到安全问题，但是在用户配置时经常出现很多错误，如设置 ”Access-Control-Allow-Origin”的白名单时,正则写的不正确,导致预期外的域名可以跨域。 </p></blockquote><h3 id="2-5-CORS-与-JSONP-比较"><a href="#2-5-CORS-与-JSONP-比较" class="headerlink" title="2.5 CORS 与 JSONP 比较"></a>2.5 CORS 与 JSONP 比较</h3><blockquote><p>1、JSONP 只支持 GET 请求。CORS 支持所有的 HTTP 请求。</p><p>2、JSONP 支持老式浏览器以及向不支持 CORS 的服务器请求数据。CORS 只支持 IE10 版本以上浏览器。</p></blockquote><h3 id="2-6-IE-对-CORS-的实现"><a href="#2-6-IE-对-CORS-的实现" class="headerlink" title="2.6 IE 对 CORS 的实现"></a>2.6 IE 对 CORS 的实现</h3><blockquote><p>通过 XHR 实现 AJAX 通信是一个主要限制，默认情况下，XHR 对象只能访问与包含它页面在同一域下的资源</p></blockquote><h4 id="1、简介-1"><a href="#1、简介-1" class="headerlink" title="1、简介"></a>1、简介</h4><blockquote><p>微软在 IE8 中引入了 XDR 类型，部分实现了 CORS 的规范，使得 IE 可以完成跨域处理。             </p></blockquote><h4 id="2、XDR-与-XHR-的不同"><a href="#2、XDR-与-XHR-的不同" class="headerlink" title="2、XDR 与 XHR 的不同"></a>2、XDR 与 XHR 的不同</h4><ul><li>Cookie 不能随请求发送，也不会随响应返回。</li><li>只能设置请求头部的 Content-Type 字段。</li><li>不能访问响应头部的信息。</li><li>只支持 GET 和 POST 请求。</li></ul><h4 id="3、XDR-的使用"><a href="#3、XDR-的使用" class="headerlink" title="3、XDR 的使用"></a>3、XDR 的使用</h4><blockquote><p>1、XDR 与 XHR 的 open 方法稍有不同，XDR 的 open 函数只有两个参数（只有异步操作），请求返回后，会触发 onload 事件，可以获取到返回的文本内容。</p><p>2、响应只能访问文本文件，没有状态码可用，如果缺少 Access-Control-Allow-Origin 头部就会触发 onerror 事件。（所有的请求错误只能用 onerror 来捕获） </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xdr = <span class="keyword">new</span> XDomainRequest();</span><br><span class="line">xdr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(xdr.responseText);</span><br><span class="line">&#125;;</span><br><span class="line">xdr.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">'响应错误'</span>);</span><br><span class="line">&#125;</span><br><span class="line">xdr.open(<span class="string">'get'</span>,<span class="string">'http://xiaolu.com/index.html'</span>);</span><br><span class="line">xdr.send(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><h4 id="4、POST-请求"><a href="#4、POST-请求" class="headerlink" title="4、POST 请求"></a>4、POST 请求</h4><blockquote><p>XDR 为了支持 post 请求，XDR 提供了 contentType 属性，用来表示发送数据的格式，</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xdr.Content-Type = <span class="string">"application/x-www-form-urlencoded"</span></span><br><span class="line">xdr.send(<span class="string">"name1=value1&amp;name2=value2"</span>)</span><br></pre></td></tr></table></figure><h3 id="2-7-其他浏览器对-CORS-的实现"><a href="#2-7-其他浏览器对-CORS-的实现" class="headerlink" title="2.7 其他浏览器对 CORS 的实现"></a>2.7 其他浏览器对 CORS 的实现</h3><blockquote><p>Firefox 3.5+、Safari 4+、Chrome、iso 和 Android 平台中的 webKit 都通过了 XMLHttpRequest 对象实现了对 CORS 的原生支持。</p></blockquote><h4 id="1、XHR"><a href="#1、XHR" class="headerlink" title="1、XHR"></a>1、XHR</h4><blockquote><p>在尝试打开不同来源的资源时，无序额外的编码触发这个行为，只需在 open 中传入绝对的 URL 就可以触发浏览器的跨域。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 跨域的绝对 URL 路径</span></span><br><span class="line">xhr.open(<span class="string">"get"</span>,<span class="string">"http://www.xiaolu2.com/page/index.html"</span>)</span><br></pre></td></tr></table></figure><h4 id="2、XHR-的限制"><a href="#2、XHR-的限制" class="headerlink" title="2、XHR 的限制"></a>2、XHR 的限制</h4><ul><li>不能使用 setRequestHeader() 设置自定义的头部。</li><li>不能发送和接受 Cookie。</li><li>调用 getAllResponseHeaders() 方法总返回空字符串。</li></ul><h3 id="2-7-跨浏览器的-CORS"><a href="#2-7-跨浏览器的-CORS" class="headerlink" title="2.7 跨浏览器的 CORS"></a>2.7 跨浏览器的 CORS</h3><blockquote><p>浏览器对 CORS 的支持程度不一样，但是都能实现简单（不带 preflight）的请求，所以要实现一个跨浏览器的方案。</p><p>1、检测 XHR 是否支持 CORS ：检测是否存在 <code>withCredentials</code> 属性(该属性只存在 IE 10 以上版本)。</p><p>2、检测 XDomain 对象是否存在：该属性只存在 IE 8 以上浏览器中。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCORSRequest</span>(<span class="params">method,url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    <span class="keyword">if</span>(<span class="string">"withCredentials"</span> <span class="keyword">in</span> xhr)&#123; <span class="comment">// IE 10+</span></span><br><span class="line">       xhr.open(method,url,<span class="literal">true</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> XDomainRequest != <span class="string">"undefined"</span>)&#123; <span class="comment">// IE 8+</span></span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> XDomainRequest();</span><br><span class="line">        xhr.open(<span class="string">'get'</span>,<span class="string">'http://xiaolu.com/index.html'</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        xhr = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> xhr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> request = createCORSRequest(<span class="string">"get"</span>,<span class="string">"http://www.xiaolu.com"</span>);</span><br><span class="line"><span class="keyword">if</span>(request)&#123;</span><br><span class="line">    request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 对 request.responseText 进行处理</span></span><br><span class="line">    &#125;</span><br><span class="line">     request.send</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>无论是 Firefox 3.5+、Safari 4+、Chrome 中的 XMLHttpRequest 对象还是 IE 中的XDomainRequest 对象，都可以使用以上的方法。</p></blockquote><ul><li>onerror：用于替代 <code>onreadystatechange</code> 检测错误。</li><li>onload：用于替代 <code>onreadystatechange</code> 检测成功。</li></ul><h2 id="三、跨域存在的两种攻击（XSS-CSRF）"><a href="#三、跨域存在的两种攻击（XSS-CSRF）" class="headerlink" title="三、跨域存在的两种攻击（XSS/CSRF）"></a>三、跨域存在的两种攻击（XSS/CSRF）</h2><h3 id="3-1-跨站请求伪造（CSRF）"><a href="#3-1-跨站请求伪造（CSRF）" class="headerlink" title="3.1 跨站请求伪造（CSRF）"></a>3.1 跨站请求伪造（CSRF）</h3><blockquote><p>跨站伪造请求（Cross-site request forgery ），缩写为 CSRF。CSRF 利用的是网站对用户网页浏览器的信任来进行恶意攻击的。</p></blockquote><h4 id="1、攻击原理"><a href="#1、攻击原理" class="headerlink" title="1、攻击原理"></a>1、攻击原理</h4><blockquote><p>攻击者通过技术手段欺骗用户的浏览器去访问一个曾经认证过的网站，所以用户不用进行重新认证，这是一个用户身份验证的一个漏洞：<strong>简单身份认证只保证请求来自某个用户的浏览器，确不能保证请求的本身是用户自愿发出的。</strong>攻击者诱导用户在刚访问不久的网站中点击设定的链接（本页的论坛、博客等自动生成的链接内容）。</p></blockquote><h4 id="2、防御措施"><a href="#2、防御措施" class="headerlink" title="2、防御措施"></a>2、防御措施</h4><h6 id="▉-检查-Referer-字段"><a href="#▉-检查-Referer-字段" class="headerlink" title="▉ 检查 Referer 字段"></a>▉ 检查 Referer 字段</h6><blockquote><p>HTTP 头有一个 Referer 字段，用来标记请求来源于哪个地址。Referer字段应和请求的地址位于同一域名下。 服务器在处理请求的时候，可以判断该字段是否位于正确的源地址下发送的请求。如果是 CSRF 攻击，该字段会包含恶意的网址。</p><p><strong>局限性：</strong>设置 Referer 有本身的局限性，攻击者可以篡改 Referer 字段来达到攻击的目的。</p></blockquote><h6 id="▉-添加校验-token"><a href="#▉-添加校验-token" class="headerlink" title="▉ 添加校验 token"></a>▉ 添加校验 token</h6><blockquote><p><strong>本质：</strong>CSRF 的本质是在于攻击者欺骗自己去访问设置的地址，如果在请求数据的时候，用户不把信息保存到浏览器的 Cookie 中，那么攻击者无法获取数据校验，从而不能进行 CSRF 攻击。</p><p><strong>随机校验：</strong>服务器为客户端的窗体设置一个伪随机数，客户端在提交请求的时候，将随机数与请求内容一并提交服务器，正常访问时，客户端将会收到正确得到并传回这个伪随机数。CSRF 攻击无从事先知道这个伪随机数，所以导致 token 值为空，拒绝请求。</p></blockquote><h6 id="▉-JSONP-劫持漏洞"><a href="#▉-JSONP-劫持漏洞" class="headerlink" title="▉ JSONP 劫持漏洞"></a>▉ JSONP 劫持漏洞</h6><blockquote><p>如果 JSONP 没有验证 Referer 头的时候,就存在JSONP劫持漏洞,即在任何域下都能窃取到传输的数据。 </p></blockquote><h4 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h4><ul><li>Javascript 高级程序设计</li><li><a href="https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001434499861493e7c35be5e0864769a2c06afb4754acc6000" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001434499861493e7c35be5e0864769a2c06afb4754acc6000</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/04/cors.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;AJAX 以及跨域问题完整详细解析，面试、日常项目常用点。&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="javascript" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/javascript/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="javascript" scheme="http://yoursite.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>吃透 javascript 之【完整篇】</title>
    <link href="http://yoursite.com/2019/04/03/%E5%90%83%E9%80%8F%20JavaScript%20%E4%B9%8B%E3%80%90%E5%AE%8C%E6%95%B4%E7%AF%87%E3%80%91%20/"/>
    <id>http://yoursite.com/2019/04/03/吃透 JavaScript 之【完整篇】 /</id>
    <published>2019-04-03T15:40:12.431Z</published>
    <updated>2019-04-10T08:09:50.075Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Javascript 的重点学习路线完整篇。</p><a id="more"></a><h3 id="一、JavaScript-简介"><a href="#一、JavaScript-简介" class="headerlink" title="一、JavaScript 简介"></a>一、JavaScript 简介</h3><h4 id="1、诞生"><a href="#1、诞生" class="headerlink" title="1、诞生"></a>1、诞生</h4><blockquote><p>最早期网景公司开启 web 时代的第一代互联网，早起网景公司只是做静态页面，为了能够在静态页面添加一些动态的效果，所以叫Brendan Eich 这两个人两星期之内设计出 javascript ，不出所料，这两人只用了短短的10天时间。为了使其能够借助 java 的盛行，所以起名 javascript。</p></blockquote><h4 id="2、ECMAScript"><a href="#2、ECMAScript" class="headerlink" title="2、ECMAScript"></a>2、ECMAScript</h4><blockquote><p>网景开发了 javascript 之后，微软也模仿开发了 Jscript，为了能够让 javascript 称为全球的开发标准，所以几个公司联合发布了 ECMA 标准。ECMAScript 是一种语言标准，而网景公司开发的 javascript 是这一标准的实现。</p></blockquote><h4 id="3、版本"><a href="#3、版本" class="headerlink" title="3、版本"></a>3、版本</h4><blockquote><p>因为 javascript 的标准在短时间实现的，其中存在很多的缺陷，所以 javascript 的标准 ECMAScript 不断发展，到目前的 ES6 版本 2015 年发布。这里的 javascript 版本一般说的就是实现了 ECMAScript 哪个版本。</p></blockquote><h3 id="二、数据类型和变量"><a href="#二、数据类型和变量" class="headerlink" title="二、数据类型和变量"></a>二、数据类型和变量</h3><h4 id="1、-和-的区别？"><a href="#1、-和-的区别？" class="headerlink" title="1、== 和 ===的区别？"></a>1、<code>==</code> 和 <code>===</code>的区别？</h4><blockquote><p>== 是 javascript 的设计缺陷，一般使用 === 来比较。</p><p><code>==</code> : 两种之间比较需要先进行转换，然后进行比较，有时候出现很奇怪的情况。</p><p><code>===</code> :  先比较类型，如果类型相等，然后在比较值。</p></blockquote><h4 id="2、NAN-是-Number-特殊的值"><a href="#2、NAN-是-Number-特殊的值" class="headerlink" title="2、NAN 是 Number 特殊的值"></a>2、NAN 是 Number 特殊的值</h4><blockquote><p>NAN 与任何值都不相等，包括它本身自己。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NaN === NaN; // false</span><br></pre></td></tr></table></figure><blockquote><p>唯一能判断 <code>NaN</code> 的方法是通过 <code>isNaN()</code> 函数 </p></blockquote><h4 id="3、浮点型之间的比较"><a href="#3、浮点型之间的比较" class="headerlink" title="3、浮点型之间的比较"></a>3、浮点型之间的比较</h4><blockquote><p><strong>问题</strong>：浮点型在运算会产生误差，导致计算机无法准确表示无限循环小数，所以导致比较不相等。</p><p><strong>解决：</strong>要比较浮点型之间的大小，要比较两个浮点型之差的绝对值是否小于某一个阈值。</p></blockquote><h4 id="4、null-和-undefined"><a href="#4、null-和-undefined" class="headerlink" title="4、null 和 undefined"></a>4、null 和 undefined</h4><blockquote><p><code>NULL</code> 表示“空”。<code>undefined</code> 表示未定义。大多数情况下，我们都应该用<code>null</code>。<code>undefined</code>仅仅在判断函数参数是否传递的情况下有用。 </p></blockquote><h4 id="5、严格模式是什么？"><a href="#5、严格模式是什么？" class="headerlink" title="5、严格模式是什么？"></a>5、严格模式是什么？</h4><blockquote><p><strong>缘由：</strong>初期，为了方便，不强制要求 var 声明变量，所以会导致未被 var 声明的变量自动声明为全局变量，如果同一页面不同 js 文件都用到了 js 文件的相同变量，导致变量之间相互影响，也就是我们所说的污染全局环境变量。</p><p><strong>strict模式：</strong>不用<code>var</code>申明的变量会被视为全局变量，为了避免这一缺陷，所有的JavaScript代码都应该使用strict模式。 </p></blockquote><h3 id="三、字符串"><a href="#三、字符串" class="headerlink" title="三、字符串"></a>三、字符串</h3><h4 id="1、多行字符串"><a href="#1、多行字符串" class="headerlink" title="1、多行字符串"></a>1、多行字符串</h4><blockquote><p>多行字符串用 <code></code> 反引号来表示，ES6 新增加语法。</p></blockquote><h4 id="2、字符串拼接"><a href="#2、字符串拼接" class="headerlink" title="2、字符串拼接"></a>2、字符串拼接</h4><blockquote><p>关于字符串拼接用 ${name} 引用，ES6 新增加语法。</p></blockquote><h3 id="四、数组"><a href="#四、数组" class="headerlink" title="四、数组"></a>四、数组</h3><h4 id="1、indexof"><a href="#1、indexof" class="headerlink" title="1、indexof"></a>1、indexof</h4><blockquote><p>搜索一个指定的元素的位置 。</p></blockquote><h4 id="2、slice"><a href="#2、slice" class="headerlink" title="2、slice"></a>2、slice</h4><blockquote><p>字符串截取。单参数为从参数起到结束，双参数为中间元素（不包括尾元素），返回新数组。</p></blockquote><h4 id="3、push-和-pop"><a href="#3、push-和-pop" class="headerlink" title="3、push 和 pop"></a>3、push 和 pop</h4><blockquote><p>末尾添加元素和末尾删除元素。</p></blockquote><h4 id="4、unshift-和-shift"><a href="#4、unshift-和-shift" class="headerlink" title="4、unshift 和 shift"></a>4、unshift 和 shift</h4><blockquote><p>头部添加元素和头部删除元素。</p></blockquote><h4 id="5、sort"><a href="#5、sort" class="headerlink" title="5、sort"></a>5、sort</h4><blockquote><p>对当前数组进行排序。</p></blockquote><h4 id="6、reverse"><a href="#6、reverse" class="headerlink" title="6、reverse"></a>6、reverse</h4><blockquote><p>将数组元素反转。</p></blockquote><h4 id="7、splice"><a href="#7、splice" class="headerlink" title="7、splice"></a>7、splice</h4><blockquote><p>可以删除元素也可以删除同时添加元素。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 从索引2开始删除3个元素,然后再添加两个元素:</span><br><span class="line">arr.splice(2, 3, &apos;Google&apos;, &apos;Facebook&apos;);</span><br></pre></td></tr></table></figure><h4 id="8、concat"><a href="#8、concat" class="headerlink" title="8、concat"></a>8、concat</h4><blockquote><p>合并两个数组，返回新数组。</p></blockquote><h4 id="9、join"><a href="#9、join" class="headerlink" title="9、join"></a>9、join</h4><blockquote><p>指定字符连接数组中的元素。</p></blockquote><h3 id="五、Map-和-Set"><a href="#五、Map-和-Set" class="headerlink" title="五、Map 和 Set"></a>五、Map 和 Set</h3><h4 id="1、Map"><a href="#1、Map" class="headerlink" title="1、Map"></a>1、Map</h4><blockquote><p>一组键值对，键必须为字符串类型。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var m = new Map([[&apos;Michael&apos;, 95], [&apos;Bob&apos;, 75], [&apos;Tracy&apos;, 85]]);</span><br><span class="line">m.get(&apos;Michael&apos;);</span><br><span class="line">m.set(&apos;Bob&apos;,59)</span><br><span class="line">m.delete(&apos;Adam&apos;);</span><br></pre></td></tr></table></figure><h4 id="2、Set"><a href="#2、Set" class="headerlink" title="2、Set"></a>2、Set</h4><blockquote><p>一组 key 的集合，不存储 value。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s = new Set([1, 2, 3]);</span><br><span class="line">s.add(4);</span><br><span class="line">s.delete(3);</span><br></pre></td></tr></table></figure><h3 id="六、iterable"><a href="#六、iterable" class="headerlink" title="六、iterable"></a>六、iterable</h3><h6 id="▉-普通-for-循环"><a href="#▉-普通-for-循环" class="headerlink" title="▉ 普通 for 循环"></a>▉ 普通 for 循环</h6><blockquote><p>当数组长度在循环过程中不会改变时，我们应将数组长度用变量存储起来，这样会获得更好的效率 。</p></blockquote><h6 id="▉-foreach-循环"><a href="#▉-foreach-循环" class="headerlink" title="▉ foreach 循环"></a>▉ foreach 循环</h6><blockquote><p><strong>功能：</strong>可以获取到 key 和 value 数组的本身。</p><p><strong>缺点：</strong></p><ul><li>不能用 break，continue 语句跳出循环。</li><li>函数内不能使用 return 语句。</li></ul><p><strong>注意：</strong>在不同浏览器下测试的结果都是 forEach 的速度不如 for 。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//item 为数组元素</span></span><br><span class="line"><span class="comment">//index 为索引下标</span></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item,index,arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item,index,arr)</span><br><span class="line">&#125;,<span class="literal">null</span>)</span><br></pre></td></tr></table></figure><h6 id="▉-for…in-循环"><a href="#▉-for…in-循环" class="headerlink" title="▉  for…in 循环"></a>▉  for…in 循环</h6><blockquote><p><strong>for-in 循环遍历的是对象的属性。</strong>而不是数组的索引 ，除了遍历数组也可以遍历对象。</p><p><strong>缺点：</strong></p><ul><li>for-in 遍历的顺序并不是确定的。</li><li>它不仅遍历数组中的元素，还会遍历自定义的属性，甚至原型链上的属性都被访问到。 </li><li>for-in 只能遍历“可枚举的属性”， length 属于不可枚举属性 （Array 中的 length 不能遍历到），for-in 不适合遍历 Array 。【链接】：<a href="https://juejin.im/entry/5a1654e951882554b8373622" target="_blank" rel="noopener">https://juejin.im/entry/5a1654e951882554b8373622</a></li></ul></blockquote><h6 id="▉-for…of-循环"><a href="#▉-for…of-循环" class="headerlink" title="▉  for…of 循环"></a>▉  for…of 循环</h6><blockquote><p>ES6 新增语法。</p><p><strong>优点：</strong></p><ul><li>以正确响应 break, continue, return。 </li><li>for-of 循环不仅支持数组，还支持大多数类数组对象。</li><li>for-of 循环也支持字符串遍历，它将字符串视为一系列 Unicode 字符来进行遍历。</li><li>for-of 也支持 Map 和 Set （两者均为 ES6 中新增的类型）对象遍历 </li></ul></blockquote><h3 id="七、函数"><a href="#七、函数" class="headerlink" title="七、函数"></a>七、函数</h3><blockquote><p>在函数中如果没有 <code>return</code> 语句，函数执行完返回 <code>undefined</code>。</p></blockquote><h4 id="1、arguments"><a href="#1、arguments" class="headerlink" title="1、arguments"></a>1、arguments</h4><blockquote><p>此关键字只在函数内部起作用，并且永远指向当前函数调用者传入的所有参数。</p><p>1、即使函数不定义参数，也是可以通过 arguments 对象拿到传入的参数的。</p><p>2、通常用来判断传入参数的个数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'x = '</span> + x); <span class="comment">// 10</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'arg '</span> + i + <span class="string">' = '</span> + <span class="built_in">arguments</span>[i]); <span class="comment">// 10, 20, 30</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>);</span><br></pre></td></tr></table></figure><h4 id="2、reset-参数（ES6）"><a href="#2、reset-参数（ES6）" class="headerlink" title="2、reset 参数（ES6）"></a>2、reset 参数（ES6）</h4><blockquote><p>由于 arguments 获取额外的传参非常的别扭，所以 ES6 新增了 rest 参数用来处理额外的参数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a,b,...rest</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(rest)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//传入多余两个参数</span></span><br><span class="line">foo(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>); <span class="comment">// Array[3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//传入少于定义参数的个数</span></span><br><span class="line">foo(<span class="number">1</span>,<span class="number">2</span>)<span class="comment">//Array[] 空数组</span></span><br></pre></td></tr></table></figure><h4 id="3、注意-return-语句"><a href="#3、注意-return-语句" class="headerlink" title="3、注意 return  语句"></a>3、注意 return  语句</h4><blockquote><p>javascript 引擎会有一个行末添加分号的机制。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正确写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="comment">// 这里不会自动加分号，因为&#123;表示语句尚未结束</span></span><br><span class="line">        name: <span class="string">'foo'</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//错误写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span>   <span class="comment">//这一行会可能被引擎自动加分号</span></span><br><span class="line">       &#123; <span class="attr">name</span>: <span class="string">'foo'</span>&#125;;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4、变量作用域和解构赋值"><a href="#4、变量作用域和解构赋值" class="headerlink" title="4、变量作用域和解构赋值"></a>4、变量作用域和解构赋值</h4><h6 id="▉-全局作用域"><a href="#▉-全局作用域" class="headerlink" title="▉ 全局作用域"></a>▉ 全局作用域</h6><blockquote><p>javascript 只有一个全局作用域，如果没有在当前函数作用域中找到，就会继续往上查找，最后如果在全局作用域中也没有找到，则报<code>ReferenceError</code>错误。 </p></blockquote><h6 id="▉-命名空间"><a href="#▉-命名空间" class="headerlink" title="▉ 命名空间"></a>▉ 命名空间</h6><blockquote><p>全局变量会绑定到 windows 上，不同的 javascript 文件使用相同的全局变量会产生命名冲突，我们很难发现，所以一般减少冲突的方法就是所有变量和函数全部绑定到一个全局变量中。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 唯一的全局变量MYAPP:</span></span><br><span class="line"><span class="keyword">var</span> MYAPP = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其他变量:</span></span><br><span class="line">MYAPP.name = <span class="string">'myapp'</span>;</span><br><span class="line">MYAPP.version = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其他函数:</span></span><br><span class="line">MYAPP.foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'foo'</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>许多 js 库都是这么干的，jQuery，YUI等。</p></blockquote><h6 id="▉-局部作用域"><a href="#▉-局部作用域" class="headerlink" title="▉ 局部作用域"></a>▉ 局部作用域</h6><blockquote><p>所谓的 js 作用域是在函数内部的，for 循环等语句块中是无法定义具有局部作用域变量的。ES6 引用了 let 代替 var 声明块级作用域变量。</p></blockquote><h6 id="▉-对多个变量同时赋值"><a href="#▉-对多个变量同时赋值" class="headerlink" title="▉ 对多个变量同时赋值"></a>▉ 对多个变量同时赋值</h6><blockquote><p>使用 ES6 新增加的解构赋值。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [x, y, z] = [<span class="string">'hello'</span>, <span class="string">'JavaScript'</span>, <span class="string">'ES6'</span>];</span><br></pre></td></tr></table></figure><p><strong>适用场景：</strong></p><p>1、交换两个变量</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>,y = <span class="number">2</span>;</span><br><span class="line">[x,y] = [y,x]</span><br></pre></td></tr></table></figure><p>2、快速获取当前页面的域名和路径</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;<span class="attr">hostname</span>:domain, <span class="attr">pathname</span>:path&#125; = location;</span><br></pre></td></tr></table></figure><p>3、函数接受对象的属性为参数</p><blockquote><p>用解构直接将对象的属性绑定到变量中。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildDate</span>(<span class="params">&#123;year, month, day, hour=<span class="number">0</span>, minute=<span class="number">0</span>, second=<span class="number">0</span>&#125;</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(year + <span class="string">'-'</span> + month + <span class="string">'-'</span> + day + <span class="string">' '</span> + hour + <span class="string">':'</span> + minute + <span class="string">':'</span> + second);</span><br><span class="line">&#125;</span><br><span class="line">buildDate(&#123; <span class="attr">year</span>: <span class="number">2017</span>, <span class="attr">month</span>: <span class="number">1</span>, <span class="attr">day</span>: <span class="number">1</span> &#125;);</span><br></pre></td></tr></table></figure><h4 id="5、方法"><a href="#5、方法" class="headerlink" title="5、方法"></a>5、方法</h4><h6 id="▉-this-指针"><a href="#▉-this-指针" class="headerlink" title="▉ this 指针"></a>▉ this 指针</h6><blockquote><p>如果以对象的方法形式调用，比如<code>xiaoming.age()</code>，该函数的<code>this</code>指向被调用的对象，也就是<code>xiaoming</code>。如果单独调用函数，比如<code>getAge()</code>，此时，该函数的<code>this</code>指向全局对象，也就是<code>window</code>。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">    <span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); <span class="comment">// 25, 正常结果</span></span><br><span class="line">getAge(); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = xiaoming.age; <span class="comment">// 先拿到xiaoming的age函数</span></span><br><span class="line">fn(); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><blockquote><p>以上是 js 的设计错误，ECMA决定，在 strict 模式下让函数的<code>this</code>指向<code>undefined</code> 。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">getAgeFromBirth</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">            <span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); <span class="comment">// Uncaught TypeError: Cannot read property 'birth' of undefined</span></span><br></pre></td></tr></table></figure><blockquote><p>报错了，<code>this</code>  指针只在 <code>age</code> 方法的函数内指向 <code>xiaoming</code> 在函数内部定义的函数 ，this 指针指向 undefined ，他重新指向全局变量。</p></blockquote><p>改进方法，用 that 进行捕获。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> that = <span class="keyword">this</span>; <span class="comment">// 在方法内部一开始就捕获this</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">getAgeFromBirth</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">            <span class="keyword">return</span> y - that.birth; <span class="comment">// 用that而不是this</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); <span class="comment">// 25</span></span><br></pre></td></tr></table></figure><h6 id="▉-apply-方法"><a href="#▉-apply-方法" class="headerlink" title="▉ apply() 方法"></a>▉ apply() 方法</h6><blockquote><p><strong>作用： </strong>指针函数的 this 指向哪个对象。</p><p><strong>使用：</strong></p><ul><li>参数一：需要绑定的 this 变量。</li><li>参数二：传入的是 Array，表示函数本身的参数。</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">    <span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); <span class="comment">// 25</span></span><br><span class="line">getAge.apply(xiaoming, []); <span class="comment">// 25, this指向xiaoming, 参数为空</span></span><br></pre></td></tr></table></figure><h6 id="▉-call-方法"><a href="#▉-call-方法" class="headerlink" title="▉ call() 方法"></a>▉ call() 方法</h6><blockquote><p>把参数按照顺序传入。</p></blockquote><h6 id="▉-装饰器"><a href="#▉-装饰器" class="headerlink" title="▉ 装饰器"></a>▉ 装饰器</h6><blockquote><p>利用<code>apply()</code>，我们还可以动态改变函数的行为。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> oldParseInt = <span class="built_in">parseInt</span>; <span class="comment">// 保存原函数</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.parseInt = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    count += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> oldParseInt.apply(<span class="literal">null</span>, <span class="built_in">arguments</span>); <span class="comment">// 调用原函数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="6、高阶函数"><a href="#6、高阶函数" class="headerlink" title="6、高阶函数"></a>6、高阶函数</h4><blockquote><p>JavaScript的函数其实都指向某个变量。既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为<strong>高阶函数 </strong>。 </p></blockquote><h6 id="▉-map-对元素自身进行计算"><a href="#▉-map-对元素自身进行计算" class="headerlink" title="▉ map 对元素自身进行计算"></a>▉ map 对元素自身进行计算</h6><blockquote><p><code>map()</code> 方法定义在 JavaScript 的 <code>Array</code> 中 ,对数组中的每个数据做处理。</p><p><code>map()</code>作为高阶函数，事实上它把运算规则抽象了，因此，我们不但可以计算简单的f(x)=x2，还可以计算任意复杂的函数 。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">var</span> results = arr.map(pow); <span class="comment">// [1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line"><span class="built_in">console</span>.log(results);</span><br></pre></td></tr></table></figure><h6 id="▉-reduce-所有元素进行累加计算"><a href="#▉-reduce-所有元素进行累加计算" class="headerlink" title="▉ reduce 所有元素进行累加计算"></a>▉ reduce 所有元素进行累加计算</h6><blockquote><p>Array的<code>reduce()</code>把一个函数作用在这个<code>Array</code>的<code>[x1, x2, x3...]</code>上，这个函数必须接收两个参数，<code>reduce()</code>把结果继续和序列的下一个元素做累积计算。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;); <span class="comment">// 25</span></span><br></pre></td></tr></table></figure><h6 id="▉-filter-过滤元素"><a href="#▉-filter-过滤元素" class="headerlink" title="▉ filter 过滤元素"></a>▉ filter 过滤元素</h6><blockquote><p>用于把  <code>Array</code>的某些元素过滤掉，然后返回剩下的元素。 和 <code>map()</code> 不同的是，<code>filter()</code> <strong>把传入的函数依次作用于每个元素，然后根据返回值是 <code>true</code> 还是 <code>false</code> 决定保留还是丢弃该元素。</strong> </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在一个Array中，删掉偶数，只保留奇数</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">15</span>];</span><br><span class="line"><span class="keyword">var</span> r = arr.filter(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x % <span class="number">2</span> !== <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line">r; <span class="comment">// [1, 5, 9, 15]</span></span><br></pre></td></tr></table></figure><p><strong>● 回调函数</strong></p><blockquote><p>filter 有多个参数。</p><p><strong>1、一个参数：</strong>仅使用一个表示 Array 的某个元素。</p><p><strong>2、三个参数：</strong>回调函数可以接受另外两个参数，表示元素的<strong>位置</strong>和<strong>数组本身</strong>。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//去除重复元素依靠的是 indexOf 总是返回第一个元素的位置，后续的重复元素位置与 indexOf 返回的位置不相等，因此被 filter 滤掉了。</span></span><br><span class="line"><span class="keyword">var</span> r,</span><br><span class="line">arr = [<span class="string">'apple'</span>, <span class="string">'strawberry'</span>, <span class="string">'banana'</span>, <span class="string">'pear'</span>, <span class="string">'apple'</span>, <span class="string">'orange'</span>, <span class="string">'orange'</span>, <span class="string">'strawberry'</span>];</span><br><span class="line">r = arr.filter(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, self</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> self.indexOf(element) === index;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h6 id="▉-sort-排序"><a href="#▉-sort-排序" class="headerlink" title="▉ sort 排序"></a>▉ sort 排序</h6><blockquote><p>1、比较字符或者字符串，根据 ASCLL 码进行排序的。</p><p>2、比较数字，先将数组中的数字转换成字符串，然后再进行排序。</p></blockquote><p>sort 是一个高阶函数，可以传入函数来进行自定义的比较：</p><ul><li>数字比较</li></ul><blockquote><p>传入一个比较函数，-返回值为 1，-1，0；</p><p><strong>注意：</strong>sort 直接对 Array 进行修改，结果返回 Array。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="comment">//经断点调试，更像是一种插入排序</span></span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//变</span></span><br><span class="line">    <span class="keyword">if</span> (x &lt; y) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//不变</span></span><br><span class="line">    <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [1, 2, 10, 20]</span></span><br></pre></td></tr></table></figure><h4 id="6、闭包"><a href="#6、闭包" class="headerlink" title="6、闭包"></a>6、闭包</h4><blockquote><p>将闭包和 Java 类中的 get 获取内部私有变量做对比。</p></blockquote><h6 id="▉-什么是闭包？"><a href="#▉-什么是闭包？" class="headerlink" title="▉ 什么是闭包？"></a>▉ 什么是闭包？</h6><blockquote><p>只有函数内部的子函数才能读取局部变量，定义在一个函数内部的函数 。</p></blockquote><h6 id="▉-作用"><a href="#▉-作用" class="headerlink" title="▉ 作用"></a>▉ 作用</h6><blockquote><p>1）在函数的外部也可以获取到函数内部的局部变量。</p><p>2）让这些局部变量值始终保存在内存中，保证不会被 js “垃圾回收机制”回收。</p></blockquote><h6 id="▉-使用闭包注意事项"><a href="#▉-使用闭包注意事项" class="headerlink" title="▉ 使用闭包注意事项"></a>▉ 使用闭包注意事项</h6><blockquote><p>1）闭包会被保存到内存中，内存消耗很大，会造成网页性能问题，在 IE 会导致内存泄漏。在退出函数之前，将不适用的局部变量全部删除。</p></blockquote><h4 id="7、垃圾回收机制"><a href="#7、垃圾回收机制" class="headerlink" title="7、垃圾回收机制"></a>7、垃圾回收机制</h4><h6 id="▉-生命周期"><a href="#▉-生命周期" class="headerlink" title="▉ 生命周期"></a>▉ 生命周期</h6><blockquote><p>1）分配内存： javascript 自动完成内存的分配</p><p>2）使用内存（读或写）：使用值的过程实际上是对分配内存进行读取与写入的操作 </p><p>3）释放内存：在这里最艰难的任务是找到“所分配的内存确实已经不再需要了”。它往往要求开发人员来确定在程序中哪一块内存不再需要并且释放它。所以高级语言潜入垃圾回收机制。</p></blockquote><h6 id="▉-垃圾回收机制"><a href="#▉-垃圾回收机制" class="headerlink" title="▉ 垃圾回收机制"></a>▉ 垃圾回收机制</h6><blockquote><p>主要工作是跟踪内存的<strong>分配</strong>和<strong>使用</strong>，以便当分配的内存不再使用时，自动释放它。</p></blockquote><p><strong>1）引用</strong></p><blockquote><p>垃圾回收算法主要依赖于引用的概念 ，一个对象访问另一个对象就叫做引用。</p></blockquote><p><strong>2）引用计数垃圾收集</strong></p><blockquote><p>初级的垃圾回收算法，如果没有引用指向该对象（零引用），对象将被垃圾回收机制回收。</p></blockquote><p><strong>3）限制：循环引用</strong></p><blockquote><p>当该函数调用完成离开作用域之后，可以被回收了，但是两个对象相互引用，所以不会被回收。（IE 6, 7对 DOM 结点进行计数垃圾回收）</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> o2 = &#123;&#125;;</span><br><span class="line">  o.a = o2; <span class="comment">// o 引用 o2</span></span><br><span class="line">  o2.a = o; <span class="comment">// o2 引用 o</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4）标记—清除算法</strong></p><blockquote><p>针对于“对象是否不再需要”。</p><p>1）算法假设有一个根对象（全局对象），垃圾回收器从根开始找所有从根开始引用的对象。</p><p>2）垃圾回收器将找到所有<strong>可以获得的对象</strong>和收集所有<strong>不能获得的对象</strong>。 （零引用总不可获得的）</p></blockquote><p><strong>5）限制：那些无法从根对象查询到的对象都将被清除</strong></p><h4 id="8、箭头函数"><a href="#8、箭头函数" class="headerlink" title="8、箭头函数"></a>8、箭头函数</h4><h6 id="▉-箭头中的-this"><a href="#▉-箭头中的-this" class="headerlink" title="▉ 箭头中的 this"></a>▉ 箭头中的 this</h6><blockquote><p>由于之前的函数中 this 绑定的错误处理，this 在箭头函数中被修复了。<strong>this 总是与词法作用域绑定</strong>（函数的作用域在函数定义的时候就决定了 ），由上下文确定 ，外层调用者 <code>obj</code>.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    getAge: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="keyword">this</span>.birth; <span class="comment">// 1990</span></span><br><span class="line">        <span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - <span class="keyword">this</span>.birth; <span class="comment">// this指向window 或 undefined</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> fn();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h6 id="▉-注意"><a href="#▉-注意" class="headerlink" title="▉ 注意"></a>▉ 注意</h6><blockquote><p>由于<code>this</code>在箭头函数中已经按照词法作用域绑定了，所以，用<code>call()</code>或者<code>apply()</code>调用箭头函数时，无法对<code>this</code>进行绑定，即传入的第一个参数被忽略。</p></blockquote><h4 id="9、generator-生成器"><a href="#9、generator-生成器" class="headerlink" title="9、generator 生成器"></a>9、generator 生成器</h4><h6 id="▉-定义"><a href="#▉-定义" class="headerlink" title="▉ 定义"></a>▉ 定义</h6><blockquote><p>整个 Generator 函数封装了异步任务。 标注 yield 地方都是异步需要暂停的地方（yield 将任务分为几个阶段）。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> y = <span class="keyword">yield</span> x + <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-过程"><a href="#▉-过程" class="headerlink" title="▉ 过程"></a>▉ 过程</h6><blockquote><p><strong>1）</strong>调用 Generator 会返回一个指针对象（<strong>遍历器对象</strong> ），调用指针对象的的 next 方法，会移动指针的位置（异步任务的第一阶段），也就是指向遇到第一个 yield  的位置。 </p><p><strong>2）</strong>next 方法会返回一个当前阶段的对象，表示当前阶段的信息（value:当前阶段的值，yield：布尔值 ）表示 generator 是否执行完毕。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> g = gen(<span class="number">1</span>);</span><br><span class="line">g.next() <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line">g.next() <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure><h6 id="▉-数据交换"><a href="#▉-数据交换" class="headerlink" title="▉ 数据交换"></a>▉ 数据交换</h6><blockquote><p>除了能够暂停、恢复之外，还可以作为函数体内外的数据交换。</p><p>1、不带有参数的 next 方法可以输出返回值。</p><p>2、带有参数的方法可以将参数作为上一阶段异步任务的返回结果，也就是输入。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> y = <span class="keyword">yield</span> x + <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g = gen(<span class="number">1</span>);</span><br><span class="line">g.next() <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line">g.next(<span class="number">2</span>) <span class="comment">// &#123; value: 2, done: true &#125;</span></span><br></pre></td></tr></table></figure><h6 id="▉-错误处理"><a href="#▉-错误处理" class="headerlink" title="▉ 错误处理"></a>▉ 错误处理</h6><blockquote><p>Generator 内部可以部署错误处理代码，捕获函数体外抛出的错误。</p><p>1、在函数外用指针的throw抛出的错误，被函数体内的  try … catch  代码块进行捕获。</p><p>2、实现了出错代码和处理错误的代码时间和空间上的分离。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">yield</span> x + <span class="number">2</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e)&#123; </span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g = gen(<span class="number">1</span>);</span><br><span class="line">g.next();</span><br><span class="line">g.throw（<span class="string">'出错了'</span>）;</span><br><span class="line"><span class="comment">// 出错了</span></span><br></pre></td></tr></table></figure><h6 id="▉-作用-1"><a href="#▉-作用-1" class="headerlink" title="▉ 作用"></a>▉ 作用</h6><blockquote><p>异步回调代码变成“同步”代码。</p></blockquote><h3 id="八、标准对象"><a href="#八、标准对象" class="headerlink" title="八、标准对象"></a>八、标准对象</h3><blockquote><p>总结一下，有这么几条规则需要遵守：</p></blockquote><ul><li>不要使用<code>new Number()</code>、<code>new Boolean()</code>、<code>new String()</code>创建包装对象；</li><li>用<code>parseInt()</code>或<code>parseFloat()</code>来转换任意类型到<code>number</code>；</li><li>用<code>String()</code>来转换任意类型到<code>string</code>，或者直接调用某个对象的<code>toString()</code>方法；</li><li>通常不必把任意类型转换为<code>boolean</code>再判断，因为可以直接写<code>if (myVar) {...}</code>；</li><li><code>typeof</code>操作符可以判断出<code>number</code>、<code>boolean</code>、<code>string</code>、<code>function</code>和<code>undefined</code>；</li><li>判断<code>Array</code>要使用<code>Array.isArray(arr)</code>；</li><li>判断<code>null</code>请使用<code>myVar === null</code>；</li><li>判断某个全局变量是否存在用<code>typeof window.myVar === &#39;undefined&#39;</code>；</li><li>函数内部判断某个变量是否存在用<code>typeof myVar === &#39;undefined&#39;</code>。</li></ul><blockquote><p>任何对象都有<code>toString()</code>方法吗？<code>null</code>和<code>undefined</code>就没有！确实如此，这两个特殊值要除外，虽然<code>null</code>还伪装成了<code>object</code>类型。</p></blockquote><h4 id="1、Date"><a href="#1、Date" class="headerlink" title="1、Date"></a>1、Date</h4><blockquote><p> JavaScript的 Date 对象月份值从0开始，牢记0=1月，1=2月，2=3月，……，11=12月。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now; <span class="comment">// Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span></span><br><span class="line">now.getFullYear(); <span class="comment">// 2015, 年份</span></span><br><span class="line">now.getMonth(); <span class="comment">// 5, 月份，注意月份范围是0~11，5表示六月</span></span><br><span class="line">now.getDate(); <span class="comment">// 24, 表示24号</span></span><br><span class="line">now.getDay(); <span class="comment">// 3, 表示星期三</span></span><br><span class="line">now.getHours(); <span class="comment">// 19, 24小时制</span></span><br><span class="line">now.getMinutes(); <span class="comment">// 49, 分钟</span></span><br><span class="line">now.getSeconds(); <span class="comment">// 22, 秒</span></span><br><span class="line">now.getMilliseconds(); <span class="comment">// 875, 毫秒数</span></span><br><span class="line">now.getTime(); <span class="comment">// 1435146562875, 以number形式表示的时间戳</span></span><br></pre></td></tr></table></figure><h3 id="九、面向对象编程"><a href="#九、面向对象编程" class="headerlink" title="九、面向对象编程"></a>九、面向对象编程</h3><h4 id="1、继承设计思想"><a href="#1、继承设计思想" class="headerlink" title="1、继承设计思想"></a>1、继承设计思想</h4><h6 id="▉-js-的诞生"><a href="#▉-js-的诞生" class="headerlink" title="▉ js 的诞生"></a>▉ js 的诞生</h6><blockquote><p>为了让静态页面进行交互，设计一种语言完成不需要借助服务器完成的操作，如：表单验证。</p></blockquote><h6 id="▉-模仿其他-oop-进行设计"><a href="#▉-模仿其他-oop-进行设计" class="headerlink" title="▉  模仿其他 oop 进行设计"></a>▉  模仿其他 oop 进行设计</h6><blockquote><p>js 不像其他语言是面向对象语言有类的概念，为了能够即不引入类又能实现继承，所以 js 设计者模仿 oop 语言进行设计。</p><p>1、其他语言通过 new 来生成实例，所以 js 也通过 new 生成实例。</p><p>2、其他语言有类可以通过 new 来实现，js 并没有类，所以借助 new 构造函数来生成实例。</p><p>3、不同对象有不同的属性，也有相同的属性，对于每个对象相同的属性都需要在内存中开辟多个空间存储。能否使相同的属性只存一个呢？然后拥有该属性的对象都去引用它。</p></blockquote><h6 id="▉-prototype-属性"><a href="#▉-prototype-属性" class="headerlink" title="▉  prototype 属性"></a>▉  <strong>prototype</strong> 属性</h6><blockquote><p>我们就给构造函数设计一个 prototype 属性，用来存储不同对象相同的属性，共享的属性都存到这里边，不共享的属性就存放到构造函数中。其实 prototype 属性存储的就是一个对象，构造函数里边存放的都是变量，具体看变量和对象在内存中的引用。</p></blockquote><h6 id="▉-继承"><a href="#▉-继承" class="headerlink" title="▉  继承"></a>▉  继承</h6><blockquote><p>所有构造函数生成的对象都具有 prototype 对象里边的共享属性，就像是所有实例对象继承了 prototype 对象一样。</p></blockquote><h4 id="2、封装"><a href="#2、封装" class="headerlink" title="2、封装"></a>2、封装</h4><blockquote><p>其他语言因为有类的概念，对对象的封装是非常方便的，那么 js 是怎么封装对象的呢？</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//猫对象</span></span><br><span class="line"><span class="keyword">var</span> Cat = &#123;</span><br><span class="line">    name : <span class="string">''</span>,</span><br><span class="line">    color : <span class="string">''</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-原始模式"><a href="#▉-原始模式" class="headerlink" title="▉  原始模式"></a>▉  原始模式</h6><blockquote><p>下面简单的进行两个不同对象的封装，就会有两个问题：</p><p><strong>问题：</strong></p><p>1）生成多个实例对象写起来非常麻烦。</p><p>2）实例对象和原型对象之间没什么联系。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cat1 = &#123;&#125;; <span class="comment">// 创建一个空对象</span></span><br><span class="line">cat1.name = <span class="string">"大毛"</span>; <span class="comment">// 按照原型对象的属性赋值</span></span><br><span class="line">cat1.color = <span class="string">"黄色"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat2 = &#123;&#125;;</span><br><span class="line">cat2.name = <span class="string">"二毛"</span>;</span><br><span class="line">cat2.color = <span class="string">"黑色"</span>;</span><br></pre></td></tr></table></figure><h6 id="▉-原始模式改进"><a href="#▉-原始模式改进" class="headerlink" title="▉  原始模式改进"></a>▉  原始模式改进</h6><blockquote><p>用函数来解决代码重复的问题。</p><p><strong>问题：</strong></p><p>1）但是不能反映他们来自于同一个原型对象。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name,color</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name:name,</span><br><span class="line">        color:color</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//生成实例对象</span></span><br><span class="line"><span class="keyword">var</span> cat1 = Cat(<span class="string">"大毛"</span>,<span class="string">"黄色"</span>);</span><br><span class="line"><span class="keyword">var</span> cat2 = Cat(<span class="string">"二毛"</span>,<span class="string">"黑色"</span>);</span><br></pre></td></tr></table></figure><h6 id="▉-构造函数模式"><a href="#▉-构造函数模式" class="headerlink" title="▉  构造函数模式"></a>▉  构造函数模式</h6><blockquote><p>为了解决原型对象生成实例的问题，引入构造函数模式。</p><p>1）构造函数就是一个普通函数。</p><p>2）内部使用 this 变量，对构造函数使用 new 就能生成实例对象，内部的 this 指针就会指向实例对象。</p><p>3）每个实例对象都有 constructor 属性，并指向他们的构造函数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name,color</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name=name;</span><br><span class="line">    <span class="keyword">this</span>.color=color;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2）</span></span><br><span class="line"><span class="keyword">var</span> cat1 = <span class="keyword">new</span> Cat(<span class="string">"大毛"</span>,<span class="string">"黄色"</span>);</span><br><span class="line"><span class="keyword">var</span> cat2 = <span class="keyword">new</span> Cat(<span class="string">"二毛"</span>,<span class="string">"黑色"</span>);</span><br><span class="line"><span class="comment">//3)</span></span><br><span class="line">alert(cat1.constructor == Cat); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>问题：</strong></p><p>1）对于每个实例共享的属性，存在浪费内存的问题。</p></blockquote><h6 id="▉-原型模式（prototype-模式）"><a href="#▉-原型模式（prototype-模式）" class="headerlink" title="▉  原型模式（prototype 模式）"></a>▉  原型模式（prototype 模式）</h6><blockquote><p>每个构造函数都有一个 prototype 属性指向原型对象，我们将共享的属性存放到原型对象上，所有实例的共享属性其实都是同一个内存地址，指向<code>prototype</code>对象，因此就提高了运行效率。</p><p><strong>验证方法：</strong></p><p><strong>1）isPrototypeOf()</strong> ：验证实例与原型对象之间的关系。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; alert(Cat.prototype.isPrototypeOf(cat1)); //true</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p><strong>2）hasOwnProperty()</strong>：判断某个属性来自本地还是原型对象。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; alert(cat1.hasOwnProperty(&quot;name&quot;)); // true</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p><strong>3）in运算符</strong>：判断某个实例是否拥有某个属性。以及遍历某个实例的所有属性。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; alert(&quot;name&quot; in cat1); // true</span><br><span class="line">&gt; for(var prop in cat1) &#123; alert(&quot;cat1[&quot;+prop+&quot;]=&quot;+cat1[prop]); </span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h4 id="2、原型继承"><a href="#2、原型继承" class="headerlink" title="2、原型继承"></a>2、原型继承</h4><h4 id="3、构造函数继承（五种）"><a href="#3、构造函数继承（五种）" class="headerlink" title="3、构造函数继承（五种）"></a>3、构造函数继承（五种）</h4><blockquote><p>两个构造函数。怎么让猫继承动物？</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//动物构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.species = <span class="string">"动物"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//猫的构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name,color</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.color = color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-第一种：构造函数的绑定"><a href="#▉-第一种：构造函数的绑定" class="headerlink" title="▉  第一种：构造函数的绑定"></a>▉  第一种：构造函数的绑定</h6><blockquote><p>用 call 或 apply 方法将父对象的构造函数绑定到子对象的构造函数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name,color</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//改变 this 的绑定</span></span><br><span class="line">    Animal.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.color = color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-第二种：原型模式"><a href="#▉-第二种：原型模式" class="headerlink" title="▉  第二种：原型模式"></a>▉  第二种：原型模式</h6><blockquote><p>让猫构造函数的 prototype 等于 Animal 的实例，Animal 的实例拥有 Animal  的所有属性，所以相当于猫构造函数的 prototype 指向 Animal 实例了， 所有的猫的实例共享 Animal  里的属性了。</p><p>1) 每个实例都有 construct 属性，每个 prototype 也都有 construct 属性。</p><p>2）实例中的 construct 指向与 prototype 对象中 construct 指向同一个构造函数。也就是说改变 Cat 的原型对象之后，Cat 的实例对象 construct 属性指向的是 Animal 实例对象的 construct 属性，也就是 Animal 原型对象的 construct 属性，也就是构造函数 Animal 。</p><p>3）猫的实例对象是由 Cat 生成的，怎么能指向 Animal 呢，所以手动修改过来。</p><p>4）如果更换了 prototype对象 ，一定将 construct 属性修改过来。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cat.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br></pre></td></tr></table></figure><h6 id="▉-第三种：直接继承原型"><a href="#▉-第三种：直接继承原型" class="headerlink" title="▉  第三种：直接继承原型"></a>▉  第三种：直接继承原型</h6><blockquote><p>第二种方式的改进，跳过 Animal 的实例，直接将 Animal 的原型对象赋值给 Cat.prototype;</p><p><strong>优点：</strong>效率更高（不用执行和建立Animal的实例了 ）</p><p><strong>缺点：</strong><code>Cat.prototype</code> 和 <code>Animal.prototype</code> 现在指向了同一个对象，那么任何对 <code>Cat.prototype</code> 的修改，都会反映到 <code>Animal.prototype</code>。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cat.prototype = Animal.prototype;</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br></pre></td></tr></table></figure><h6 id="▉-第四种：空对象作为中介"><a href="#▉-第四种：空对象作为中介" class="headerlink" title="▉  第四种：空对象作为中介"></a>▉  第四种：空对象作为中介</h6><blockquote><p>对于第三种的缺点，第四种作为改进。F是空对象，所以几乎不占内存。 </p><p><strong>优点：</strong>修改Cat的prototype对象，就不会影响到Animal的prototype对象。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">F.prototype = Animal.prototype;</span><br><span class="line">Cat.prototype = <span class="keyword">new</span> F();</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br></pre></td></tr></table></figure><p>将其封装成方法:</p><blockquote><p>这个 extend 函数，就是 YUI 库如何实现继承的方法。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">　<span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">Child, Parent</span>) </span>&#123;</span><br><span class="line">　　　　<span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">　　　　F.prototype = Parent.prototype;</span><br><span class="line">　　　　Child.prototype = <span class="keyword">new</span> F();</span><br><span class="line">　　　　Child.prototype.constructor = Child;</span><br><span class="line">　　　　Child.uber = Parent.prototype;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-第五种：拷贝继承"><a href="#▉-第五种：拷贝继承" class="headerlink" title="▉  第五种：拷贝继承"></a>▉  第五种：拷贝继承</h6><blockquote><p>如果把父对象的 prototype 所有属性和方法，拷贝进子对象的 prototype 中 。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 浅拷贝继承</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend2</span>(<span class="params">Child, Parent</span>) </span>&#123;</span><br><span class="line">　　　　<span class="keyword">var</span> p = Parent.prototype;</span><br><span class="line">　　　　<span class="keyword">var</span> c = Child.prototype;</span><br><span class="line">　　　　<span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> p) &#123;</span><br><span class="line">　　　　　　c[i] = p[i];</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　　　c.uber = p;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure><h4 id="4、非构造函数继承"><a href="#4、非构造函数继承" class="headerlink" title="4、非构造函数继承"></a>4、非构造函数继承</h4><blockquote><p>让医生继承中国。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//父对象</span><br><span class="line">var Chinese = &#123;</span><br><span class="line">nation:&apos;中国&apos;</span><br><span class="line">&#125;;</span><br><span class="line">//子对象</span><br><span class="line">var Doctor =&#123;</span><br><span class="line">career:&apos;医生&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-第一种：object-方法"><a href="#▉-第一种：object-方法" class="headerlink" title="▉  第一种：object()方法"></a>▉  第一种：object()方法</h6><blockquote><p>让中国成为医生的原型对象。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="▉-第二种：浅拷贝"><a href="#▉-第二种：浅拷贝" class="headerlink" title="▉  第二种：浅拷贝"></a>▉  第二种：浅拷贝</h6><blockquote><p>把父对象的属性，全部拷贝给子对象，也能实现继承。 拷贝继承分为浅拷贝和深拷贝。</p><p><strong>问题：</strong></p><p>1）如果父对象的属性等于数组或另一个对象，子对象获得的只是一个内存地址 ，子对象改变，父对象的属性也将改变。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function extendCopy(p) &#123;</span><br><span class="line">    var c = &#123;&#125;;</span><br><span class="line">    for (var i in p) &#123; </span><br><span class="line">    c[i] = p[i];</span><br><span class="line">    &#125;</span><br><span class="line">    c.uber = p;</span><br><span class="line">    return c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-第二种：深拷贝"><a href="#▉-第二种：深拷贝" class="headerlink" title="▉  第二种：深拷贝"></a>▉  第二种：深拷贝</h6><blockquote><p>弥补浅拷贝出现的问题，真正的将对象和数组及逆行拷贝，只要递归调用”浅拷贝”就行了 。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">p, c</span>) </span>&#123;</span><br><span class="line">　　　　<span class="keyword">var</span> c = c || &#123;&#125;;</span><br><span class="line">　　　　<span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> p) &#123;</span><br><span class="line">　　　　　　<span class="keyword">if</span> (<span class="keyword">typeof</span> p[i] === <span class="string">'object'</span>) &#123;</span><br><span class="line">　　　　　　　　c[i] = (p[i].constructor === <span class="built_in">Array</span>) ? [] : &#123;&#125;;</span><br><span class="line"><span class="comment">//递归</span></span><br><span class="line">　　　　　　　　deepCopy(p[i], c[i]);</span><br><span class="line">　　　　　　&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">　　　　　　　　　c[i] = p[i];</span><br><span class="line">　　　　　　&#125;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　　　<span class="keyword">return</span> c;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure><blockquote><p>jQuery库使用的就是这种继承方法。 </p></blockquote><h4 id="5、class-继承"><a href="#5、class-继承" class="headerlink" title="5、class 继承"></a>5、class 继承</h4><blockquote><p>class 的作用就是让 JavaScript 引擎去实现原来需要我们自己编写的原型链代码。简而言之，用 class 的好处就是极大地简化了原型链代码。</p></blockquote><h3 id="十、浏览器"><a href="#十、浏览器" class="headerlink" title="十、浏览器"></a>十、浏览器</h3><h4 id="1、浏览器对象"><a href="#1、浏览器对象" class="headerlink" title="1、浏览器对象"></a>1、浏览器对象</h4><h6 id="▉-window"><a href="#▉-window" class="headerlink" title="▉ window"></a>▉ window</h6><blockquote><p><code>window</code>对象不但充当全局作用域，而且表示浏览器窗口。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'window inner size: '</span> + <span class="built_in">window</span>.innerWidth + <span class="string">' x '</span> + <span class="built_in">window</span>.innerHeight);</span><br></pre></td></tr></table></figure><h6 id="▉-navigator"><a href="#▉-navigator" class="headerlink" title="▉ navigator"></a>▉ navigator</h6><blockquote><p><code>navigator</code>对象表示浏览器的信息，最常用的属性包括： </p></blockquote><ul><li>navigator.appName：浏览器名称；</li><li>navigator.appVersion：浏览器版本；</li><li>navigator.language：浏览器设置的语言；</li><li>navigator.platform：操作系统类型；</li><li>navigator.userAgent：浏览器设定的<code>User-Agent</code>字符串。</li></ul><h6 id="▉-screen"><a href="#▉-screen" class="headerlink" title="▉ screen"></a>▉ screen</h6><blockquote><p><code>screen</code>对象表示屏幕的信息，常用的属性有： </p></blockquote><ul><li>screen.width：屏幕宽度，以像素为单位；</li><li>screen.height：屏幕高度，以像素为单位；</li><li>screen.colorDepth：返回颜色位数，如8、16、24。</li></ul><h6 id="▉-location"><a href="#▉-location" class="headerlink" title="▉ location"></a>▉ location</h6><blockquote><p><code>location</code>对象表示当前页面的URL信息。 </p><p><strong>加载新页面：</strong>location.assign() 。</p><p><strong>重新加载：</strong>location.reload() 。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//www.example.com:8080/path/index.html?a=1&amp;b=2#TOP</span></span><br><span class="line"><span class="comment">//可以用location.href获取</span></span><br><span class="line">location.protocol; <span class="comment">// 'http'</span></span><br><span class="line">location.host; <span class="comment">// 'www.example.com'</span></span><br><span class="line">location.port; <span class="comment">// '8080'</span></span><br><span class="line">location.pathname; <span class="comment">// '/path/index.html'</span></span><br><span class="line">location.search; <span class="comment">// '?a=1&amp;b=2'</span></span><br><span class="line">location.hash; <span class="comment">// 'TOP'</span></span><br></pre></td></tr></table></figure><h6 id="▉-document"><a href="#▉-document" class="headerlink" title="▉ document"></a>▉ document</h6><blockquote><p><code>document</code> 对象表示当前页面。由于 HTML 在浏览器中以 DOM 形式表示为树形结构，<code>document</code> 对象就是整个 DOM 树的根节点。 </p></blockquote><p><strong>Cookie</strong></p><blockquote><p>1) Cookie 是由服务器发送的 key-value 标示符。因为 HTTP 协议是无状态的，但是服务器要区分到底是哪个用户发过来的请求，就可以用 Cookie 来区分 。</p><p>2) 当一个用户成功登录后，服务器发送一个 Cookie 给浏览器，例如 <code>user=ABC123XYZ(加密的字符串)...</code>，此后，浏览器访问该网站时，会在请求头附上这个 Cookie，服务器根据 Cookie 即可区分出用户。<em>**</em></p><p><strong>安全性：</strong> </p><p>如果引入的第三方库存在恶意代码，则被第三方直接获取到用户登录信息。为了解决这个问题，服务器在设置 Cookie 的时候使用 <strong>httpOnly</strong>，设置的 Cookie 不能被 Javascript 读取。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie; <span class="comment">// 'v=123; remember=true; prefer=zh'</span></span><br></pre></td></tr></table></figure><h6 id="▉-history"><a href="#▉-history" class="headerlink" title="▉ history"></a>▉ history</h6><blockquote><p><code>history</code>对象保存了浏览器的历史记录，JavaScript可以调用<code>history</code>对象的<code>back()</code>或<code>forward ()</code>，相当于用户点击了浏览器的“后退”或“前进”按钮。 </p></blockquote><h4 id="2、操作-DOM"><a href="#2、操作-DOM" class="headerlink" title="2、操作 DOM"></a>2、操作 DOM</h4><h6 id="▉-更新-DOM"><a href="#▉-更新-DOM" class="headerlink" title="▉ 更新 DOM"></a>▉ 更新 DOM</h6><p><strong>1）<code>innerHtml</code>属性</strong></p><blockquote><p>修改文本。用<code>innerHTML</code>时要注意，是否需要写入HTML。如果写入的字符串是通过网络拿到了，<strong>要注意对字符编码来避免XSS攻击。</strong> </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取&lt;p id="p-id"&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="built_in">document</span>.getElementById(<span class="string">'p-id'</span>);</span><br><span class="line"><span class="comment">// 设置文本为abc:</span></span><br><span class="line">p.innerHTML = <span class="string">'ABC'</span>; <span class="comment">// &lt;p id="p-id"&gt;ABC&lt;/p&gt;</span></span><br><span class="line"><span class="comment">// 设置HTML:</span></span><br><span class="line">p.innerHTML = <span class="string">'ABC &lt;span style="color:red"&gt;RED&lt;/span&gt; XYZ'</span>;</span><br><span class="line"><span class="comment">// &lt;p&gt;...&lt;/p&gt;的内部结构已修改</span></span><br></pre></td></tr></table></figure><p><strong>2) 修改 innerText 或 textContent 属性</strong></p><blockquote><p>可以自动对字符串进行HTML编码，保证无法设置任何HTML标签： </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p.innerText = <span class="string">'&lt;script&gt;alert("Hi")&lt;/script&gt;'</span>;</span><br><span class="line"><span class="comment">// HTML被自动编码，无法设置一个&lt;script&gt;节点:</span></span><br></pre></td></tr></table></figure><p><strong>3) 两者区别 </strong></p><blockquote><p>读取属性，<code>innerText</code>不返回隐藏元素的文本，而<code>textContent</code>返回所有文本。另外注意 <strong>IE&lt;9</strong> 支持<code>textContent</code>。 </p></blockquote><p><strong>4）设置 CSS 样式 </strong></p><blockquote><p>DOM节点的<code>style</code>属性对应所有的 CSS 。CSS允许<code>font-size</code>这样的名称使用驼峰命名法（fontSize）。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p.style.fontSize = &apos;20px&apos;;</span><br></pre></td></tr></table></figure><h6 id="▉-插入-DOM"><a href="#▉-插入-DOM" class="headerlink" title="▉ 插入 DOM"></a>▉ 插入 DOM</h6><p><strong>1）使用 <code>appendChild</code> 把一个子节点添加到父节点的最后一个子节点。 </strong> </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span></span><br><span class="line">    list = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>),</span><br><span class="line">    haskell = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">    haskell.id = <span class="string">'haskell'</span>;</span><br><span class="line">    haskell.innerText = <span class="string">'Haskell'</span>;</span><br><span class="line">    list.appendChild(haskell);</span><br></pre></td></tr></table></figure><p><strong>2) insertBefore 插入指定位置</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将子节点插入到 referenceElement 之前</span><br><span class="line">parentElement.insertBefore(newElement, referenceElement);</span><br></pre></td></tr></table></figure><h6 id="▉-删除-DOM"><a href="#▉-删除-DOM" class="headerlink" title="▉ 删除 DOM"></a>▉ 删除 DOM</h6><blockquote><p>parentElement () 得到删除节点的父节点，然后 removeChild() 删除节点。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拿到待删除节点:</span></span><br><span class="line"><span class="keyword">var</span> self = <span class="built_in">document</span>.getElementById(<span class="string">'to-be-removed'</span>);</span><br><span class="line"><span class="comment">// 拿到父节点:</span></span><br><span class="line"><span class="keyword">var</span> parent = self.parentElement;</span><br><span class="line"><span class="comment">// 删除:</span></span><br><span class="line"><span class="keyword">var</span> removed = parent.removeChild(self);</span><br><span class="line">removed === self; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong></p><p>1、删除后的节点虽然不在文档树中了，但其实它还在内存中，可以随时再次被添加到别的位置。 </p><p>2、parent.children[0] 删除节点的时候注意下标。</p></blockquote><h4 id="3、操作表单"><a href="#3、操作表单" class="headerlink" title="3、操作表单"></a>3、操作表单</h4><p>HTML表单的输入控件主要有以下几种： </p><ul><li>文本框，对应的<code>&lt;input type=&quot;text&quot;&gt;</code>，用于输入文本；</li><li>口令框，对应的<code>&lt;input type=&quot;password&quot;&gt;</code>，用于输入口令；</li><li>单选框，对应的<code>&lt;input type=&quot;radio&quot;&gt;</code>，用于选择一项；</li><li>复选框，对应的<code>&lt;input type=&quot;checkbox&quot;&gt;</code>，用于选择多项；</li><li>下拉框，对应的<code>&lt;select&gt;</code>，用于选择一项；</li><li>隐藏文本，对应的<code>&lt;input type=&quot;hidden&quot;&gt;</code>，用户不可见，但表单提交时会把隐藏文本发送到服务器。</li></ul><h6 id="▉-获取值"><a href="#▉-获取值" class="headerlink" title="▉ 获取值"></a>▉ 获取值</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;input type="text" id="email"&gt;</span></span><br><span class="line"><span class="keyword">var</span> input = <span class="built_in">document</span>.getElementById(<span class="string">'email'</span>);</span><br><span class="line">input.value; <span class="comment">// '用户输入的值'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;label&gt;&lt;input type="radio" name="weekday" id="monday" value="1"&gt; Monday&lt;/label&gt;</span></span><br><span class="line">mon.value; <span class="comment">// '1'</span></span><br><span class="line">mon.checked; <span class="comment">// true或者false</span></span><br></pre></td></tr></table></figure><h6 id="▉-提交表单"><a href="#▉-提交表单" class="headerlink" title="▉ 提交表单"></a>▉ 提交表单</h6><p><strong>方法一：</strong></p><blockquote><p>响应一个 button 方法。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"test-form"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"test"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"doSubmitForm()"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">doSubmitForm</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> form = <span class="built_in">document</span>.getElementById(<span class="string">'test-form'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 可以在此修改form的input...</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 提交form:</span></span></span><br><span class="line"><span class="undefined">    form.submit();</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>方法二：</strong></p><blockquote><p>onsubmit 事件。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"login-form"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">"return checkForm()"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"input-password"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">id</span>=<span class="string">"md5-password"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">checkForm</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> input_pwd = <span class="built_in">document</span>.getElementById(<span class="string">'input-password'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> md5_pwd = <span class="built_in">document</span>.getElementById(<span class="string">'md5-password'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 把用户输入的明文变为MD5:</span></span></span><br><span class="line"><span class="undefined">    md5_pwd.value = toMD5(input_pwd.value);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 继续下一步:</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="4、操作文件"><a href="#4、操作文件" class="headerlink" title="4、操作文件"></a>4、操作文件</h4><blockquote><p>在表单提交文件时，from 表单的 enctype  属性应该使用 <code>multipart/form-data</code>  不对文件数据进行编码才能上传，其他数据默认 <code>application/x-www-form-urlencoded</code>  编码再提交。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//input 的 ID</span><br><span class="line">var f = document.getElementById(&apos;test-file-upload&apos;);</span><br><span class="line">var filename = f.value; // &apos;C:\fakepath\test.png&apos;</span><br><span class="line">if (!filename || !(filename.endsWith(&apos;.jpg&apos;) || filename.endsWith(&apos;.png&apos;) || filename.endsWith(&apos;.gif&apos;))) &#123;</span><br><span class="line">    alert(&apos;Can only upload image file.&apos;);</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-File-API-操作文件"><a href="#▉-File-API-操作文件" class="headerlink" title="▉ File API 操作文件"></a>▉ File API 操作文件</h6><blockquote><p>HTML5的File API提供了 <code>File</code> 和 <code>FileReader</code> 两个主要对象，可以获得文件信息并读取文件。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span></span><br><span class="line">            fileInput = <span class="built_in">document</span>.getElementById(<span class="string">'test-image-file'</span>),</span><br><span class="line">            info = <span class="built_in">document</span>.getElementById(<span class="string">'test-file-info'</span>),</span><br><span class="line">            preview = <span class="built_in">document</span>.getElementById(<span class="string">'test-image-preview'</span>);</span><br><span class="line">            <span class="comment">// 监听change事件:</span></span><br><span class="line">            fileInput.addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// 清除背景图片:</span></span><br><span class="line">                preview.style.backgroundImage = <span class="string">''</span>;</span><br><span class="line">                <span class="comment">// 检查文件是否选择:</span></span><br><span class="line">                <span class="keyword">if</span> (!fileInput.value) &#123;</span><br><span class="line">                    info.innerHTML = <span class="string">'没有选择文件'</span>;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 获取File引用:</span></span><br><span class="line">                <span class="keyword">var</span> file = fileInput.files[<span class="number">0</span>];</span><br><span class="line">                <span class="comment">// 获取File信息:</span></span><br><span class="line">                info.innerHTML = <span class="string">'文件: '</span> + file.name + <span class="string">'&lt;br&gt;'</span> +</span><br><span class="line">                                <span class="string">'大小: '</span> + file.size + <span class="string">'&lt;br&gt;'</span> +</span><br><span class="line">                                <span class="string">'修改: '</span> + file.lastModifiedDate;</span><br><span class="line">                <span class="keyword">if</span> (file.type !== <span class="string">'image/jpeg'</span> &amp;&amp; file.type !== <span class="string">'image/png'</span> &amp;&amp; file.type !== <span class="string">'image/gif'</span>) &#123;</span><br><span class="line">                    alert(<span class="string">'不是有效的图片文件!'</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 读取文件:</span></span><br><span class="line">                <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">                <span class="comment">//异步操作的回调函数</span></span><br><span class="line">                reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span></span><br><span class="line">                        data = e.target.result; <span class="comment">// 'data:image/jpeg;base64,/9j/4AAQSk...(base64编码)...'            </span></span><br><span class="line">                    preview.style.backgroundImage = <span class="string">'url('</span> + data + <span class="string">')'</span>;</span><br><span class="line">                &#125;;</span><br><span class="line">                <span class="comment">// 以DataURL的形式读取文件:(异步操作)</span></span><br><span class="line">                reader.readAsDataURL(file);</span><br><span class="line">            &#125;);</span><br></pre></td></tr></table></figure><h4 id="5、AJAX"><a href="#5、AJAX" class="headerlink" title="5、AJAX"></a>5、AJAX</h4><blockquote><p>需要注意的几点：</p><p>1、通过检测<code>window</code>对象是否有<code>XMLHttpRequest</code>属性来确定浏览器是否支持标准的<code>XMLHttpRequest</code> </p><p>2、先设置<code>onreadystatechange</code>的回调函数。在回调函数中，通常我们只需通过<code>readyState === 4</code>判断请求是否完成 </p><p>3、<code>XMLHttpRequest</code>对象的<code>open()</code>方法有3个参数，分别为请求方式、URL地址、是否使用异步。</p><p>4、send 发送，Get 不需要参数，Post 需要把 body 部分以字符串或者 FormData 对象传进去。</p><p>关于 FromData 请查看：<a href="https://wangdoc.com/javascript/bom/form.html#formdata-%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener">FormData</a></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">'test-response-text'</span>);</span><br><span class="line">    textarea.value = text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params">code</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">'test-response-text'</span>);</span><br><span class="line">    textarea.value = <span class="string">'Error code: '</span> + code;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> request;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">    <span class="comment">//现代浏览器</span></span><br><span class="line">    request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//低版本 IE 浏览器</span></span><br><span class="line">    request = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">request.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">// 状态发生变化时，函数被回调</span></span><br><span class="line">    <span class="keyword">if</span> (request.readyState === <span class="number">4</span>) &#123; <span class="comment">// 成功完成</span></span><br><span class="line">        <span class="comment">// 判断响应结果</span></span><br><span class="line">        <span class="keyword">if</span> (request.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// 成功，通过responseText拿到响应的文本:</span></span><br><span class="line">            <span class="keyword">return</span> success(request.responseText);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 失败，根据响应码判断失败原因:</span></span><br><span class="line">            <span class="keyword">return</span> fail(request.status);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// HTTP请求还在继续...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送请求:</span></span><br><span class="line">request.open(<span class="string">'GET'</span>, <span class="string">'/api/categories'</span>);</span><br><span class="line">request.send();</span><br><span class="line"></span><br><span class="line">alert(<span class="string">'请求已发送，请等待响应...'</span>);</span><br></pre></td></tr></table></figure><h4 id="6、Cookie"><a href="#6、Cookie" class="headerlink" title="6、Cookie"></a>6、Cookie</h4><h6 id="▉-定义-1"><a href="#▉-定义-1" class="headerlink" title="▉ 定义"></a>▉ 定义</h6><blockquote><p>1）概念：Cookie 小段文本信息，存储于计算机硬盘中，大小只有 4 k。</p><p>2）特点：每个 Cookie 文件都对应一个域名，同一域名下的所以页面可以共享 Cookie，不能跨域名访问。</p><p>3）使用：通常从 document 中提取 cookie 属性提供给 javascript，然后进行创建或发送 cookie 到服务器。</p></blockquote><h6 id="▉-作用-2"><a href="#▉-作用-2" class="headerlink" title="▉ 作用"></a>▉ 作用</h6><blockquote><p>cookie 是存在用户硬盘中，用户每次访问站点时，Web应用程序都可以读取 Cookie 包含的信息。当用户再次访问这个站点时，<strong>浏览器就会在本地硬盘上查找与该 URL 相关联的 <code>Cookie</code></strong>。如果该 Cookie 存在，浏览器就将它添加到 <code>request header</code> 的 <code>Cookie</code> 字段中，与 <code>http请求</code> 一起发送到该站点。 </p></blockquote><h6 id="▉-缺点"><a href="#▉-缺点" class="headerlink" title="▉ 缺点"></a>▉ 缺点</h6><ul><li>安全性：由于cookie在HTTP中是明文传递的，其中包含的数据都可以被他人访问，可能会被篡改、盗用。</li><li>大小限制：cookie的大小限制在4KB左右，若要做大量存储显然不是理想的选择。</li><li>增加流量：cookie每次请求都会被自动添加到Request Header中，无形中增加了流量。cookie信息越大，对服务器请求的时间也越长。</li></ul><h6 id="▉-用途"><a href="#▉-用途" class="headerlink" title="▉ 用途"></a>▉ 用途</h6><blockquote><p>Cookie 一般用于保存网页访问者的信息。</p><p>1）保存用户登录信息。在一些登录网站选择下次自动登录，登录成功后，后台对用户名和密码进行加密返回数据，客户端就会将数据存储到 Cookie 中。当用户下一次进行登录时，判断 Cookie 中否存在值，存在则将Cookie 信息加到 HTTP 头部发送到服务器，实现自动登录。</p><p>2）创建购物车。通常将选择的物品放入 Cookie 中，同一域名下页面实现 Cookie 共享，提交订单将 Cookie 传到后台。</p><p>3）跟踪用户。用 Cookie 记录用户的偏好信息，然后推广小广告，在侧边栏经常是我们之前搜索过的内容。</p></blockquote><h6 id="▉-其他存储机制"><a href="#▉-其他存储机制" class="headerlink" title="▉ 其他存储机制"></a>▉ 其他存储机制</h6><blockquote><p><strong>1）web存储机制 </strong> </p><ul><li>sessionStorage：用于一个浏览器会话中存储数据，因为数据在浏览器关闭后会立即删除 </li><li>localStorage ：用于跨会话持久化地存储数据。</li></ul><p><strong>2）indexedDB </strong></p><ul><li>是 indexed Database API 的简称，是在浏览器中保存结构化数据的一种「数据库」，它类似SQL数据库的结构化数据存储机制 ， 它能够在客户端存储大量的结构化数据，并且使用索引高效检索的API。 </li></ul></blockquote><h4 id="7、-同源跨域问题"><a href="#7、-同源跨域问题" class="headerlink" title="7、 同源跨域问题"></a>7、 同源跨域问题</h4><p>请查看另一篇：</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Javascript 的重点学习路线完整篇。&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="javascript" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/javascript/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="javascript" scheme="http://yoursite.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>前端 CSS3 之基础篇【转换】</title>
    <link href="http://yoursite.com/2019/04/02/%E5%89%8D%E7%AB%AF%20CSS3%20%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%90%E8%BD%AC%E6%8D%A2%E3%80%91/"/>
    <id>http://yoursite.com/2019/04/02/前端 CSS3 之基础篇【转换】/</id>
    <published>2019-04-02T12:34:35.816Z</published>
    <updated>2019-04-04T00:51:51.569Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>小鹿带你走进 CSS3 转换，好玩又是重点。</p><a id="more"></a><h3 id="一、Treansform"><a href="#一、Treansform" class="headerlink" title="一、Treansform"></a>一、Treansform</h3><blockquote><p>CSS3 变形属性。</p><p>让元素在一个坐标系中变形。这个属性包含一系列的变形函数，可以移动、旋转和缩放元素。</p></blockquote><h6 id="▉-语法"><a href="#▉-语法" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform:none | &lt;tranform-function&gt;</span><br></pre></td></tr></table></figure><h6 id="▉-兼容性"><a href="#▉-兼容性" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IE12+、ForeFox16+、Chrome36+、Safari16+、Opera23+</span><br></pre></td></tr></table></figure><h3 id="二、2D-转换"><a href="#二、2D-转换" class="headerlink" title="二、2D 转换"></a>二、2D 转换</h3><ul><li>rotate() 旋转</li><li>translate() 平移</li><li>scale() 缩放</li><li>skew() 扭曲和斜切</li><li>matrix() 矩阵或混合</li></ul><h4 id="1、旋转-rotate"><a href="#1、旋转-rotate" class="headerlink" title="1、旋转 rotate"></a>1、旋转 rotate</h4><blockquote><p>通过指定的角度参数对原元素指定一个 2D rotation （2D 旋转）。</p></blockquote><h6 id="▉-语法-1"><a href="#▉-语法-1" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform: rotate(&lt;angle&gt;);</span><br></pre></td></tr></table></figure><h6 id="▉-参数说明"><a href="#▉-参数说明" class="headerlink" title="▉ 参数说明"></a>▉ 参数说明</h6><p>angle 指旋转角度，正数表示顺时针旋转，负数表示逆时针旋转。</p><h4 id="2、移动-translate"><a href="#2、移动-translate" class="headerlink" title="2、移动 translate"></a>2、移动 translate</h4><blockquote><p>根据左（X轴）和顶部（Y轴）位置给定的参数，从当前元素位置移动。</p></blockquote><h6 id="▉-语法-2"><a href="#▉-语法-2" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform: translate ();</span><br></pre></td></tr></table></figure><h6 id="▉-三种情况"><a href="#▉-三种情况" class="headerlink" title="▉ 三种情况"></a>▉ 三种情况</h6><ul><li>translateX(x) 仅仅水平方向移动（X 轴移动）；</li><li>translateY(Y) 仅垂直方向移动（Y 轴移动）;</li><li>translate(x,y) 水平方向和垂直方向同时移动（也就是 X 轴和 Y 轴同时移动）。</li></ul><h4 id="3、scale-缩放"><a href="#3、scale-缩放" class="headerlink" title="3、scale 缩放"></a>3、scale 缩放</h4><blockquote><p>2D 缩放。</p></blockquote><h6 id="▉-三种缩放"><a href="#▉-三种缩放" class="headerlink" title="▉ 三种缩放"></a>▉ 三种缩放</h6><ul><li>scaleX()  水平方向缩放</li><li>scaleY()  垂直方向缩放</li><li>scale()  x y 同时缩放</li></ul><h4 id="4、扭曲-skew"><a href="#4、扭曲-skew" class="headerlink" title="4、扭曲 skew"></a>4、扭曲 skew</h4><blockquote><p>斜切扭曲。</p></blockquote><h6 id="▉-三种扭曲"><a href="#▉-三种扭曲" class="headerlink" title="▉ 三种扭曲"></a>▉ 三种扭曲</h6><ul><li>skewX（）水平扭曲（正值，逆时针）</li><li>skewY（）垂直扭曲（正值，顺时针）</li><li>skew（）水平垂直同时扭曲</li></ul><h4 id="5、矩阵-matrix（难点）"><a href="#5、矩阵-matrix（难点）" class="headerlink" title="5、矩阵 matrix（难点）"></a>5、矩阵 matrix（难点）</h4><blockquote><p>矩阵分为 matrix 和 matrix3d 矩阵，分别为 3 <em> 3 和 4 </em> 4 的矩阵。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;小鹿带你走进 CSS3 转换，好玩又是重点。&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/CSS3/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>前端 CSS3 之基础篇【图片切换】</title>
    <link href="http://yoursite.com/2019/03/31/%E5%89%8D%E7%AB%AF%20CSS3%20%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%90%E5%9B%BE%E7%89%87%E5%88%87%E6%8D%A2%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/31/前端 CSS3 之基础篇【图片切换】/</id>
    <published>2019-03-31T09:50:04.971Z</published>
    <updated>2019-03-31T12:29:44.188Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>CSS3 实现图片多样式切换！</p><a id="more"></a><h4 id="一、不同格式的字体对浏览器的兼容性不同"><a href="#一、不同格式的字体对浏览器的兼容性不同" class="headerlink" title="一、不同格式的字体对浏览器的兼容性不同"></a>一、不同格式的字体对浏览器的兼容性不同</h4><table><thead><tr><th>Browser</th><th>@font-face</th><th>TrueType</th><th>WOFF</th><th>EOT</th><th>SVG</th><th>SVGZ</th></tr></thead><tbody><tr><td><img src="https://pic002.cnblogs.com/images/2011/36987/2011020918254839.png" alt="img">IE</td><td>4+</td><td>9+</td><td>9+</td><td>4+</td><td></td><td></td></tr><tr><td><img src="https://pic002.cnblogs.com/images/2011/36987/2011020918264049.png" alt="img">火狐</td><td>3.5+</td><td>3.5+</td><td>3.6+</td><td></td><td></td><td></td></tr><tr><td><img src="https://pic002.cnblogs.com/images/2011/36987/2011020918271360.png" alt="img">谷歌</td><td>4+</td><td>4+</td><td>6+</td><td></td><td>4+</td><td>6+</td></tr><tr><td><img src="https://pic002.cnblogs.com/images/2011/36987/2011020918265934.png" alt="img">苹果</td><td>3.1+</td><td>3.1+</td><td>6+</td><td></td><td>3.1+</td><td>3.1+</td></tr><tr><td><img src="https://pic002.cnblogs.com/images/2011/36987/2011020918262177.png" alt="img">opera</td><td>10+</td><td>10+</td><td>11.1+</td><td></td><td>10+</td><td>10+</td></tr></tbody></table><h4 id="二、内联元素的自动转换"><a href="#二、内联元素的自动转换" class="headerlink" title="二、内联元素的自动转换"></a>二、内联元素的自动转换</h4><blockquote><p>当给一个<strong>内联</strong>元素加以下属性就会转换为<strong>块元素</strong>。</p><p>1、float;</p><p>2、position;</p><p>3、absolute;</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CSS3 实现图片多样式切换！&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/CSS3/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>数据分析之 Python 【Pandas】</title>
    <link href="http://yoursite.com/2019/03/28/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%20Python%20%E4%B9%8B%E3%80%90Pandas%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/28/数据分析 Python 之【Pandas】/</id>
    <published>2019-03-28T01:45:19.132Z</published>
    <updated>2019-04-14T23:53:50.100Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/Pandas.png" alt=""></p><p>如果日常数据清理工作不是非常复杂，几句 Pandas 代码就给你搞定！</p><a id="more"></a><h3 id="一、Series-和-DataFrame"><a href="#一、Series-和-DataFrame" class="headerlink" title="一、Series 和 DataFrame"></a>一、Series 和 DataFrame</h3><blockquote><p>分别代表着一维的序列和二维的表结构。基于这两种数据结构，Pandas 可以对数据进行导入、清洗、处理、统计和输出。</p></blockquote><h4 id="1、Series"><a href="#1、Series" class="headerlink" title="1、Series"></a>1、Series</h4><blockquote><p>Series 是个定长的字典序列。</p><p>1、Series 有两个属性：values 和 index（默认的index为1,2…），指定 index 比如 index=[‘a’,’b’,’c’,’d’]。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line">x1 = Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">x2 = Series(data=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], index=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">print(x1)</span><br><span class="line">print(x2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="number">0</span>    <span class="number">1</span></span><br><span class="line"><span class="number">1</span>    <span class="number">2</span></span><br><span class="line"><span class="number">2</span>    <span class="number">3</span></span><br><span class="line"><span class="number">3</span>    <span class="number">4</span></span><br><span class="line">dtype: int64</span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">b    <span class="number">2</span></span><br><span class="line">c    <span class="number">3</span></span><br><span class="line">d    <span class="number">4</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><h6 id="▉-数据字典创建"><a href="#▉-数据字典创建" class="headerlink" title="▉ 数据字典创建"></a>▉ 数据字典创建</h6><blockquote><p>用数据字典的方式创建 Series。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据字典创建 Series</span></span><br><span class="line">d = &#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2</span>,<span class="string">'c'</span>:<span class="number">3</span>,<span class="string">'d'</span>:<span class="number">4</span>&#125;</span><br><span class="line">x3 = Series(d)</span><br><span class="line">print(x3)</span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">b    <span class="number">2</span></span><br><span class="line">c    <span class="number">3</span></span><br><span class="line">d    <span class="number">4</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><h4 id="2、DataFrame"><a href="#2、DataFrame" class="headerlink" title="2、DataFrame"></a>2、DataFrame</h4><blockquote><p>类似数据库的表。包括行索引和列索引。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"><span class="comment"># 数据</span></span><br><span class="line">data = &#123;</span><br><span class="line">        <span class="string">'Chinese'</span>:[<span class="number">66</span>, <span class="number">95</span>, <span class="number">93</span>, <span class="number">90</span>, <span class="number">80</span>],</span><br><span class="line">        <span class="string">'English'</span>:[<span class="number">65</span>, <span class="number">85</span>, <span class="number">92</span>, <span class="number">88</span>, <span class="number">90</span>],</span><br><span class="line">        <span class="string">'Math'</span>:[<span class="number">30</span>, <span class="number">98</span>, <span class="number">96</span>, <span class="number">77</span>, <span class="number">90</span>]</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment"># 索引默认 1,2,3...</span></span><br><span class="line">df1 = DataFrame(data)</span><br><span class="line"><span class="comment"># 设置索引</span></span><br><span class="line">df2 = DataFrame(</span><br><span class="line">                data,</span><br><span class="line">    <span class="comment"># 行索引</span></span><br><span class="line">                index=[<span class="string">'ZhangFei'</span>, <span class="string">'GuanYu'</span>, <span class="string">'ZhaoYun'</span>, <span class="string">'HuangZhong'</span>, <span class="string">'DianWei'</span>],</span><br><span class="line">    <span class="comment"># 列索引</span></span><br><span class="line">                columns=[<span class="string">'English'</span>, <span class="string">'Math'</span>, <span class="string">'Chinese'</span>]</span><br><span class="line">                )</span><br><span class="line">print(df1)</span><br><span class="line">print(df2)</span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line"><span class="number">4</span>       <span class="number">80</span>       <span class="number">90</span>    <span class="number">90</span></span><br><span class="line">            Chinese  English  Math</span><br><span class="line">ZhangFei         <span class="number">66</span>       <span class="number">65</span>    <span class="number">30</span></span><br><span class="line">GuanYu           <span class="number">95</span>       <span class="number">85</span>    <span class="number">98</span></span><br><span class="line">ZhaoYun          <span class="number">93</span>       <span class="number">92</span>    <span class="number">96</span></span><br><span class="line">HuangZhong       <span class="number">90</span>       <span class="number">88</span>    <span class="number">77</span></span><br><span class="line">DianWei          <span class="number">80</span>       <span class="number">90</span>    <span class="number">90</span></span><br></pre></td></tr></table></figure><h3 id="二、数据的导入和输出"><a href="#二、数据的导入和输出" class="headerlink" title="二、数据的导入和输出"></a>二、数据的导入和输出</h3><blockquote><p>Pandas 允许直接从 xlsx,csv 等文件导入数据，也可以输出到这些文件。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3.0 安装 openpyxl 包</span></span><br></pre></td></tr></table></figure><h3 id="三、数据清洗"><a href="#三、数据清洗" class="headerlink" title="三、数据清洗"></a>三、数据清洗</h3><h4 id="1、删除-DataFrame-中不必要的行或列"><a href="#1、删除-DataFrame-中不必要的行或列" class="headerlink" title="1、删除 DataFrame 中不必要的行或列"></a>1、删除 DataFrame 中不必要的行或列</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series,DataFrame</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">'Chinese'</span>: [<span class="number">66</span>, <span class="number">95</span>, <span class="number">93</span>, <span class="number">90</span>,<span class="number">80</span>],</span><br><span class="line">    <span class="string">'English'</span>: [<span class="number">65</span>, <span class="number">85</span>, <span class="number">92</span>, <span class="number">88</span>, <span class="number">90</span>],</span><br><span class="line">    <span class="string">'Math'</span>: [<span class="number">30</span>, <span class="number">98</span>, <span class="number">96</span>, <span class="number">77</span>, <span class="number">90</span>]</span><br><span class="line">&#125;</span><br><span class="line">df2 = DataFrame(data,</span><br><span class="line">                index=[<span class="string">'ZhangFei'</span>, <span class="string">'GuanYu'</span>, <span class="string">'ZhaoYun'</span>, <span class="string">'HuangZhong'</span>, <span class="string">'DianWei'</span>],</span><br><span class="line">                columns=[<span class="string">'English'</span>, <span class="string">'Math'</span>, <span class="string">'Chinese'</span>]</span><br><span class="line">                )</span><br><span class="line">print(df2)</span><br><span class="line"><span class="comment"># drop 删除 DataFrame 中不必要的列或行</span></span><br><span class="line"><span class="comment"># columns 删除行</span></span><br><span class="line">df2 = df2.drop(columns=[<span class="string">'Chinese'</span>])</span><br><span class="line">print(df2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># index 删除列</span></span><br><span class="line">df2 = df2.drop(index=[<span class="string">'ZhangFei'</span>])</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure><h4 id="2、重命命列名-columns，让列表名更容易识别"><a href="#2、重命命列名-columns，让列表名更容易识别" class="headerlink" title="2、重命命列名 columns，让列表名更容易识别"></a>2、重命命列名 columns，让列表名更容易识别</h4><blockquote><p>对列名重新命名，直接使用 rename(columns = new_name,inplace=True)函数。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重命名列名</span></span><br><span class="line">df2.rename(columns=&#123;<span class="string">'Chinese'</span>:<span class="string">'YuWen'</span>,<span class="string">'English'</span>:<span class="string">'YingYu'</span>&#125;,inplace = <span class="keyword">True</span>)</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure><h4 id="3、去重复的值"><a href="#3、去重复的值" class="headerlink" title="3、去重复的值"></a>3、去重复的值</h4><blockquote><p>数据采集有重复的行，使用 drop_duplicates() 就会自动把重复的<strong>行</strong>去掉。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 去除重复行</span></span><br><span class="line">df = df.drop_duplicates()</span><br></pre></td></tr></table></figure><h4 id="4、格式问题"><a href="#4、格式问题" class="headerlink" title="4、格式问题"></a>4、格式问题</h4><h6 id="▉-更改数据格式"><a href="#▉-更改数据格式" class="headerlink" title="▉ 更改数据格式"></a>▉ 更改数据格式</h6><blockquote><p>使用 astype 函数来规范数据格式，比如 Chinese 字段的值改为 str 类型，或者 int64 可以这么写。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更改数据格式</span></span><br><span class="line">df2[<span class="string">'YuWen'</span>].astype(<span class="string">'str'</span>)</span><br><span class="line">df2[<span class="string">'YuWen'</span>].astype(np.int64)</span><br></pre></td></tr></table></figure><h6 id="▉-数据间的空格"><a href="#▉-数据间的空格" class="headerlink" title="▉ 数据间的空格"></a>▉ 数据间的空格</h6><blockquote><p>用 strip 函数删除数据之间的空格。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除左右两边空格</span></span><br><span class="line">df2[<span class="string">'Chinese'</span>]=df2[<span class="string">'Chinese'</span>].map(str.strip)</span><br><span class="line"><span class="comment"># 删除左边空格</span></span><br><span class="line">df2[<span class="string">'Chinese'</span>]=df2[<span class="string">'Chinese'</span>].map(str.lstrip)</span><br><span class="line"><span class="comment"># 删除右边空格</span></span><br><span class="line">df2[<span class="string">'Chinese'</span>]=df2[<span class="string">'Chinese'</span>].map(str.rstrip)</span><br></pre></td></tr></table></figure><blockquote><p>删除某一个字段里的特殊符号。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除某一字段中的特殊符号</span></span><br><span class="line">df2[<span class="string">'YuWen'</span>]=df2[<span class="string">'YuWen'</span>].str.strip(<span class="string">'$'</span>)</span><br></pre></td></tr></table></figure><h6 id="▉-大小写转换"><a href="#▉-大小写转换" class="headerlink" title="▉ 大小写转换"></a>▉ 大小写转换</h6><blockquote><p>对人名、城市名为了统一都可能用到大小写转换，直接用 upper()、lower()、title() 函数，方法如下。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全部大写</span></span><br><span class="line">df2.columns = df2.columns.str.upper()</span><br><span class="line"><span class="comment"># 全部小写</span></span><br><span class="line">df2.columns = df2.columns.str.lower()</span><br><span class="line"><span class="comment"># 首字母大写</span></span><br><span class="line">df2.columns = df2.columns.str.title()</span><br></pre></td></tr></table></figure><h6 id="▉-查找空值"><a href="#▉-查找空值" class="headerlink" title="▉ 查找空值"></a>▉ 查找空值</h6><blockquote><p>数据量大的情况下，有很多字段存在 NaN 的可能，使用 isnull 函数进行查找。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找空值</span></span><br><span class="line">print(df2.isnull());</span><br><span class="line"><span class="comment"># 只显示空值</span></span><br><span class="line">df2.isnull().any()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 结果1</span></span><br><span class="line">            Yingyu   Math  Yuwen</span><br><span class="line">GuanYu       <span class="keyword">False</span>  <span class="keyword">False</span>  <span class="keyword">False</span></span><br><span class="line">ZhaoYun      <span class="keyword">False</span>  <span class="keyword">False</span>   <span class="keyword">True</span></span><br><span class="line">HuangZhong   <span class="keyword">False</span>  <span class="keyword">False</span>   <span class="keyword">True</span></span><br><span class="line">DianWei      <span class="keyword">False</span>  <span class="keyword">False</span>   <span class="keyword">True</span></span><br><span class="line"><span class="comment"># 结果2</span></span><br><span class="line">Yingyu    <span class="keyword">False</span></span><br><span class="line">Math      <span class="keyword">False</span></span><br><span class="line">Yuwen      <span class="keyword">True</span></span><br><span class="line">dtype: bool</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/Pandas.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;如果日常数据清理工作不是非常复杂，几句 Pandas 代码就给你搞定！&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/categories/python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>前端 CSS3 之基础篇【过渡】</title>
    <link href="http://yoursite.com/2019/03/27/%E5%89%8D%E7%AB%AF%20CSS3%20%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%90%E8%BF%87%E6%B8%A1%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/27/前端 CSS3 之基础篇【过渡】/</id>
    <published>2019-03-27T11:50:28.697Z</published>
    <updated>2019-03-31T09:50:16.263Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>CSS 过渡会用到什么地方呢？</p><a id="more"></a><h2 id="一、CSS3-过渡"><a href="#一、CSS3-过渡" class="headerlink" title="一、CSS3 过渡"></a>一、CSS3 过渡</h2><blockquote><p>1、允许 css 的属性值在一定的时间区间内平滑地过渡。</p><p>2、在鼠标点击、获得焦点、被点击或对元素任何改变中触发，并圆滑地以动画效果改变 css 的属性值。</p></blockquote><h6 id="▉-兼容性"><a href="#▉-兼容性" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p><strong>IE 10+</strong>、FireFox16+、Chrome26+、Safari6.1+ Opera 12.1 +</p></blockquote><h2 id="二、CSS3-transition-属性-4个"><a href="#二、CSS3-transition-属性-4个" class="headerlink" title="二、CSS3 transition 属性(4个)"></a>二、CSS3 transition 属性(4个)</h2><h4 id="1、transition-property-属性"><a href="#1、transition-property-属性" class="headerlink" title="1、transition-property 属性"></a>1、transition-property 属性</h4><blockquote><p>检索或设置对象中的参与过渡的属性。</p></blockquote><h6 id="▉-语法"><a href="#▉-语法" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transition-property:none|all|property</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>none : 没有属性改变</li><li>all : 所有属性改变，默认值</li><li>property: 元素的属性名称</li></ul><h4 id="2、transition-property-属性"><a href="#2、transition-property-属性" class="headerlink" title="2、transition-property 属性"></a>2、transition-property 属性</h4><blockquote><p>检索或设置对象过渡的持续时间。</p></blockquote><h6 id="▉-语法-1"><a href="#▉-语法-1" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transition</span> <span class="selector-tag">-</span> <span class="selector-tag">duration</span>: <span class="selector-tag">time</span>;</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>规定完成过渡效果需要花费的时间（以秒或毫秒计）</li><li>默认为 0</li></ul><h4 id="3、transition-timing-function-属性"><a href="#3、transition-timing-function-属性" class="headerlink" title="3、transition-timing-function 属性"></a>3、transition-timing-function 属性</h4><blockquote><p>检索或设置独享中的过渡的当动画类型。</p></blockquote><h6 id="▉-语法-2"><a href="#▉-语法-2" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transition-timing-function：ease|linear|ease-in|ease-out|ease-in-out|step-start|step-end</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>linear：匀速过渡</li><li>ease：平滑过渡（慢—快—慢）</li><li>ease - in：由慢到快</li><li>ease - out: 由快到慢</li><li>ease - in - out：由慢到快再到慢（最人性化）</li><li>step-start：等同于 steps(1,start)</li><li>step-start：等同于 steps(1,end)</li></ul><h4 id="3、transition-delay-属性"><a href="#3、transition-delay-属性" class="headerlink" title="3、transition-delay 属性"></a>3、transition-delay 属性</h4><blockquote><p>检索或设置对象延迟过渡的时间。</p></blockquote><h6 id="▉-语法-3"><a href="#▉-语法-3" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transition-delay</span>：<span class="selector-tag">time</span>;</span><br></pre></td></tr></table></figure><h4 id="4、transition-复合属性"><a href="#4、transition-复合属性" class="headerlink" title="4、transition 复合属性"></a>4、transition 复合属性</h4><blockquote><p>复合属性</p></blockquote><h6 id="▉-语法-4"><a href="#▉-语法-4" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//属性 过渡时间 类型 延迟</span><br><span class="line"><span class="selector-tag">transition</span><span class="selector-pseudo">:property</span> <span class="selector-tag">duration</span> <span class="selector-tag">timing-fnction</span> <span class="selector-tag">delay</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CSS 过渡会用到什么地方呢？&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/CSS3/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>前端 CSS3 之基础篇【选择器】</title>
    <link href="http://yoursite.com/2019/03/25/%E5%89%8D%E7%AB%AF%20CSS3%20%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%90%E8%BE%B9%E6%A1%86%E4%B8%8E%E9%98%B4%E5%BD%B1%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/25/前端 CSS3 之基础篇【边框与阴影】/</id>
    <published>2019-03-25T02:02:03.988Z</published>
    <updated>2019-03-26T02:10:43.742Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>带你走进 CSS3 的边框与阴影！</p><a id="more"></a><h3 id="一、CSS3-圆角"><a href="#一、CSS3-圆角" class="headerlink" title="一、CSS3 圆角"></a>一、CSS3 圆角</h3><h4 id="1、border-radius-属性"><a href="#1、border-radius-属性" class="headerlink" title="1、border - radius 属性"></a>1、border - radius 属性</h4><blockquote><p>最多可以指定四个 border -*- radius 属性的符合属性，这个属性允许为你元素添加圆角边框！</p></blockquote><h6 id="▉-语法"><a href="#▉-语法" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">border-radius:1-4 length|%</span><br></pre></td></tr></table></figure><h6 id="▉-兼容性"><a href="#▉-兼容性" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE9+、FireFox4+、Chrome、Safari5+、Opera </p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//不同浏览器使用不同内核来渲染</span><br><span class="line">-webkit-border-radius：50%;//谷歌浏览器</span><br><span class="line">-moz-border-radius:50%;//火狐浏览器</span><br><span class="line"> -ms-border-radius:50%;//IE 浏览器</span><br><span class="line">  -o-border-radius:50%;//Opera浏览器</span><br><span class="line"> <span class="selector-tag">border-radius</span><span class="selector-pseudo">:50</span>%;</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">    <span class="selector-tag">div</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">5px</span> solid red;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">        <span class="comment">/* 左上角、右上角、右下角、左下角 */</span></span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h6 id="▉-指定每个圆角"><a href="#▉-指定每个圆角" class="headerlink" title="▉ 指定每个圆角"></a>▉ 指定每个圆角</h6><ul><li>border-top-left-radius         定义左上角的弧度</li><li>border-top-right-radius             定义右上角的弧度</li><li>border-bottom-left-radius         定义左下角的弧度</li><li>border-bottom-right-radius      定义右下角的弧度</li></ul><h3 id="二、CSS-盒阴影属性"><a href="#二、CSS-盒阴影属性" class="headerlink" title="二、CSS 盒阴影属性"></a>二、CSS 盒阴影属性</h3><blockquote><p>可以设置一个或多个下拉阴影的框。</p></blockquote><h4 id="1、box-shadow-属性"><a href="#1、box-shadow-属性" class="headerlink" title="1、box-shadow 属性"></a>1、box-shadow 属性</h4><h6 id="▉-语法-1"><a href="#▉-语法-1" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//水平偏移量，垂直偏移量，模糊，扩展(向周边长度进行扩展)，颜色，内阴影</span><br><span class="line"><span class="selector-tag">box-shadow</span><span class="selector-pseudo">:h-shadow</span> <span class="selector-tag">v-shadow</span> <span class="selector-tag">blur</span> <span class="selector-tag">spread</span> <span class="selector-tag">color</span> <span class="selector-tag">insert</span>;</span><br></pre></td></tr></table></figure><h6 id="▉-兼容性-1"><a href="#▉-兼容性-1" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE9+、FireFox4+、Chrome、Safari5+、Opera</p></blockquote><h3 id="三、CSS-边界图片"><a href="#三、CSS-边界图片" class="headerlink" title="三、CSS 边界图片"></a>三、CSS 边界图片</h3><h4 id="1、border-image-属性"><a href="#1、border-image-属性" class="headerlink" title="1、border-image 属性"></a>1、border-image 属性</h4><blockquote><p>使用 border-image- * 属性来构建魅力的可扩展按钮。</p></blockquote><h6 id="▉-语法-2"><a href="#▉-语法-2" class="headerlink" title="▉ 语法"></a>▉ 语法</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// </span><br><span class="line"><span class="selector-tag">border-image</span><span class="selector-pseudo">:source</span> <span class="selector-tag">slice</span> <span class="selector-tag">width</span> <span class="selector-tag">outset</span> <span class="selector-tag">repeat</span>;</span><br></pre></td></tr></table></figure><h6 id="▉-兼容性-2"><a href="#▉-兼容性-2" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE 不兼容、FireFox、Chrome、Safair6+、Opera 不兼容。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;带你走进 CSS3 的边框与阴影！&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/CSS3/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>必会的网络原理之【UDP-TCP】</title>
    <link href="http://yoursite.com/2019/03/25/%E5%BF%85%E4%BC%9A%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E3%80%90UDP-TCP%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/25/必会的网络原理之【UDP-TCP】/</id>
    <published>2019-03-24T23:50:58.020Z</published>
    <updated>2019-03-25T08:25:26.763Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/网络中五层协议.png" alt=""></p><p>网络协议是每个工程师必须要掌握的知识。</p><a id="more"></a><h3 id="一、网络层中协议"><a href="#一、网络层中协议" class="headerlink" title="一、网络层中协议"></a>一、网络层中协议</h3><h4 id="1、五层模型"><a href="#1、五层模型" class="headerlink" title="1、五层模型"></a>1、五层模型</h4><blockquote><p>越最下层越靠近硬件，越最上方的层，越靠近用户。</p></blockquote><ul><li>应用层</li><li>传输层</li><li>网络层</li><li>连接层</li><li>实体层</li></ul><h4 id="2、层与协议"><a href="#2、层与协议" class="headerlink" title="2、层与协议"></a>2、层与协议</h4><blockquote><p>互联网分为若干层，每一层都有特定的功能和规则。大家都要遵守的规则叫做 “协议”。</p></blockquote><h4 id="3、实体层"><a href="#3、实体层" class="headerlink" title="3、实体层"></a>3、实体层</h4><blockquote><p>电脑要组网，第一件事要干什么？当然是先把电脑连起来，可以用光缆、电缆、双绞线、无线电波等方式。</p></blockquote><p><img src="/imaged/实体层.png" alt=""></p><blockquote><p><strong>它就是把电脑连接起来的物理手段。它主要规定了网络的一些电气特性，作用是负责传送0和1的电信号。</strong>  </p></blockquote><h4 id="4、链路层"><a href="#4、链路层" class="headerlink" title="4、链路层"></a>4、链路层</h4><h6 id="▉-定义"><a href="#▉-定义" class="headerlink" title="▉ 定义"></a>▉ 定义</h6><blockquote><p><strong>问题</strong>：单纯的0和1没有任何意义，必须规定解读方式：多少个电信号算一组？每个信号位有何意义？</p><p><strong>解决：</strong>这就是”链接层”的功能，它在”实体层”的上方，确定了0和1的分组方式。</p></blockquote><h6 id="▉以太网协议（数据包的定义）"><a href="#▉以太网协议（数据包的定义）" class="headerlink" title="▉以太网协议（数据包的定义）"></a>▉以太网协议（数据包的定义）</h6><blockquote><p>一组电信号构成一个数据包，叫做”帧”（Frame）。每一帧分成两个部分：标头（Head）和数据（Data）。 </p></blockquote><ul><li><strong>标头：</strong>包含数据包的一些说明项，比如发送者、接受者、数据类型等等 </li><li><strong>数据： </strong>数据包的具体内容 </li></ul><h6 id="▉MAC地址"><a href="#▉MAC地址" class="headerlink" title="▉MAC地址"></a>▉MAC地址</h6><blockquote><p><strong>问题</strong>：发送者和接受者是如何标识呢？</p><p><strong>解决：</strong>以太网规定，连入网络的所有设备，都必须具有”网卡”接口。数据包必须是从一块网卡，传送到另一块网卡。网卡的地址，就是数据包的发送地址和接收地址，这叫做MAC地址。 </p></blockquote><h6 id="▉广播"><a href="#▉广播" class="headerlink" title="▉广播"></a>▉广播</h6><blockquote><p><strong>问题：</strong>一块网卡怎么会知道另一块网卡的MAC地址？以太网数据包必须知道接收方的MAC地址，然后才能发送。 （<strong>ARP协议</strong>）</p><p><strong>问题：</strong>知道MAC地址了，系统怎样才能把数据包准确送到接收方 ？</p><p><strong>解决：</strong></p><p>发送方并不是准确的发送到接受方，而是向本网络内所有计算机发送，每台计算机判断是否接收？它们读取这个包的”标头”，找到接收方的 MAC 地址，然后与自身的 MAC 地址相比较，如果两者相同，就接受这个包，做进一步处理，否则就丢弃这个包。这种发送方式就叫做”广播”（broadcasting）。 </p></blockquote><h3 id="5、网络层"><a href="#5、网络层" class="headerlink" title="5、网络层"></a>5、网络层</h3><h6 id="▉-由来"><a href="#▉-由来" class="headerlink" title="▉ 由来"></a>▉ 由来</h6><blockquote><p>上述虽然可以实现通信，存在一下弊端：</p><p>1）局限在发送者所在的子网络 。</p><p>2）以广播发送效率低下。</p><p>3）两台机器不在子网络。广播是传不过去的。</p></blockquote><h6 id="▉-网络层的定义"><a href="#▉-网络层的定义" class="headerlink" title="▉ 网络层的定义"></a>▉ 网络层的定义</h6><blockquote><p><strong>问题：</strong>怎么做到如果是同一个子网络，就采用广播方式发送，否则就采用”路由”方式发送。？</p><p><strong>解决:</strong> 这就导致了”网络层”的诞生。它的作用是引进一套新的地址，使得我们能够区分不同的计算机是否属于同一个子网络。<strong>这套地址就叫做”网络地址”，简称”网址”</strong>。</p></blockquote><h6 id="▉-网络地址和MAC地址的区别？"><a href="#▉-网络地址和MAC地址的区别？" class="headerlink" title="▉ 网络地址和MAC地址的区别？"></a>▉ 网络地址和MAC地址的区别？</h6><blockquote><p>1、两种地址之间没有任何联系，MAC地址是绑定在网卡上的，网络地址则是管理员分配的，它们只是随机组合在一起。</p><p>2、网络在确定所在子网络的时候，先处理网络地址，然后在处理MAC地址。 </p></blockquote><h6 id="▉-IP-协议"><a href="#▉-IP-协议" class="headerlink" title="▉ IP 协议"></a>▉ IP 协议</h6><blockquote><p><strong>作用： </strong>一个是为每一台计算机分配IP地址，另一个是确定哪些地址在同一个子网络。 </p><p><strong>定义：</strong>规定网络地址的协议，叫做IP协议。它所定义的地址，就被称 为IP地址。 </p><p><strong>组成： </strong>地址分成两个部分，前一部分代表<strong>网络</strong>，后一部分代表<strong>主机 </strong>。可以判断两台计算机是否处于同一网络中。</p></blockquote><h6 id="▉-子网掩码"><a href="#▉-子网掩码" class="headerlink" title="▉ 子网掩码"></a>▉ 子网掩码</h6><blockquote><p><strong>问题： </strong>对于 IP 地址无法判断网络部分，到底是前16位还是前24位代表网络地址？</p><p><strong>解决：</strong>子网掩码</p><p><strong>组成: </strong> 它的网络部分全部为1，主机部分全部为0。 </p><p>比如，比如，IP地址172.16.254.1，如果已知网络部分是前24位，主机部分是后8位，那么子网络掩码就是11111111.11111111.11111111.00000000，写成十进制就是255.255.255.0。 </p></blockquote><h6 id="▉-判断是否处于同一网络"><a href="#▉-判断是否处于同一网络" class="headerlink" title="▉ 判断是否处于同一网络"></a>▉ 判断是否处于同一网络</h6><blockquote><p>将两个IP地址与子网掩码分别进行<strong>AND运算（</strong>两个数位都为1，运算结果为1，否则为0），然后比较结果是否相同，如果是的话，就表明它们在同一个子网络中，否则就不是。 </p></blockquote><h6 id="▉-IP-数据包"><a href="#▉-IP-数据包" class="headerlink" title="▉ IP 数据包"></a>▉ IP 数据包</h6><blockquote><p>之前的以太网数据包只包含 MAC 地址，没有 IP 地址的栏位。并不需要添加 IP 栏位，我们直接将 IP 数据包添加到以太网数据包的数据部分。这就是互联网分层的好处，上层的变动完全不涉及下层的结构。</p></blockquote><p><img src="/images/IP数据包.png" alt=""></p><p><strong>IP 数据包：</strong></p><ul><li>标头：包括版本、长度、IP地址等信息。</li><li>数据：IP 数据包的具体内容。</li></ul><p><strong>包装后的以太网数据包：</strong></p><p><img src="/images/以太网数据包.png" alt=""></p><h6 id="▉-ARP-协议"><a href="#▉-ARP-协议" class="headerlink" title="▉ ARP 协议"></a>▉ ARP 协议</h6><blockquote><p><strong>问题：</strong>IP 数据包是放在以太网数据包里发送的，所以同时知道 IP 地址和 MAC 地址，IP 地址是已知的，但是不知道 MAC 地址。我们需要从 IP 地址中的到 MAC 地址。</p><p><strong>解决：</strong></p><p>两种情况：是否在同一子网络。</p><p>第一种情况，不在同一子网络，将数据包扔给两个子网络连接处网关处理。</p><p>第二种情况，同一子网络中，通过 ARP协议。ARP协议也是发出一个数据包（包含在以太网数据包中），其中包含它所要查询主机的IP地址，在对方的MAC地址这一栏，填的是FF:FF:FF:FF:FF:FF，表示这是一个”广播”地址。它所在子网络的每一台主机，都会收到这个数据包，从中取出IP地址，与自身的IP地址进行比较。如果两者相同，都做出回复，向对方报告自己的MAC地址，否则就丢弃这个包 </p></blockquote><h3 id="二、UDP-与-TCP-的区别是什么？"><a href="#二、UDP-与-TCP-的区别是什么？" class="headerlink" title="二、UDP 与 TCP 的区别是什么？"></a>二、UDP 与 TCP 的区别是什么？</h3><h4 id="1、面向无连接"><a href="#1、面向无连接" class="headerlink" title="1、面向无连接"></a>1、面向无连接</h4><blockquote><p>UDP 发送数据不需要提前进行连接，想发直接发送就可以了，并且知识数据报文的搬运工，不会对报文有任何拆分和拼接操作。</p></blockquote><ul><li>在发送端，应用层将数据传递给传输层的 UDP 协议，UDP 只会给数据增加一个 UDP 头标识下是 UDP 协议，然后就传递给网络层了</li><li>在接收端，网络层将数据传递给传输层，UDP 只去除 IP 报文头就传递给应用层，不会任何拼接操作</li></ul><h4 id="2、"><a href="#2、" class="headerlink" title="2、"></a>2、</h4><h4 id="3、"><a href="#3、" class="headerlink" title="3、"></a>3、</h4>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/网络中五层协议.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;网络协议是每个工程师必须要掌握的知识。&lt;/p&gt;
    
    </summary>
    
      <category term="网络原理" scheme="http://yoursite.com/categories/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/"/>
    
      <category term="TCP" scheme="http://yoursite.com/categories/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/TCP/"/>
    
      <category term="UDP" scheme="http://yoursite.com/categories/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/TCP/UDP/"/>
    
    
      <category term="网络原理" scheme="http://yoursite.com/tags/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/"/>
    
      <category term="TCP" scheme="http://yoursite.com/tags/TCP/"/>
    
      <category term="UDP" scheme="http://yoursite.com/tags/UDP/"/>
    
  </entry>
  
  <entry>
    <title>数据分析之 Python 【NumPy库】</title>
    <link href="http://yoursite.com/2019/03/23/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8B%20Python%20%E3%80%90NumPy%E5%BA%93%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/23/数据分析之 Python 【NumPy库】/</id>
    <published>2019-03-23T02:42:43.566Z</published>
    <updated>2019-04-14T23:53:55.985Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/Numpy库的使用.png" alt=""></p><p>NumPy 是一个重要的 Python 库，有哪些操作呢？</p><a id="more"></a><h3 id="一、Numpy是什么？"><a href="#一、Numpy是什么？" class="headerlink" title="一、Numpy是什么？"></a>一、Numpy是什么？</h3><blockquote><p>Python 中使用最多的第三方库，NumPy 所提供的数据结构是 Python 数据分析的基础。</p></blockquote><h6 id="▍两个对象"><a href="#▍两个对象" class="headerlink" title="▍两个对象"></a>▍两个对象</h6><blockquote><p>1、ndarray解决了多维数组问题。</p><p>2、ufunc 则是解决对数组进行处理的函数。</p></blockquote><h3 id="二、Numpy-和-list-的区别？"><a href="#二、Numpy-和-list-的区别？" class="headerlink" title="二、Numpy 和 list 的区别？"></a>二、Numpy 和 list 的区别？</h3><blockquote><p>1、 Python中的 list 保存的是对象的指针，因此数据量大时很占内存，所以会慢。 </p><p>2、NumPy 数组存储在一个均匀连续的内存块中，这样数组计算遍历所有的元素，不像列表 list 还需要对内存地址进行查找，从而节省了计算资源，比较快。 </p></blockquote><h3 id="三、Numpy-的使用"><a href="#三、Numpy-的使用" class="headerlink" title="三、Numpy 的使用"></a>三、Numpy 的使用</h3><h4 id="1、安装-Numpy"><a href="#1、安装-Numpy" class="headerlink" title="1、安装 Numpy"></a>1、安装 Numpy</h4><blockquote><p>使用 pip 命令进行安装，如果 pip 不是内外部命令，则在 path 环境变量中进行配置。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy</span><br></pre></td></tr></table></figure><h4 id="2、创建数组"><a href="#2、创建数组" class="headerlink" title="2、创建数组"></a>2、创建数组</h4><blockquote><p>在 NumPy 数组中，维数称为秩（rank），一维数组的秩为 1，二维数组的秩为 2，以此类推。在 NumPy 中，每一个线性的数组称为一个轴（axes），其实秩就是描述轴的数量。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">b = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line">//添加数据</span><br><span class="line">b[<span class="number">1</span>,<span class="number">1</span>] = <span class="number">10</span></span><br><span class="line">// 获取数组大小</span><br><span class="line">print(a.shape)</span><br><span class="line">print(b.shape)</span><br><span class="line">//获取元素类型</span><br><span class="line">print(a.dtype)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure><h4 id="3、结构数组"><a href="#3、结构数组" class="headerlink" title="3、结构数组"></a>3、结构数组</h4><blockquote><p>总体数量中的某一类数据，求平均数等操作。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">persontype = np.dtype(&#123;</span><br><span class="line">    <span class="string">'names'</span>:[<span class="string">'name'</span>,<span class="string">'age'</span>,<span class="string">'chinese'</span>,<span class="string">'math'</span>,<span class="string">'english'</span>],</span><br><span class="line">    <span class="string">'formats'</span>:[<span class="string">'S32'</span>,<span class="string">'i'</span>, <span class="string">'i'</span>, <span class="string">'i'</span>, <span class="string">'f'</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加数据,参数二：设置数组的类型</span></span><br><span class="line">persons = np.array([(<span class="string">"ZhangFei"</span>,<span class="number">32</span>,<span class="number">75</span>,<span class="number">100</span>, <span class="number">90</span>),</span><br><span class="line">                    (<span class="string">"GuanYu"</span>,<span class="number">24</span>,<span class="number">85</span>,<span class="number">96</span>,<span class="number">88.5</span>),</span><br><span class="line">                    (<span class="string">"ZhaoYun"</span>,<span class="number">28</span>,<span class="number">85</span>,<span class="number">92</span>,<span class="number">96.5</span>),</span><br><span class="line">                    (<span class="string">"HuangZhong"</span>,<span class="number">29</span>,<span class="number">65</span>,<span class="number">85</span>,<span class="number">100</span>)],dtype = persontype)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计每个人的年龄</span></span><br><span class="line">ages = persons[:][<span class="string">'age'</span>]</span><br><span class="line">print(ages)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算年龄的平均数</span></span><br><span class="line">print(np.mean(ages))</span><br></pre></td></tr></table></figure><ul><li><strong>S32</strong> : 32个字节的字符串类型，由于结构中的每个元素的大小必须固定，因此需要指定字符串的长度</li><li><strong>i</strong> : 32bit的整数类型，相当于np.int32</li><li><strong>f</strong> : 32bit的单精度浮点数类型，相当于np.float32</li></ul><h4 id="4、ufunc-运算"><a href="#4、ufunc-运算" class="headerlink" title="4、ufunc 运算"></a>4、ufunc 运算</h4><blockquote><p>对数组中的每个元素进行操作。ufunc 计算速度快，底层是 c 语言实现的。</p></blockquote><h4 id="5、连续数组的创建"><a href="#5、连续数组的创建" class="headerlink" title="5、连续数组的创建"></a>5、连续数组的创建</h4><blockquote><p>使用 arange 或 linspace 创建连续函数。</p></blockquote><h6 id="▉-arange"><a href="#▉-arange" class="headerlink" title="▉ arange"></a>▉ arange</h6><blockquote><p>通过指定<strong>（初始值、终值、步长）</strong>来创建等差数列的一维数组，默认不包括终值。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.arange(<span class="number">1</span>,<span class="number">11</span>,<span class="number">2</span>)//[<span class="number">1</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">9</span>]</span><br></pre></td></tr></table></figure><h6 id="▉-linspace"><a href="#▉-linspace" class="headerlink" title="▉ linspace"></a>▉ linspace</h6><blockquote><p>通过指定<strong>（初始值、终值、元素个数）</strong>来创建等差数列的一维数组，默认包括终值。</p></blockquote><h4 id="6、算数运算"><a href="#6、算数运算" class="headerlink" title="6、算数运算"></a>6、算数运算</h4><blockquote><p>通过 NumPy 可以自由地创建等差数组，同时也可以进行加、减、乘、除、求 n 次方和取余数。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x1 = np.arange(<span class="number">1</span>,<span class="number">11</span>,<span class="number">2</span>)</span><br><span class="line">x2 = np.linspace(<span class="number">1</span>,<span class="number">9</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 相加</span></span><br><span class="line">print(np.add(x1,x2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 相减</span></span><br><span class="line">print(np.subtract(x1,x2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 相乘</span></span><br><span class="line">print(np.multiply(x1,x2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 相除</span></span><br><span class="line">print(np.divide(x1,x2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 求 n 次方</span></span><br><span class="line">print(np.power(x1,x2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 取余</span></span><br><span class="line">print(np.remainder(x1,x2))</span><br><span class="line">print(np.mod(x1,x2))</span><br></pre></td></tr></table></figure><h4 id="7、统计函数"><a href="#7、统计函数" class="headerlink" title="7、统计函数"></a>7、统计函数</h4><blockquote><p>对大量数据进行描述性的统计分析。最大值、最小值、平均值，是否符合正态分布、方差、标准差多少等等。</p></blockquote><h6 id="▉-计算数组-矩阵的最大值函数-amax-最小值函数-amin"><a href="#▉-计算数组-矩阵的最大值函数-amax-最小值函数-amin" class="headerlink" title="▉ 计算数组/矩阵的最大值函数(amax()),最小值函数 (amin())"></a>▉ 计算数组/矩阵的最大值函数(amax()),最小值函数 (amin())</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组中的最大值</span></span><br><span class="line">print(np.amax(a))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 延 axis=0 轴(纵轴)的最小值</span></span><br><span class="line">print(np.amin(a,<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 延 axis=1 轴(横轴)的最小值</span></span><br><span class="line">print(np.amin(a,<span class="number">1</span>))</span><br></pre></td></tr></table></figure><h6 id="▉-统计最大值与最小值之差"><a href="#▉-统计最大值与最小值之差" class="headerlink" title="▉ 统计最大值与最小值之差"></a>▉ 统计最大值与最小值之差</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 数组中最大值和最小值之差</span><br><span class="line">print(np.ptp(a))</span><br><span class="line"></span><br><span class="line"># 延 axis=0 轴(纵轴)最大值和最小值之差</span><br><span class="line">print(np.ptp(a,0))</span><br><span class="line"></span><br><span class="line"># 延 axis=1 轴(横轴)最大值和最小值之差</span><br><span class="line">print(np.ptp(a,1))</span><br></pre></td></tr></table></figure><h6 id="▉-统计数组的百分位数-percentile"><a href="#▉-统计数组的百分位数-percentile" class="headerlink" title="▉ 统计数组的百分位数 percentile()"></a>▉ 统计数组的百分位数 percentile()</h6><blockquote><p>percentile() 代表着第 p 个百分位数，这里 p的取值范围是 0-100，如果 p=0，那么就是求最小值，如果 p=50 就是求平均值，如果 p=100 就是求最大值。同样你也可以求得在 axis=0 和 axis=1 两个轴上的 p% 的百分位数。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计数组的百分位数</span></span><br><span class="line">print(np.percentile(a,<span class="number">100</span>))//<span class="number">9.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> np.percentile(a, <span class="number">50</span>, axis=<span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> np.percentile(a, <span class="number">50</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h6 id="▉-统计数组中的中位数-median、平均数-mean"><a href="#▉-统计数组中的中位数-median、平均数-mean" class="headerlink" title="▉ 统计数组中的中位数 median、平均数 mean()"></a>▉ 统计数组中的中位数 median、平均数 mean()</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 求中位数</span></span><br><span class="line">print(np.median(a))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 求中位数</span></span><br><span class="line">print(np.mean(a))</span><br></pre></td></tr></table></figure><h6 id="▉-统计数组中的加权平均值-average"><a href="#▉-统计数组中的加权平均值-average" class="headerlink" title="▉ 统计数组中的加权平均值 average()"></a>▉ 统计数组中的加权平均值 average()</h6><blockquote><p>average() 函数可以求加权平均，加权平均的意思就是每个元素可以设置个权重，默认情况下每个元素的权重是相同的，所以np.average(a)=(1+2+3+4)/4=2.5，你也可以指定权重数组 wts=[1,2,3,4]，这样加权平平均 np.average(a,weights=wts)=(1<em>1+2</em>2+3<em>3+4</em>4)/(1+2+3+4)=3.0。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 统计数组的加权平均值</span></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">wts = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">print(np.average(a))</span><br><span class="line">print(np.average(a,weights=wts))</span><br></pre></td></tr></table></figure><h6 id="▉-统计数组中的标准差-std-、方差-var"><a href="#▉-统计数组中的标准差-std-、方差-var" class="headerlink" title="▉ 统计数组中的标准差 std()、方差 var()"></a>▉ 统计数组中的标准差 std()、方差 var()</h6><blockquote><p>方差的计算是指每个数值与平均值之差的平方求和的平均值,标准差是方差的算术平方根(<strong>代表的是一组数据离平均值的分散程度</strong>)。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 求标准差和方差</span></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">print(np.std(a))</span><br><span class="line">print(np.var(a))</span><br></pre></td></tr></table></figure><h4 id="8、NumPy-排序"><a href="#8、NumPy-排序" class="headerlink" title="8、NumPy 排序"></a>8、NumPy 排序</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort(a, axis=<span class="number">-1</span>, kind=‘quicksort’, order=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure><blockquote><p>1、使用 sort 函数，kind 的值可以指定为 quicksort 、mergesort、heapsort分别表示快速排序、归并排序、堆排序，一般使用快速排序。</p><p>2、同样 axis 默认是 -1，即沿着数组的最后一个轴进行排序，也可以取不同的 axis 轴，或者 axis=None 代表采用扁平化的方式作为一个向量进行排序。</p><p>3、order 字段，对于结构化的数组可以指定按照某个字段进行排序。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># NumPy 排序</span></span><br><span class="line"><span class="comment"># 4 3 2</span></span><br><span class="line"><span class="comment"># 2 4 1</span></span><br><span class="line">a = np.array([[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>]])</span><br><span class="line"><span class="comment"># 横轴排序</span></span><br><span class="line">print(np.sort(a,axis=<span class="number">-1</span>))</span><br><span class="line"><span class="comment"># 纵轴排序</span></span><br><span class="line">print(np.sort(a,axis=<span class="number">0</span>))</span><br><span class="line">print(np.sort(a,axis=<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line">[[<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">2</span> <span class="number">4</span>]]</span><br><span class="line">---------</span><br><span class="line">[[<span class="number">2</span> <span class="number">3</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">4</span> <span class="number">2</span>]]</span><br><span class="line">---------</span><br><span class="line">[[<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">2</span> <span class="number">4</span>]]</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/Numpy库的使用.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;NumPy 是一个重要的 Python 库，有哪些操作呢？&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/categories/python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>前端 CSS3 之基础篇【选择器】</title>
    <link href="http://yoursite.com/2019/03/22/%E5%89%8D%E7%AB%AF%20CSS3%20%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%90%E9%80%89%E6%8B%A9%E5%99%A8%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/22/前端 CSS3 之基础篇【选择器】/</id>
    <published>2019-03-22T10:44:25.247Z</published>
    <updated>2019-04-01T23:42:49.547Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>CSS3 所有基本选择器（必会）！</p><a id="more"></a><h2 id="基本选择器"><a href="#基本选择器" class="headerlink" title="基本选择器"></a>基本选择器</h2><h3 id="一、回顾选择器（5个）"><a href="#一、回顾选择器（5个）" class="headerlink" title="一、回顾选择器（5个）"></a>一、回顾选择器（5个）</h3><blockquote><p>1、通配符选择器 <code>*{}</code></p><p>2、元素选择器 <code>h1{}</code></p><p>3、类选择器 <code>.container{}</code></p><p>4、ID选择器 <code>#id{}</code></p><p>5、后代选择器 <code>ul em{ }</code></p></blockquote><h3 id="二、新增基本选择器（4个）"><a href="#二、新增基本选择器（4个）" class="headerlink" title="二、新增基本选择器（4个）"></a>二、新增基本选择器（4个）</h3><blockquote><p>子元素选择器，相邻兄弟元素选择器，通用兄弟选择器，群组选择器。</p></blockquote><h4 id="1、直接后代选择器（子元素选择器）"><a href="#1、直接后代选择器（子元素选择器）" class="headerlink" title="1、直接后代选择器（子元素选择器）"></a>1、直接后代选择器（子元素选择器）</h4><blockquote><p>只能选择某元素的子元素。</p></blockquote><h6 id="▉-语法格式"><a href="#▉-语法格式" class="headerlink" title="▉ 语法格式"></a>▉ 语法格式</h6><blockquote><p>父元素 &gt; 子元素 （Father &gt; Children）</p></blockquote><h6 id="▉-兼容性"><a href="#▉-兼容性" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    section&gt;div&#123;</span></span><br><span class="line"><span class="undefined">    color: #0f0f;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">//这个div变色</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>外边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>里边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2、相邻兄弟选择器"><a href="#2、相邻兄弟选择器" class="headerlink" title="2、相邻兄弟选择器"></a>2、相邻兄弟选择器</h4><blockquote><p>相邻兄弟选择器可以选择紧接在另一元素后的元素，而且他们具有一个相同的父元素。</p></blockquote><h6 id="▉-语法格式-1"><a href="#▉-语法格式-1" class="headerlink" title="▉ 语法格式"></a>▉ 语法格式</h6><blockquote><p>元素 + 兄弟相邻元素。</p></blockquote><h6 id="▉-兼容性-1"><a href="#▉-兼容性-1" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    section&gt;div + article&#123;</span></span><br><span class="line"><span class="undefined">        color: #0f0f;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>外边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 控制这一个 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>里边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>里边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3、通用兄弟选择器"><a href="#3、通用兄弟选择器" class="headerlink" title="3、通用兄弟选择器"></a>3、通用兄弟选择器</h4><blockquote><p>选择某元素后边的多有兄弟元素，而且他们具有一个相同的父元素。</p></blockquote><h6 id="▉-语法格式-2"><a href="#▉-语法格式-2" class="headerlink" title="▉ 语法格式"></a>▉ 语法格式</h6><blockquote><p>元素 ~ 后面所有兄弟相邻元素</p></blockquote><h6 id="▉-兼容性-2"><a href="#▉-兼容性-2" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">     section&gt;div ~ article&#123;</span></span><br><span class="line"><span class="undefined">     color: #0f0f;</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"> </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- div 前边的 article 不会被选择 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>外边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 控制这一个 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>里边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- 也控制这一个 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>里边的DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4、群组选择器"><a href="#4、群组选择器" class="headerlink" title="4、群组选择器"></a>4、群组选择器</h4><blockquote><p>相同元素的样式分组在一起，每个选择器之前使用逗号 “，” 隔开。</p></blockquote><h6 id="▉-语法格式-3"><a href="#▉-语法格式-3" class="headerlink" title="▉ 语法格式"></a>▉ 语法格式</h6><blockquote><p>元素，元素，…，元素n </p></blockquote><h6 id="▉-兼容性-3"><a href="#▉-兼容性-3" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE6+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">section</span> &gt; <span class="selector-tag">div</span>,</span><br><span class="line"><span class="selector-tag">section</span> &gt; <span class="selector-tag">article</span>,</span><br><span class="line"><span class="selector-tag">section</span> &gt; <span class="selector-tag">aside</span>&#123;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="三、伪类选择器（5个）"><a href="#三、伪类选择器（5个）" class="headerlink" title="三、伪类选择器（5个）"></a>三、伪类选择器（5个）</h3><h4 id="1、动态伪类选择器"><a href="#1、动态伪类选择器" class="headerlink" title="1、动态伪类选择器"></a>1、动态伪类选择器</h4><blockquote><p>并不存在 HTML 中，只有当用户和网站交互的时候才能体现出来。</p></blockquote><h6 id="▉-锚点伪类"><a href="#▉-锚点伪类" class="headerlink" title="▉ 锚点伪类"></a>▉ 锚点伪类</h6><blockquote><p><code>: link</code>，<code>: visited</code>。</p></blockquote><h6 id="▉-用户行为伪类"><a href="#▉-用户行为伪类" class="headerlink" title="▉ 用户行为伪类"></a>▉ 用户行为伪类</h6><blockquote><p><code>: hover</code>（必须写在 link 和 visited 才会生效）, <code>: active</code>（必须写在 hover 后才会生效）,<code>: focus</code>(用于input输入)</p></blockquote><h4 id="2、UI元素状态伪类"><a href="#2、UI元素状态伪类" class="headerlink" title="2、UI元素状态伪类"></a>2、UI元素状态伪类</h4><blockquote><p>把“：enabled”，“：disabled”，“<strong>：checked”</strong> 伪类称为UI元素状态伪类。</p></blockquote><h6 id="▉-兼容性-4"><a href="#▉-兼容性-4" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE9+、FireFox、Chrome、Safari、<strong>Opera</strong>。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">input</span><span class="selector-pseudo">:enable</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">width</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">height</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#0000ff</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    //没有宽和高</span></span><br><span class="line"><span class="css">    <span class="selector-tag">input</span><span class="selector-pseudo">:disabled</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#0000ff</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">disabled</span>=<span class="string">"disabled"</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3、否定选择器"><a href="#3、否定选择器" class="headerlink" title="3、否定选择器"></a>3、否定选择器</h4><blockquote><p>:not （Element/selector）选择器匹配非指定元素/选择器的每个元素。</p></blockquote><h6 id="▉-语法格式-4"><a href="#▉-语法格式-4" class="headerlink" title="▉ 语法格式"></a>▉ 语法格式</h6><blockquote><p>父元素：not(子元素/子选择器)</p></blockquote><h6 id="▉-兼容性-5"><a href="#▉-兼容性-5" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE9+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &gt; <span class="selector-tag">a</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:last-of-type)</span>&#123;</span><br><span class="line">    <span class="attribute">border-right</span>:<span class="number">1px</span> solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="四、伪元素选择器"><a href="#四、伪元素选择器" class="headerlink" title="四、伪元素选择器"></a>四、伪元素选择器</h3><blockquote><p>伪元素用于向某些选择区设置特殊效果。</p></blockquote><ul><li><code>:first-line</code>: 应用于多行文本的首行元素。应用于块元素。</li><li><code>:first-letter</code>:  选取首字母。应用于块元素。 </li><li><code>:first-child</code>:选择父元素的第一个子元素。注意：在 IE 中声明&lt;!DOCTYPE&gt; 才生效！</li><li><code>:before</code>:元素之前添加内容</li><li><code>:after</code> : 元素之后添加内容 </li></ul><h3 id="五、属性选择器"><a href="#五、属性选择器" class="headerlink" title="五、属性选择器"></a>五、属性选择器</h3><blockquote><p><code>Element[attribute]</code>、<code>Element[attribute=  “value” ]</code>、<code>Element[attribute~=  “value” ]</code>、<code>Element[attribute^=  “value” ]</code>、<code>Element[attribute$=  “value” ]</code>、<code>Element[attribute*=  “value” ]</code>、<code>Element[attribute|=  “value” ]</code>。</p></blockquote><h4 id="1、Element-attribute"><a href="#1、Element-attribute" class="headerlink" title="1、Element[attribute]"></a>1、Element[attribute]</h4><blockquote><p>为带有 attribute 属性的 Element 元素设置样式。</p></blockquote><h6 id="▉-兼容性-6"><a href="#▉-兼容性-6" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">a</span><span class="selector-attr">[href]</span>&#123;</span></span><br><span class="line"><span class="undefined">    text-decoration: none;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"attribute.html"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2、Element-attribute-“value”"><a href="#2、Element-attribute-“value”" class="headerlink" title="2、Element[attribute=  “value” ]"></a>2、Element[attribute=  “value” ]</h4><blockquote><p>为 attribute= “value” 属性的 Element 元素设置样式。</p></blockquote><h6 id="▉-兼容性-7"><a href="#▉-兼容性-7" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href = "attribute.html"]</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f0f</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3、Element-attribute-“value”"><a href="#3、Element-attribute-“value”" class="headerlink" title="3、Element[attribute~=  “value” ]"></a>3、Element[attribute~=  “value” ]</h4><blockquote><p>选择 attribute 属性包含单词 “value” 的元素，并设置其样式。</p></blockquote><h6 id="▉-兼容性-8"><a href="#▉-兼容性-8" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">a</span><span class="selector-attr">[class ~= "two"]</span>&#123;</span></span><br><span class="line"><span class="undefined">        text-decoration: none;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#f0f</span>; </span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"one two"</span> <span class="attr">href</span>=<span class="string">"attribute.html1"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"two three"</span> <span class="attr">href</span>=<span class="string">"attribute.html2"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4、Element-attribute-“value”"><a href="#4、Element-attribute-“value”" class="headerlink" title="4、Element[attribute^=  “value” ]"></a>4、Element[attribute^=  “value” ]</h4><blockquote><p>选择以 value 开头的元素。</p></blockquote><h6 id="▉-兼容性-9"><a href="#▉-兼容性-9" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">a</span><span class="selector-attr">[href ^= "attribute.html"]</span>&#123;</span></span><br><span class="line"><span class="undefined">        text-decoration: none;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#f0f</span>; </span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"attribute.html"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span>//变</span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"one two"</span> <span class="attr">href</span>=<span class="string">"attribute.html1"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"two three"</span> <span class="attr">href</span>=<span class="string">"attribute.html2"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"attribute.html3"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span>//变</span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"attribute.html4"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span>//变</span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"attribute.html5"</span>&gt;</span>atribute<span class="tag">&lt;/<span class="name">a</span>&gt;</span>//变</span><br></pre></td></tr></table></figure><h4 id="5、Element-attribute-“value”"><a href="#5、Element-attribute-“value”" class="headerlink" title="5、Element[attribute$=  “value” ]"></a>5、Element[attribute$=  “value” ]</h4><blockquote><p>选择以 value 结尾的元素。</p></blockquote><h6 id="▉-兼容性-10"><a href="#▉-兼容性-10" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><h4 id="6、Element-attribute-“value”"><a href="#6、Element-attribute-“value”" class="headerlink" title="6、Element[attribute*=  “value” ]"></a>6、Element[attribute*=  “value” ]</h4><blockquote><p>选择包含 value 的元素。</p></blockquote><h6 id="▉-兼容性-11"><a href="#▉-兼容性-11" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><h4 id="7、Element-attribute-“value”"><a href="#7、Element-attribute-“value”" class="headerlink" title="7、Element[attribute|=  “value” ]"></a>7、Element[attribute|=  “value” ]</h4><blockquote><p>选择为 “value” 或者以 “value-” 开头的元素，并设置其样式。</p></blockquote><h6 id="▉-兼容性-12"><a href="#▉-兼容性-12" class="headerlink" title="▉ 兼容性"></a>▉ 兼容性</h6><blockquote><p>IE8+、FireFox、Chrome、Safari、Opera。</p></blockquote><h3 id="六、CSS-权重"><a href="#六、CSS-权重" class="headerlink" title="六、CSS 权重"></a>六、CSS 权重</h3><h4 id="1、什么是权重？"><a href="#1、什么是权重？" class="headerlink" title="1、什么是权重？"></a>1、什么是权重？</h4><blockquote><p>很多规则被应用于某一个元素上，权重就是那中规则生效。或者说是优先级。</p></blockquote><h4 id="2、权重等级与权值"><a href="#2、权重等级与权值" class="headerlink" title="2、权重等级与权值"></a>2、权重等级与权值</h4><blockquote><p><strong>行内样式</strong>（1000）&gt; <strong>ID 选择器</strong>（100）&gt;<strong>类、属性选择器和伪类选择器</strong>（10）&gt;<strong>元素和伪类</strong>（1）&gt; <strong>*</strong> (0)。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CSS3 所有基本选择器（必会）！&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/CSS3/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="CSS3" scheme="http://yoursite.com/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>数据分析之 Python 【基础篇】</title>
    <link href="http://yoursite.com/2019/03/22/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8B%20Python%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/22/数据分析之 Python 【基础篇】/</id>
    <published>2019-03-22T00:26:35.197Z</published>
    <updated>2019-04-14T23:54:00.306Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>快速入门 Python 基础!</p><a id="more"></a><h4 id="1、输入输出"><a href="#1、输入输出" class="headerlink" title="1、输入输出"></a>1、输入输出</h4><blockquote><p>input 用于 py3.0 的输入，print 用于输出。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = input(<span class="string">"请输入输出的数据"</span>)</span><br><span class="line">sum = <span class="number">100</span> + <span class="number">100</span></span><br><span class="line">print(<span class="string">'hello,%s'</span>%name)</span><br><span class="line">print(<span class="string">'sum = %d'</span>%sum)</span><br></pre></td></tr></table></figure><h4 id="2、判断语句（if…else）"><a href="#2、判断语句（if…else）" class="headerlink" title="2、判断语句（if…else）"></a>2、判断语句（if…else）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断语句</span></span><br><span class="line">number = input(<span class="string">'请输入成绩:'</span>)</span><br><span class="line">score = int(number)</span><br><span class="line"><span class="keyword">if</span> score &gt;= <span class="number">90</span>:</span><br><span class="line">    print(<span class="string">'优秀'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">if</span> score &lt; <span class="number">60</span>:</span><br><span class="line">        print(<span class="string">'不及格'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'及格'</span>)</span><br></pre></td></tr></table></figure><h4 id="3、循环语句"><a href="#3、循环语句" class="headerlink" title="3、循环语句"></a>3、循环语句</h4><blockquote><p>range(11) 代表从 0 到 10，不包括 11，也相当于 range(0,11)，range 里面还可以增加步长，比如 range(1,11,2) 代表的是 [1,3,5,7,9]。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 循环语句</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> range(<span class="number">11</span>):</span><br><span class="line">    sum = sum + item</span><br><span class="line">print(sum)</span><br></pre></td></tr></table></figure><h4 id="4、while-循环"><a href="#4、while-循环" class="headerlink" title="4、while 循环"></a>4、while 循环</h4><blockquote><p>while 循环适合循环次数不确定的循环，而 for 循环循环的条件相对确定，适合固定次数的循环。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line">number = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> number &lt; <span class="number">11</span>:</span><br><span class="line">    sum = sum + number</span><br><span class="line">    number = number + <span class="number">1</span></span><br><span class="line">print(sum)</span><br></pre></td></tr></table></figure><h4 id="5、数据类型：列表、元组、字典、集合"><a href="#5、数据类型：列表、元组、字典、集合" class="headerlink" title="5、数据类型：列表、元组、字典、集合"></a>5、数据类型：列表、元组、字典、集合</h4><h6 id="▉-列表-——-数组"><a href="#▉-列表-——-数组" class="headerlink" title="▉ 列表: [] —— 数组"></a>▉ 列表: [] —— 数组</h6><blockquote><p>列表是 Python 中常用的数据结构，相当于数组，具有增删删改查的功能，我们可以使用 len() 函数获得 lists中元素的个数；使用 append() 在尾部添加元素，使用 insert() 在列表中插入元素，使用 pop() 删除尾部的元素。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表</span></span><br><span class="line">lists = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>]</span><br><span class="line">lists.append(<span class="string">'4'</span>)</span><br><span class="line"><span class="keyword">print</span> (lists)</span><br><span class="line"><span class="keyword">print</span> (len(lists))</span><br><span class="line">lists.insert(<span class="number">0</span>,<span class="string">'xiaolu'</span>)</span><br><span class="line">lists.pop()</span><br><span class="line"><span class="keyword">print</span> (lists)</span><br></pre></td></tr></table></figure><h6 id="▉-元组-——-只能访问，不能赋值"><a href="#▉-元组-——-只能访问，不能赋值" class="headerlink" title="▉ 元组 () —— 只能访问，不能赋值"></a>▉ 元组 () —— 只能访问，不能赋值</h6><blockquote><p>元组 tuple 和 list 非常类似，但是 tuple 一旦初始化就不能修改。因为不能修改所以没有append(), insert() 这样的方法，可以像访问数组一样进行访问，比如 tuples[0]，但不能赋值。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 元组</span></span><br><span class="line">tuples = (<span class="string">'xiaolu'</span>,<span class="string">'小鹿'</span>)</span><br><span class="line">print(tuples[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><h6 id="▉-字典-——-map"><a href="#▉-字典-——-map" class="headerlink" title="▉ 字典 {} —— map"></a>▉ 字典 {} —— map</h6><blockquote><p>字典其实就是{key, value},多次对同一个 key 放入 value，后面的值会把前面的值替换，同样有增删改查</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典</span></span><br><span class="line"><span class="comment"># 字典定义</span></span><br><span class="line">score = &#123;<span class="string">'age'</span>:<span class="number">22</span>,<span class="string">'name'</span>:<span class="string">'xiaolu'</span>&#125;</span><br><span class="line"><span class="comment"># 添加数据</span></span><br><span class="line">score[<span class="string">'school'</span>] = <span class="string">'三本'</span></span><br><span class="line">print(score)</span><br><span class="line"><span class="comment"># 删除元素</span></span><br><span class="line">score.pop(<span class="string">'name'</span>)</span><br><span class="line">print(score)</span><br><span class="line"><span class="comment"># 查看 key 是否存在</span></span><br><span class="line">print(<span class="string">'age'</span> <span class="keyword">in</span> score)</span><br><span class="line"><span class="comment"># 查看 key 对应的值</span></span><br><span class="line">print(score.get(<span class="string">'age'</span>))</span><br><span class="line"><span class="comment"># 给一个默认值</span></span><br><span class="line">print(score.get(<span class="string">'school'</span>,<span class="string">'三本'</span>))</span><br></pre></td></tr></table></figure><h6 id="▉-集合-set-——-存储字典的-key-值"><a href="#▉-集合-set-——-存储字典的-key-值" class="headerlink" title="▉ 集合: set —— 存储字典的 key 值"></a>▉ 集合: set —— 存储字典的 key 值</h6><blockquote><p>集合 set 和字典 dictory 类似，不过它只是 key 的集合，不存储 value。同样可以增删查，增加使用 add，删除使用 remove，查询看某个元素是否在这个集合里，使用 in。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 集合</span></span><br><span class="line">s = set([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>])</span><br><span class="line"><span class="comment"># 添加</span></span><br><span class="line">s.add(<span class="string">'d'</span>)</span><br><span class="line"><span class="comment"># 移除</span></span><br><span class="line">s.remove(<span class="string">'b'</span>)</span><br><span class="line">print(s)</span><br><span class="line">print(<span class="string">'c'</span> <span class="keyword">in</span> s)</span><br></pre></td></tr></table></figure><h4 id="6、引用模块-包：import"><a href="#6、引用模块-包：import" class="headerlink" title="6、引用模块 / 包：import"></a>6、引用模块 / 包：import</h4><blockquote><p>1、import 的本质是路径搜索。import 引用可以是模块 module，或者包 package。</p><p>2、针对 module，实际上是引用一个.py 文件。</p><p>3、而针对 package，可以采用 from … import… 的 方式。</p><p>4、这里实际上是从一个目录中引用模块，这时目录结构中<strong>必须带有一个init.py 文件</strong>。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入一个模块</span></span><br><span class="line"><span class="keyword">import</span> model_name</span><br><span class="line"><span class="comment"># 导入多个模块</span></span><br><span class="line"><span class="keyword">import</span> module_name1,module_name2</span><br><span class="line"><span class="comment"># 导入包中指定模块 </span></span><br><span class="line"><span class="keyword">from</span> package_name <span class="keyword">import</span> moudule_name</span><br><span class="line"><span class="comment"># 导入包中所有模块 </span></span><br><span class="line"><span class="keyword">from</span> package_name <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure><h4 id="7、函数：def"><a href="#7、函数：def" class="headerlink" title="7、函数：def"></a>7、函数：def</h4><blockquote><p>函数代码块以 def 关键词开头，后接函数标识符名称和圆括号，在圆括号里是传进来的参数，然后通过 return 进行函数结果得反馈。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addone</span><span class="params">(score)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> score + <span class="number">1</span></span><br><span class="line">print(addone(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;快速入门 Python 基础!&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/categories/python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="数据分析" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>玩转 ES6 之【模块化】</title>
    <link href="http://yoursite.com/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90%E6%A8%A1%E5%9D%97%E5%8C%96%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/21/玩转 ES6 之【模块化】/</id>
    <published>2019-03-21T12:31:04.918Z</published>
    <updated>2019-03-21T12:39:27.377Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>随着前后端分离，前端的业务日渐复杂，ES6为我们增加了模块话操作。 </p><a id="more"></a><h3 id="1、模块化"><a href="#1、模块化" class="headerlink" title="1、模块化"></a>1、模块化</h3><ul><li>export :负责进行模块化，也是模块的输出。</li><li>import : 负责把模块引，也是模块的引入操作。</li></ul><h3 id="2、export的用法"><a href="#2、export的用法" class="headerlink" title="2、export的用法"></a>2、export的用法</h3><blockquote><p>export可以让我们把变量，函数，对象进行模块话，提供外部调用接口，让外部进行引用 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//暴露接口</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> a = <span class="string">'xiaolu'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js中以import的形式引入</span></span><br><span class="line"><span class="keyword">import</span> &#123;a&#125; <span class="keyword">from</span> <span class="string">'./temp.js'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure><h3 id="3、多变量的输出"><a href="#3、多变量的输出" class="headerlink" title="3、多变量的输出"></a>3、<strong>多变量的输出</strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//多变量的模块化</span></span><br><span class="line"><span class="keyword">var</span> a =<span class="string">'xiaolu'</span>;</span><br><span class="line"><span class="keyword">var</span> b =<span class="string">'小鹿'</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="string">'三本'</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;a,b,c&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数的模块化</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4、as-用法"><a href="#4、as-用法" class="headerlink" title="4、as 用法"></a>4、as 用法</h3><blockquote><p>as的用法 有些时候我们并不想暴露模块里边的变量名称，而给模块起一个更语义话的名称，这时候我们就可以使用as来操作。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =<span class="string">'xiaolu'</span>;</span><br><span class="line"><span class="keyword">var</span> b =<span class="string">'小鹿'</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="string">'三本'</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    x <span class="keyword">as</span> a,</span><br><span class="line">    y <span class="keyword">as</span> b,</span><br><span class="line">    z <span class="keyword">as</span> c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5、默认值-default"><a href="#5、默认值-default" class="headerlink" title="5、默认值 default"></a>5、默认值 default</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//无默认值</span></span><br><span class="line"><span class="comment">//export</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> a =<span class="string">'xiaolu'</span>;</span><br><span class="line"><span class="comment">//对应的导入方式</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//export defalut 方式</span></span><br><span class="line"><span class="comment">//export defalut</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">var</span> a=<span class="string">'xiaolu'</span>;</span><br><span class="line"><span class="comment">//引入方式</span></span><br><span class="line"><span class="keyword">import</span> str <span class="keyword">from</span> <span class="string">'./temp'</span>;</span><br></pre></td></tr></table></figure><blockquote><p>ES6的模块化不能直接在浏览器中预览，必须要使用Babel进行编译之后正常看到结果。这节课讲完我们ES6的课程就算结束了，你可能觉的没有书上的内容多，那是因为很多东西都归到了ES7中。 </p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;随着前后端分离，前端的业务日渐复杂，ES6为我们增加了模块话操作。 &lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/ES6/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>玩转 ES6 之【promise对象】</title>
    <link href="http://yoursite.com/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90class%E7%B1%BB%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/21/玩转 ES6 之【class类】/</id>
    <published>2019-03-21T12:09:21.189Z</published>
    <updated>2019-03-21T12:30:54.511Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ES6为我们提供了类的使用。需要注意的是在写类的时候和 ES5 中的对象和构造函数要区分开来，不要学混了。 </p><a id="more"></a><h3 id="1、类的声明"><a href="#1、类的声明" class="headerlink" title="1、类的声明"></a>1、类的声明</h3><blockquote><p>最简单的类只有一个方法。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">coder</span></span>&#123;</span><br><span class="line">    name(val)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2、类的使用"><a href="#2、类的使用" class="headerlink" title="2、类的使用"></a>2、类的使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类的使用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coder</span></span>&#123;</span><br><span class="line">    name(val)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(val)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> xiaolu = <span class="keyword">new</span> Coder;</span><br><span class="line">xiaolu.name(<span class="string">'小鹿'</span>)</span><br></pre></td></tr></table></figure><h3 id="3、类的多方法声明"><a href="#3、类的多方法声明" class="headerlink" title="3、类的多方法声明"></a>3、类的多方法声明</h3><blockquote><p>这里需要注意的是两个方法中间不要写逗号了，还有这里的this指类本身，还有要注意return 的用法。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类的使用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coder</span></span>&#123;</span><br><span class="line">    name(val)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(val)</span><br><span class="line">        <span class="keyword">return</span> val</span><br><span class="line">    &#125;</span><br><span class="line">    skill(val)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name(<span class="string">'xiaolu'</span>)+<span class="string">':'</span>+<span class="string">'Skill:'</span>+val)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> xiaolu = <span class="keyword">new</span> Coder;</span><br><span class="line">xiaolu.name(<span class="string">'小鹿'</span>)</span><br><span class="line">xiaolu.skill(<span class="string">'三本'</span>)</span><br></pre></td></tr></table></figure><h3 id="4、类的传参"><a href="#4、类的传参" class="headerlink" title="4、类的传参"></a>4、<strong>类的传参</strong></h3><blockquote><p>在类的参数传递中用 constructor() 进行传参。传递参数后可以直接使用 this.xxx 进行调用。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类的使用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coder</span></span>&#123;</span><br><span class="line">    name(val)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(val)</span><br><span class="line">        <span class="keyword">return</span> val</span><br><span class="line">    &#125;</span><br><span class="line">    skill(val)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name(<span class="string">'xiaolu'</span>)+<span class="string">':'</span>+<span class="string">'Skill:'</span>+val)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">constructor</span>(a,b)&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = a;</span><br><span class="line">        <span class="keyword">this</span>.b = b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    add()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a+<span class="keyword">this</span>.b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> xiaolu = <span class="keyword">new</span> Coder(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(xiaolu.add())</span><br></pre></td></tr></table></figure><h3 id="5、class的继承"><a href="#5、class的继承" class="headerlink" title="5、class的继承"></a>5、class的继承</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Html</span> <span class="keyword">extends</span> <span class="title">Coder</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> l  = <span class="keyword">new</span> Html</span><br><span class="line">l.name(<span class="string">'哈哈哈'</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ES6为我们提供了类的使用。需要注意的是在写类的时候和 ES5 中的对象和构造函数要区分开来，不要学混了。 &lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/ES6/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>玩转 ES6 之【promise对象】</title>
    <link href="http://yoursite.com/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90promise%E5%AF%B9%E8%B1%A1%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/21/玩转 ES6 之【promise对象】/</id>
    <published>2019-03-21T11:59:25.699Z</published>
    <updated>2019-04-11T10:57:11.787Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ES6中的 promise 的出现给我们很好的解决了回调地狱的问题 。</p><a id="more"></a><h3 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h3><blockquote><p>Promise 针对于异步操作中的回调地狱问题，它可以使异步操作写起来更像是写同步的流程，不必一层层的嵌套回调。使得处理逻辑和执行结果更好的分离。</p></blockquote><h3 id="2、基本用法"><a href="#2、基本用法" class="headerlink" title="2、基本用法"></a>2、基本用法</h3><h6 id="▉-promise-执行逻辑"><a href="#▉-promise-执行逻辑" class="headerlink" title="▉ promise 执行逻辑"></a>▉ promise 执行逻辑</h6><blockquote><p>创建一个 promise 对象，将执行异步操作的函数传入，之关心异步操作的逻辑实现。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(test);</span><br></pre></td></tr></table></figure><h6 id="▉-promise-执行结果处理"><a href="#▉-promise-执行结果处理" class="headerlink" title="▉ promise 执行结果处理"></a>▉ promise 执行结果处理</h6><blockquote><p>p1 是一个 Promise 对象，只负责执行 test 函数，由于 test 是异步的操作，当异步执行完成，就会告诉 p1 对象，如果执行成功就执行下方函数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p2 = p1.then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'成功'</span>+result)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>如果执行失败，就告诉 promise 对象执行下列函数。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p2.catch（<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'失败：'</span> + reason);</span><br><span class="line">&#125;）</span><br></pre></td></tr></table></figure><blockquote><p>连起来书写方式。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(test).then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'成功'</span>+result)</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'失败：'</span> + reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3、AJAX-的-Promise-用法"><a href="#3、AJAX-的-Promise-用法" class="headerlink" title="3、AJAX 的 Promise 用法"></a>3、AJAX 的 Promise 用法</h3><blockquote><p>将 ajax 请求封装为 Promise 对象。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ajax函数将返回 Promise 对象:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">method, url, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">        request.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (request.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (request.status === <span class="number">200</span>) &#123;</span><br><span class="line">                    resolve(request.responseText);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    reject(request.status);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        request.open(method, url);</span><br><span class="line">        request.send(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>调用返回执行结果。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> log = <span class="built_in">document</span>.getElementById(<span class="string">'test-promise-ajax-result'</span>);</span><br><span class="line"><span class="keyword">var</span> p = ajax(<span class="string">'GET'</span>, <span class="string">'/api/categories'</span>);</span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span> (<span class="params">text</span>) </span>&#123; <span class="comment">// 如果AJAX成功，获得响应内容</span></span><br><span class="line">    log.innerText = text;</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123; <span class="comment">// 如果AJAX失败，获得响应代码</span></span><br><span class="line">    log.innerText = <span class="string">'ERROR: '</span> + status;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="4、并行执行异步任务"><a href="#4、并行执行异步任务" class="headerlink" title="4、并行执行异步任务"></a>4、并行执行异步任务</h3><blockquote><p>使用 Promise 方法可以并行执行多个异步任务。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    setTimeout(resolve, <span class="number">500</span>, <span class="string">'P1'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    setTimeout(resolve, <span class="number">600</span>, <span class="string">'P2'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 同时执行p1和p2，并在它们都完成后执行then:</span></span><br><span class="line"><span class="built_in">Promise</span>.all([p1, p2]).then(<span class="function"><span class="keyword">function</span> (<span class="params">results</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(results); <span class="comment">// 获得一个Array: ['P1', 'P2']</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="5、Promise-多异步容错"><a href="#5、Promise-多异步容错" class="headerlink" title="5、Promise 多异步容错"></a>5、Promise 多异步容错</h3><blockquote><p>为了多个异步可以容错，多个异步任务，只需要获得先返回的结果即可 ，其他返回结果丢弃。使用 Promise.race() 方法。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    setTimeout(resolve, <span class="number">500</span>, <span class="string">'P1'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    setTimeout(resolve, <span class="number">600</span>, <span class="string">'P2'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">Promise</span>.race([p1, p2]).then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(result); <span class="comment">// 'P1'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ES6中的 promise 的出现给我们很好的解决了回调地狱的问题 。&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/ES6/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>玩转 ES6 之【Proxy预处理】</title>
    <link href="http://yoursite.com/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90Proxy%E9%A2%84%E5%A4%84%E7%90%86%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/21/玩转 ES6 之【Proxy预处理】/</id>
    <published>2019-03-21T11:24:37.236Z</published>
    <updated>2019-03-21T11:59:14.699Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Proxy 预处理的强大之处！</p><a id="more"></a><h3 id="1、钩子函数"><a href="#1、钩子函数" class="headerlink" title="1、钩子函数"></a>1、钩子函数</h3><blockquote><p>当我们在操作一个对象或者方法时会有几种动作，比如：在运行函数前初始化一些数据，在改变对象值后做一些善后处理。这些都算钩子函数，Proxy的存在就可以让我们给函数加上这样的钩子函数，你也可以理解为在执行方法前预处理一些代码。 </p></blockquote><h3 id="2、声明Proxy"><a href="#2、声明Proxy" class="headerlink" title="2、声明Proxy"></a>2、声明Proxy</h3><blockquote><p>基本格式。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Proxy</span>（&#123;&#125;,&#123;&#125;）;</span><br></pre></td></tr></table></figure><ul><li>第一个花括号就相当于方法的主体 。</li><li>第二个花括号是代理处理区域，写钩子函数的地方。</li></ul><h6 id="▉-实例"><a href="#▉-实例" class="headerlink" title="▉ 实例"></a>▉ 实例</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">相当于在方法调用前的钩子函数<span class="keyword">var</span> pro = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;</span><br><span class="line">    add: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val + <span class="number">10</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    name: <span class="string">'I am xiaolu'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">        get:<span class="function"><span class="keyword">function</span>(<span class="params">target,key,property</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'小鹿'</span>);</span><br><span class="line">            <span class="keyword">return</span> target[key];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(pro.name);<span class="comment">//先打印小鹿，后打印 I am xiaolu ，相当于在方法调用前的钩子函数</span></span><br></pre></td></tr></table></figure><h6 id="▉-get-属性"><a href="#▉-get-属性" class="headerlink" title="▉ get 属性"></a>▉ get 属性</h6><blockquote><p>get属性是在你得到某对象属性值时预处理的方法，他接受三个参数</p></blockquote><ul><li><strong>target</strong>：得到的目标值</li><li><strong>key：</strong>目标的 key 值，相当于对象的属性</li><li><strong>property：</strong>这个不太常用，用法还在研究中。</li></ul><h6 id="▉-set属性"><a href="#▉-set属性" class="headerlink" title="▉ set属性"></a>▉ <strong>set属性</strong></h6><blockquote><p>set 属性是值你要改变 Proxy 属性值时，进行的预先处理。它接收四个参数。 </p></blockquote><ul><li>target:目标值。</li><li>key：目标的Key值。</li><li>value：要改变的值。</li><li>receiver：改变前的原始值。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//set属性</span></span><br><span class="line"><span class="keyword">var</span> pro = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;</span><br><span class="line">    add:<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>+val;</span><br><span class="line">    &#125;,</span><br><span class="line">    name:<span class="string">'小鹿'</span></span><br><span class="line">&#125;,&#123;</span><br><span class="line">    get:<span class="function"><span class="keyword">function</span>(<span class="params">target,key</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"你好"</span>)</span><br><span class="line">        <span class="keyword">return</span> target[key];</span><br><span class="line">    &#125;,</span><br><span class="line">    set:<span class="function"><span class="keyword">function</span>(<span class="params">target,key,val,receiver</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'seting &amp;&#123;k&#125; = $&#123;value&#125;'</span>);</span><br><span class="line">        <span class="keyword">return</span> target[key] =  val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(pro.name);</span><br><span class="line">pro.name = <span class="string">"xiaolu"</span></span><br><span class="line"><span class="built_in">console</span>.log(pro.name)</span><br></pre></td></tr></table></figure><h6 id="▉-apply的使用"><a href="#▉-apply的使用" class="headerlink" title="▉ apply的使用"></a>▉ apply的使用</h6><blockquote><p>apply 的作用是调用内部的方法，它使用在方法体是一个匿名函数时。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">get = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'I am xiaolu'</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> handler = &#123;</span><br><span class="line">    apply(target, ctx, args) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'do apply'</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.apply(...arguments);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pro = <span class="keyword">new</span> <span class="built_in">Proxy</span>(get, handler);</span><br><span class="line"><span class="built_in">console</span>.log(pro());</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Proxy 预处理的强大之处！&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/ES6/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>玩转 ES6 之【map】</title>
    <link href="http://yoursite.com/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E3%80%90map%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/21/玩转 ES6 【map】/</id>
    <published>2019-03-21T11:13:25.138Z</published>
    <updated>2019-03-21T11:24:23.824Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>map是一种灵活，简单的适合一对一查找的数据结构。 </p><a id="more"></a><h3 id="1、Json和map格式的对比"><a href="#1、Json和map格式的对比" class="headerlink" title="1、Json和map格式的对比"></a>1、Json和map格式的对比</h3><blockquote><p>map的效率和灵活性更好 ,可以把它看成一种特殊的键值对，但你的key可以设置成数组，值也可以设置成字符串。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> json = &#123;</span><br><span class="line">    name:<span class="string">'xiaolu'</span>,</span><br><span class="line">    skill:<span class="string">'小鹿'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(json.name);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(json,<span class="string">'123'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(map)</span><br></pre></td></tr></table></figure><h3 id="2、Map-的增删改"><a href="#2、Map-的增删改" class="headerlink" title="2、Map 的增删改"></a>2、Map 的增删改</h3><h6 id="▉-get-取值"><a href="#▉-get-取值" class="headerlink" title="▉ get 取值"></a>▉ get 取值</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(map.get(json))</span><br></pre></td></tr></table></figure><h6 id="▉-delete-删除"><a href="#▉-delete-删除" class="headerlink" title="▉ delete 删除"></a>▉ delete 删除</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.delete(json)</span><br><span class="line">console.log(map)</span><br></pre></td></tr></table></figure><h6 id="▉-has-查找"><a href="#▉-has-查找" class="headerlink" title="▉ has 查找"></a>▉ has 查找</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(map.has(json))</span><br></pre></td></tr></table></figure><h6 id="▉-清楚所有元素clear"><a href="#▉-清楚所有元素clear" class="headerlink" title="▉  清楚所有元素clear"></a>▉  清楚所有元素clear</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(map.clear)</span><br></pre></td></tr></table></figure><h6 id="▉-size-属性"><a href="#▉-size-属性" class="headerlink" title="▉ size 属性"></a>▉ size 属性</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(map.size)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;map是一种灵活，简单的适合一对一查找的数据结构。 &lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/ES6/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>玩转 ES6 之【set和WeakSet数据结构】</title>
    <link href="http://yoursite.com/2019/03/21/%E7%8E%A9%E8%BD%AC%20ES6%20%E4%B9%8B%E3%80%90set%E5%92%8CWeakSet%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91/"/>
    <id>http://yoursite.com/2019/03/21/玩转 ES6 之【set和WeakSet数据结构】/</id>
    <published>2019-03-21T10:51:19.422Z</published>
    <updated>2019-03-21T11:13:20.323Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ES6中的数据结构，很有用处的新知识！</p><a id="more"></a><h3 id="1、set的声明"><a href="#1、set的声明" class="headerlink" title="1、set的声明"></a>1、set的声明</h3><blockquote><p>Set和Array 的区别是 Set 不允许内部有重复的值，如果有只显示一个，相当于去重。 </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Set</span></span><br><span class="line"><span class="keyword">let</span> setArr = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'小鹿'</span>,<span class="string">'xiaolu'</span>,<span class="string">'三本'</span>])</span><br><span class="line"><span class="built_in">console</span>.log(setArr)</span><br></pre></td></tr></table></figure><h3 id="2、Set值的增删查"><a href="#2、Set值的增删查" class="headerlink" title="2、Set值的增删查"></a>2、Set值的增删查</h3><h6 id="▉-add-增加"><a href="#▉-add-增加" class="headerlink" title="▉ add 增加"></a>▉ add 增加</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setArr = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'小鹿'</span>,<span class="string">'xiaolu'</span>,<span class="string">'三本'</span>])</span><br><span class="line"><span class="built_in">console</span>.log(setArr)</span><br><span class="line">setArr.add(<span class="string">'哈哈'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(setArr)</span><br></pre></td></tr></table></figure><h6 id="▉-delete-删除"><a href="#▉-delete-删除" class="headerlink" title="▉ delete 删除"></a>▉ delete 删除</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setArr = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'小鹿'</span>,<span class="string">'xiaolu'</span>,<span class="string">'三本'</span>])</span><br><span class="line"><span class="built_in">console</span>.log(setArr)</span><br><span class="line"></span><br><span class="line">setArr.add(<span class="string">'哈哈'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(setArr)</span><br><span class="line"></span><br><span class="line">setArr.delete(<span class="string">'小鹿'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(setArr)</span><br></pre></td></tr></table></figure><h6 id="▉-has-查找"><a href="#▉-has-查找" class="headerlink" title="▉ has 查找"></a>▉ has 查找</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setArr = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'小鹿'</span>,<span class="string">'xiaolu'</span>,<span class="string">'三本'</span>])</span><br><span class="line"><span class="built_in">console</span>.log(setArr.has(<span class="string">'xiaolu'</span>))</span><br></pre></td></tr></table></figure><h6 id="▉-clear-清空"><a href="#▉-clear-清空" class="headerlink" title="▉ clear 清空"></a>▉ clear 清空</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setArr.clear();</span><br><span class="line"><span class="built_in">console</span>.log(setArr)</span><br></pre></td></tr></table></figure><h6 id="▉-set的循环-for…of…循环："><a href="#▉-set的循环-for…of…循环：" class="headerlink" title="▉ set的循环 for…of…循环："></a>▉ set的循环 for…of…循环：</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setArr = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'小鹿'</span>,<span class="string">'xiaolu'</span>,<span class="string">'三本'</span>])</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> setArr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="▉-size属性"><a href="#▉-size属性" class="headerlink" title="▉ size属性"></a>▉ size属性</h6><blockquote><p>返回 set 中的数量。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(setArr.size)</span><br></pre></td></tr></table></figure><h6 id="▉-forEach循环"><a href="#▉-forEach循环" class="headerlink" title="▉ forEach循环"></a>▉ forEach循环</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setArr.forEach(</span><br><span class="line">    (value)=&gt;&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="3、WeakSet的声明"><a href="#3、WeakSet的声明" class="headerlink" title="3、WeakSet的声明"></a>3、WeakSet的声明</h3><blockquote><p><strong>注意：</strong>这里需要注意的是，如果你直接在new 的时候就放入值，将报错， 而且不能传入重复的值。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> weakObj = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:<span class="string">'xiaolu'</span>,<span class="attr">b</span>:<span class="string">'小鹿'</span>&#125;</span><br><span class="line">weakObj.add(obj);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(weakObj)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ES6中的数据结构，很有用处的新知识！&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/ES6/"/>
    
    
      <category term="前端" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ES6" scheme="http://yoursite.com/tags/ES6/"/>
    
  </entry>
  
</feed>
